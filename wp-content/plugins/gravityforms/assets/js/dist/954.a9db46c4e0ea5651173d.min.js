"use strict";(self.webpackChunkgravityforms=self.webpackChunkgravityforms||[]).push([[954],{2954:function(t,r,e){e.d(r,{Z:function(){return P}});var n=e(7169),a=e(8950),o=e(2975),c=e.n(o),s=e(4203),i=e(4017),u=e(1583),f=e(6655);function p(t,r,e){var n=new window.FormData;return function t(r,a){if(!function(t){return Array.isArray(e)&&e.some((function(r){return r===t}))}(a))if(a=a||"",r instanceof window.File)n.append(a,r);else if(Array.isArray(r))for(var o=0;o<r.length;o++)t(r[o],a+"["+o+"]");else if("object"===(0,f.Z)(r)&&r)for(var c in r)r.hasOwnProperty(c)&&t(r[c],""===a?c:a+"."+c);else null!=r&&n.append(a,r)}(t,r),n}var l=e(2124),d=e(4506),h=e.n(d),y=e(7293),w=e.n(y),b=e(5212),v=e.n(b),O=e(2577),g=function t(r){return Object.entries(r).map((function(r){var e=(0,O.Z)(r,2),n=e[0],a=e[1];return[n,a&&"object"===(0,f.Z)(a)?t(a):a]})).reduce((function(t,r){var e=(0,O.Z)(r,2),n=e[0],a=e[1];return null==a||(t[n]=a),t}),{})};function j(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?j(Object(e),!0).forEach((function(r){(0,n.Z)(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):j(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function P(t){return x.apply(this,arguments)}function x(){return x=(0,a.Z)(c().mark((function t(r){var e,n,a,o,f,d,y,b,O,j,P,x=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=x.length>1&&void 0!==x[1]?x[1]:{},n=x.length>2&&void 0!==x[2]?x[2]:{},a=m({method:"GET"},n),o=(0,s.Z)(["body"],a),f="GET"!==o.method&&"HEAD"!==o.method,d=o.baseUrl,f&&(y=n.body?n.body:{},e[r].nonce&&(y._ajax_nonce=e[r].nonce),e[r].action&&(y.action=e[r].action),o.body=p(y)),o.json&&(o.body=JSON.stringify(o.json)),b=o.params||{},!f&&e[r].nonce&&(b._ajax_nonce=e[r].nonce),!f&&e[r].action&&(b.action=e[r].action),b&&!(0,i.Z)(b)&&(O=g(b),j=(0,l.stringify)(O,{arrayFormat:"bracket"}),d="".concat(d,"?").concat(j)),P=o.headers?m({},o.headers):{},Date.now(),t.abrupt("return",window.fetch(d,m(m({},o),{},{headers:P})).then((function(t){return t.ok?t.text().then((function(r){try{var e=JSON.parse(r);Date.now();return{data:e,status:t.status,totalPages:t.headers.get("x-wp-totalpages"),totalPosts:t.headers.get("x-wp-total")}}catch(e){var n=w()(h()(v()(r))),a=new Error("Invalid server response. ".concat(n));throw a.detail={url:d,data:n,status:t.status,error:e,text:r},a}})):(0,u.Z)(t.headers.get("Content-Type"),"application/json")?t.text().then((function(r){try{return{data:JSON.parse(r),status:t.status}}catch(a){var e=w()(h()(v()(r))),n=new Error("Invalid server response. ".concat(e));throw n.detail={url:d,data:e,status:t.status,error:a,text:r},n}})):t.text().then((function(r){var e=w()(h()(v()(r))),n=new Error("Unknown server response. ".concat(e));throw n.detail={url:d,data:e,status:t.status},n}))})).catch((function(t){return{error:t}})));case 18:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}}}]);