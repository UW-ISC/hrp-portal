(self.webpackJSONPwpmdb=self.webpackJSONPwpmdb||[]).push([[179],{51286:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var n,r=a(4665);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}const i=e=>r.createElement("svg",l({width:12,height:10,viewBox:"0 0 12 7",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"accordion_collapsed_default_active",transform:"translate(-1188 -25)",fill:"#000",fillRule:"nonzero"},r.createElement("g",{id:"arrow_down",transform:"translate(1188 25)"},r.createElement("path",{d:"m3.16 3.893 4.9 4.945a.548.548 0 0 0 .779 0 .558.558 0 0 0 0-.785L4.327 3.5l4.511-4.552a.559.559 0 0 0 0-.786.548.548 0 0 0-.779 0l-4.9 4.945a.564.564 0 0 0 0 .786Z",id:"arrow",transform:"rotate(-90 6 3.5)"}))))));a.p},73042:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var n,r=a(4665);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}const i=e=>r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16"},e),n||(n=r.createElement("path",{fill:"#999",d:"m9.188 8 3.566-3.565a.84.84 0 1 0-1.189-1.189L8 6.812 4.435 3.246a.84.84 0 1 0-1.189 1.189L6.812 8l-3.566 3.565a.84.84 0 0 0 1.189 1.189L8 9.188l3.565 3.566a.84.84 0 1 0 1.189-1.189L9.188 8Z"})));a.p},94213:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var n,r=a(4665);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}const i=e=>r.createElement("svg",l({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("g",{id:"icon-export"},r.createElement("path",{id:"Icon",d:"M12.833 5.25v-3.5a.581.581 0 0 0-.583-.583.578.578 0 0 0-.583.583v3.5c0 .32.256.583.583.583.32 0 .583-.262.583-.583Zm-.583-4.083h-3.5a.578.578 0 0 0-.583.583c0 .32.256.583.583.583h3.5c.32 0 .583-.262.583-.583a.581.581 0 0 0-.583-.583Zm-.414.169L6.586 6.58a.576.576 0 0 0-.006.822.58.58 0 0 0 .822 0l5.25-5.25a.588.588 0 0 0-.828-.834l.012.018ZM5.827 1.16H4.544c-1.347 0-1.662.023-2.112.25-.443.222-.799.578-1.02 1.016-.234.443-.257.764-.257 2.105v4.9c0 1.342.023 1.657.25 2.106.222.438.578.794 1.016 1.015.443.228.764.251 2.106.251h4.9c1.341 0 1.656-.029 2.106-.257a2.35 2.35 0 0 0 1.014-1.02c.228-.45.251-.77.251-2.112V8.132a.581.581 0 0 0-.583-.584.578.578 0 0 0-.583.584v1.283c0 1.103-.024 1.37-.129 1.575a1.198 1.198 0 0 1-.513.508c-.21.104-.473.122-1.58.122h-4.9c-1.11 0-1.378-.023-1.582-.128a1.18 1.18 0 0 1-.513-.514c-.11-.21-.128-.472-.128-1.58v-4.9c0-1.109.017-1.377.122-1.581.111-.222.286-.403.508-.514.204-.11.466-.128 1.575-.128h1.283c.32 0 .583-.262.583-.583a.581.581 0 0 0-.583-.584l.052.053Z"}))));a.p},9712:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var n,r=a(4665);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}const i=e=>r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),n||(n=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:12,cy:12,r:8,fill:"#999"}),r.createElement("path",{fill:"#EEE",fillRule:"nonzero",d:"M12.75 15h-1.5a.24.24 0 0 0-.175.075.24.24 0 0 0-.075.175v1.5a.24.24 0 0 0 .075.175.24.24 0 0 0 .175.075h1.5a.24.24 0 0 0 .175-.075.24.24 0 0 0 .075-.175v-1.5a.24.24 0 0 0-.075-.175.24.24 0 0 0-.175-.075zm1.984-5.383a2.758 2.758 0 0 0-.688-.854 3.493 3.493 0 0 0-.948-.555A2.832 2.832 0 0 0 12.052 8c-1.316 0-2.32.594-3.012 1.781a.271.271 0 0 0 .065.355l1.064.837c.057.036.11.054.163.054a.25.25 0 0 0 .201-.107c.312-.402.543-.659.695-.77.186-.13.42-.195.7-.195.265 0 .498.072.699.215.201.142.302.308.302.495 0 .21-.054.38-.163.51-.108.128-.29.253-.545.374a2.752 2.752 0 0 0-.928.727c-.282.328-.293.674-.293 1.044v.302c0 .085.023.168.068.25.046.084.1.125.166.125L12.74 14c.07 0 .13-.035.182-.104a.357.357 0 0 0 .078-.217c0-.112-.018-.262.1-.449a1.29 1.29 0 0 1 .446-.435c.168-.099.3-.178.396-.238a3.3 3.3 0 0 0 .373-.291c.154-.134.273-.267.357-.399.084-.132.16-.302.227-.512.068-.21.101-.436.101-.677 0-.37-.089-.724-.266-1.06z"}))));a.p},69479:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var n,r=a(4665);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}const i=e=>r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16"},e),n||(n=r.createElement("path",{fill:"#999",d:"m3.562 7.245-.015.003h6.691l-2.104-2.03a.517.517 0 0 1 0-.749l.328-.315c.103-.1.24-.154.386-.154.146 0 .284.054.387.154l3.606 3.472c.103.1.16.232.159.373a.512.512 0 0 1-.16.374l-3.605 3.473a.554.554 0 0 1-.387.154.554.554 0 0 1-.386-.154l-.328-.315a.512.512 0 0 1-.159-.372c0-.141.056-.266.16-.365l2.127-2.042H3.555A.556.556 0 0 1 3 8.212v-.447c0-.29.26-.52.562-.52Z"})));a.p},95702:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var n,r=a(4665);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l.apply(this,arguments)}const i=e=>r.createElement("svg",l({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("path",{d:"M7 10.5a.56.56 0 0 0 .411-.166.558.558 0 0 0 .167-.411.56.56 0 0 0-.166-.412A.558.558 0 0 0 7 9.345a.56.56 0 0 0-.411.166.558.558 0 0 0-.167.411c0 .164.056.3.166.412.111.11.248.166.412.166Zm-.473-2.678h1.05V3.396h-1.05v4.428ZM7.005 14a6.776 6.776 0 0 1-2.722-.551 7.114 7.114 0 0 1-2.227-1.505A7.11 7.11 0 0 1 .551 9.715 6.789 6.789 0 0 1 0 6.991c0-.966.184-1.874.551-2.724.368-.85.87-1.59 1.505-2.22A7.185 7.185 0 0 1 4.285.551 6.789 6.789 0 0 1 7.009 0c.966 0 1.874.184 2.724.551.85.368 1.59.866 2.22 1.496a7.07 7.07 0 0 1 1.496 2.223c.367.852.551 1.76.551 2.725 0 .966-.184 1.873-.551 2.722a7.15 7.15 0 0 1-1.496 2.223 7.065 7.065 0 0 1-2.223 1.505A6.77 6.77 0 0 1 7.005 14Z",fill:"#E94D49"})));a.p},49275:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(4665),r=a(80401);const l=e=>{var t=e.link,a=e.content,l=e.utmContent,i=e.utmCampaign,s=e.anchorLink,o=e.hasArrow,c=void 0===o||o;return n.createElement(r.Z,{link:t,content:a,utmContent:l,utmCampaign:i,classes:"docs-link",hasArrow:c,anchorLink:s})}},80401:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(4665),r=a(42233),l=a(94213),i=a(29942);const s=e=>{var t=e.link,a=e.classes,s=e.content,o=e.utmContent,c=e.utmCampaign,p=e.utmSource,d=e.utmMedium,u=e.hasArrow,m=void 0===u||u,_=e.screenReaderText,g=e.anchorLink,f=e.iconPosition,h=void 0===f?"outside":f,v={source:null!==p&&void 0!==p?p:{pro:"wp-migrate-pro",lite:"wp-migrate-lite",wpe:"wpesm_plugin"}[(0,i.w6)()],medium:null!==d&&void 0!==d?d:(0,i.aE)()?"referral":"plugin",campaign:c,content:o},b=()=>{var e=[];for(var t in v)if(v.hasOwnProperty(t)){if(void 0===v[t])return!1;e.push("utm_".concat(t,"=").concat(v[t]))}return!!e.length&&e.join("&")};return n.createElement("div",{className:"link-wrapper"},n.createElement("a",{className:a,href:(()=>{var e=t;return b()&&(e+="?"+b()),g&&(e+="#"+g),e})(),target:"__blank",rel:"NOFOLLOW"},s,_&&n.createElement("span",{className:"screen-reader-text"}," ",_),m&&n.createElement("span",{className:"screen-reader-text"}," ",(0,r.__)("(opens in a new tab)","wp-migrate-db")),m&&"inside"===h&&n.createElement(l.r,{className:"new-tab","aria-hidden":!0})),m&&"outside"===h&&n.createElement(l.r,{className:"new-tab","aria-hidden":!0}))}},49736:(e,t,a)=>{"use strict";a.d(t,{B:()=>r});var n=a(42233),r={tables:{all:(0,n.__)("All tables","wp-migrate-db"),selected:(0,n.__)("Selected tables","wp-migrate-db")},backups:{none:(0,n.__)("No backup","wp-migrate-db"),all:(0,n.__)("Backup all tables","wp-migrate-db"),migration:(0,n.__)("Backup tables selected for migration","wp-migrate-db"),selected:(0,n.__)("Backup selected tables","wp-migrate-db")},post_types:{all:(0,n.__)("All post types","wp-migrate-db"),selected:(0,n.__)("Selected post types","wp-migrate-db")}}},91828:(e,t,a)=>{"use strict";a.d(t,{B:()=>r});var n=a(42233),r={push:(0,n.__)("Push","wp-migrate-db"),pull:(0,n.__)("Pull","wp-migrate-db"),backup_local:(0,n.__)("Backup Database","wp-migrate-db"),import:(0,n.__)("Import Database","wp-migrate-db"),find_replace:(0,n.__)("Find & Replace","wp-migrate-db"),savefile:(0,n.__)("Export Database","wp-migrate-db")}},42222:(e,t,a)=>{"use strict";a.d(t,{$s:()=>m,TJ:()=>o,UJ:()=>s,er:()=>d,i2:()=>p,q5:()=>u});var n=a(42233),r=Math.pow(1e3,3),l=Math.pow(1e3,2),i=1e3,s=e=>{if(e>=r){var t=e/r;return(Math.round(100*t)/100).toFixed(2)}if(e>=l){var a=e/l;return(Math.round(100*a)/100).toFixed(2)}return e<i?e.toFixed(2):(e/i).toFixed(2)},o=e=>e>=r?"GB":e>=l?"MB":e<i?"B":"KB",c=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Math.floor(e/t)%60,r=n.toString();return a&&(r="0"+r),n>=10?r.slice(-2):r.toString()},p=function(e){return c(e,1e3,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},d=function(e){return c(e,6e4,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},u=e=>{var t=(e/1e3).toFixed(2),a=d(e/1e3),r=(0,n.gB)("%s %s%s",t,(0,n.__)("sec","wp-migrate-db"),t>1?"s":""),l=(0,n.gB)("%s %s%s",a,(0,n.__)("min","wp-migrate-db"),a>1?"s":"");return(0,n.gB)("%s%s",a>0?l:""," ".concat(r))},m=function(e){return c(e,36e5,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}},81294:(e,t,a)=>{"use strict";function n(e,t,a,n){return"selected"===a.tables_option?a.tables_selected:"pull"===n?t.prefixed_tables:e.this_prefixed_tables}a.d(t,{O:()=>n})},29214:(e,t,a)=>{"use strict";a.d(t,{Z:()=>O});var n,r,l,i=a(4665),s=a(42233);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}const c=e=>i.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("path",{d:"M15.838 13.852 9.27.79C8.904.071 8.05-.208 7.366.166a1.38 1.38 0 0 0-.6.616L.165 13.867c-.366.71-.098 1.598.593 1.972.197.11.423.161.649.161h13.183c.776 0 1.411-.66 1.411-1.466a1.49 1.49 0 0 0-.162-.682Z",fill:"#FFB92B"})),r||(r=i.createElement("rect",{x:7,y:5,width:2,height:6,rx:1,fill:"#fff"})),l||(l=i.createElement("circle",{cx:8,cy:13,r:1,fill:"#fff"})));a.p;var p,d;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}const m=e=>i.createElement("svg",u({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),p||(p=i.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Z",fill:"#46B450"})),d||(d=i.createElement("path",{d:"M7.95 11.247a1.01 1.01 0 0 1-1.433 0l-2.22-2.234a1.024 1.024 0 0 1 0-1.441 1.01 1.01 0 0 1 1.433 0l1.323 1.33c.1.1.262.1.362 0L10.997 5.3a1.01 1.01 0 0 1 1.434 0 1.023 1.023 0 0 1 0 1.441l-4.48 4.507Z",fill:"#fff"})));a.p;var _,g;function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f.apply(this,arguments)}const h=e=>i.createElement("svg",f({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),_||(_=i.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Z",fill:"#0968FF"})),g||(g=i.createElement("path",{d:"M9.026 4.111c0-.67-.549-1.211-1.211-1.211a1.21 1.21 0 0 0-1.211 1.211c0 .662.54 1.211 1.21 1.211a1.22 1.22 0 0 0 1.212-1.21ZM6.519 13.1H9.48c.463 0 .841-.378.841-.84 0-.471-.379-.841-.84-.841h-.556a.088.088 0 0 1-.085-.086V7.815c0-.878-.712-1.582-1.582-1.582h-.74c-.47 0-.841.371-.841.841 0 .462.37.84.84.84h.556c.044 0 .085.04.085.086v3.333c0 .018-.008.04-.027.058a.086.086 0 0 1-.058.027H6.52c-.47 0-.841.371-.841.841 0 .462.37.841.84.841Z",fill:"#fff",stroke:"#fff",strokeWidth:.2})));a.p;var v,b,E;function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w.apply(this,arguments)}const y=e=>i.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),v||(v=i.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Z",fill:"#DC3232"})),b||(b=i.createElement("rect",{x:7,y:3.5,width:2,height:6,rx:1,fill:"#fff"})),E||(E=i.createElement("circle",{cx:8,cy:11.5,r:1,fill:"#fff"})));a.p;a(19987);const O=e=>{var t=e.type,a=e.children,n={warning:c,success:m,info:h,danger:y},r={warning:(0,s.__)("Warning","wp-migrate-db"),success:(0,s.__)("Success","wp-migrate-db"),info:(0,s.__)("Information","wp-migrate-db"),danger:(0,s.__)("Error","wp-migrate-db")},l=n[t],o="migrate-notice ".concat(t);return i.createElement("div",{className:o},i.createElement(l,{"aria-label":r[t]}),i.createElement("div",{className:"migrate-notice-content"},a))}},80850:(e,t,a)=>{"use strict";a.d(t,{m:()=>n});var n=e=>{if(!e||!e.current_task)return e;var t=e.current_task,a=t.total,n=t.migration_id;return{stages:t.stages,migration_id:n,total:a,initialized:t.initialized,started_at:t.started_at,current_task:e.current_task,migration:e}}},46415:(e,t,a)=>{"use strict";a.d(t,{Uj:()=>f,OP:()=>g,X2:()=>h});var n,r,l=a(79043),i=a(4665),s=a(42233),o=a(96480),c=a.n(o);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p.apply(this,arguments)}const d=e=>i.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24"},e),n||(n=i.createElement("defs",null,i.createElement("circle",{id:"license-unchecked-a",cx:8,cy:8,r:8}))),r||(r=i.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(4 4)"},i.createElement("use",{fill:"#dc3232",xlinkHref:"#license-unchecked-a"}),i.createElement("g",{fill:"#FFF",transform:"translate(4 4)"},i.createElement("rect",{width:2,height:8,x:3,rx:1,transform:"rotate(-45 4 4)"}),i.createElement("rect",{width:2,height:8,x:3,rx:1,transform:"rotate(-135 4 4)"})))));a.p;var u=a(15925),m=a(35416);function _(e,t){return e?{left:e.width+t}:{}}var g=e=>{var t=e.position,a=e.condition,n=e.errorMsg,r=e.spinnerCond;return i.createElement(i.Fragment,null,r&&i.createElement("div",{className:"relative"},i.createElement(m.Q,{className:"settings-spinner"})),i.createElement(u.u,{in:"success"===a},i.createElement(h,(0,l.Z)({locationInfo:t,classNames:"toggle-success"},e))),i.createElement(u.u,{in:"errored"===a},i.createElement(f,(0,l.Z)({error:n,locationInfo:t,classNames:"toggle-error"},e))))},f=e=>{var t=e.offset||12,a=_(e.locationInfo,t);return i.createElement("div",{className:"settings-tooltip ".concat(e.classNames?e.classNames:""),style:a},i.createElement("div",{className:"tooltip-saved flex-container",key:"ajax-error-".concat(c()())},i.createElement(i.Fragment,null,i.createElement(d,null)," ",e.error)))},h=e=>{var t=e.offset||12,a=_(e.locationInfo,t);return i.createElement("div",{className:"settings-tooltip ".concat(e.classNames?e.classNames:""),style:a},i.createElement("div",{className:"tooltip-saved flex-container",key:"ajax-error-".concat(c()())},i.createElement(i.Fragment,null,i.createElement(m.en,null)," ",i.createElement("div",null,(0,s.__)("Saved","wp-migrate-db")))))}},15925:(e,t,a)=>{"use strict";a.d(t,{u:()=>s});var n=a(4665),r=a(91490),l=a(96480),i=a.n(l),s=e=>n.createElement("div",{className:"relative"},n.createElement(r.Z,{in:e.in,timeout:e.timeout||500,classNames:"settings-node",unmountOnExit:!0,id:i()()},e.children))},27114:(e,t,a)=>{"use strict";a.d(t,{Y:()=>r});var n=a(42233);function r(e){var t="";return"string"===typeof e.error_message?t=e.error_message:"object"===typeof e.error_message&&"string"===typeof e.error_message.message?t=e.error_message.message:"string"===typeof e?t=e:"string"===typeof e.data?t=e.data:"string"===typeof e.message?t=e.message.message:"undefined"!==typeof e.wpmdb_error&&(t=e.body),""!==t?t:(0,n.__)("An unknown error occurred. Please check your PHP error log or contact support.","wp-migrate-db")}},78677:(e,t,a)=>{"use strict";a.d(t,{Z:()=>B});var n,r,l=a(17186),i=a(4665),s=a(75338),o=a(42233),c=a(30348),p=a(96480),d=a.n(p),u=a(29942),m=a(63708);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_.apply(this,arguments)}const g=e=>i.createElement("svg",_({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("circle",{cx:6,cy:6,r:6,fill:"gray"})),r||(r=i.createElement("path",{d:"M5.538 6.138c.304-.549.888-.872 1.228-1.358.359-.509.158-1.46-.86-1.46-.668 0-.995.505-1.134.923l-1.022-.43c.28-.84 1.042-1.563 2.151-1.563.928 0 1.563.422 1.887.951.276.454.438 1.303.012 1.935-.474.698-.928.911-1.172 1.361-.1.182-.139.3-.139.885H5.35c-.004-.308-.052-.81.19-1.244Zm1.157 2.823c0 .434-.356.789-.79.789a.792.792 0 0 1-.79-.79c0-.434.356-.789.79-.789.434 0 .79.355.79.79Z",fill:"#fff"})));a.p;var f,h;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v.apply(this,arguments)}const b=e=>i.createElement("svg",v({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),f||(f=i.createElement("circle",{cx:6,cy:6,r:6,fill:"#46B450"})),h||(h=i.createElement("path",{d:"M9.75 6.536H6.536V9.75H5.464V6.536H2.25V5.464h3.214V2.25h1.072v3.214H9.75v1.072Z",fill:"#fff"})));a.p;var E,w;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y.apply(this,arguments)}const O=e=>i.createElement("svg",y({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),E||(E=i.createElement("circle",{cx:6,cy:6,r:6,fill:"#46B450"})),w||(w=i.createElement("path",{d:"M6.5 9.5V3.915l2.44 2.44a.504.504 0 0 0 .71 0 .498.498 0 0 0 0-.705L6.355 2.355a.498.498 0 0 0-.705 0l-3.3 3.29a.498.498 0 1 0 .705.705L5.5 3.915V9.5c0 .275.225.5.5.5s.5-.225.5-.5Z",fill:"#fff"})));a.p;var T,S;function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N.apply(this,arguments)}const Z=e=>i.createElement("svg",N({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),T||(T=i.createElement("circle",{cx:6,cy:6,r:6,fill:"#DC3232"})),S||(S=i.createElement("path",{d:"M5.5 2.5v5.585l-2.44-2.44a.504.504 0 0 0-.71 0 .498.498 0 0 0 0 .705l3.295 3.295c.195.195.51.195.705 0L9.645 6.35a.498.498 0 1 0-.705-.705L6.5 8.085V2.5c0-.275-.225-.5-.5-.5s-.5.225-.5.5Z",fill:"#fff"})));a.p;var P,k;function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},x.apply(this,arguments)}const R=e=>i.createElement("svg",x({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),P||(P=i.createElement("circle",{cx:6,cy:6,r:6,fill:"gray"})),k||(k=i.createElement("path",{d:"M2.5 6.5h5.585l-2.44 2.44a.504.504 0 0 0 0 .71c.195.195.51.195.705 0l3.295-3.295a.498.498 0 0 0 0-.705l-3.29-3.3a.498.498 0 1 0-.705.705L8.085 5.5H2.5c-.275 0-.5.225-.5.5s.225.5.5.5Z",fill:"#fff"})));a.p;const A=e=>{var t=e.content,a=e.type;return i.createElement(i.Fragment,null,i.createElement("span",{className:"version-tooltip"},(0,s.ZP)(t)),i.createElement("div",{className:"compare-icon ".concat(a)},(()=>{switch(a){case"add":return i.createElement(b,null);case"up":return i.createElement(O,null);case"down":return i.createElement(Z,null);case"equal":return i.createElement(R,null);default:return i.createElement(g,null)}})()))};const C=e=>{var t=e.item,a=e.type,n=t.sourceVersion,r=t.destinationVersion,l=(0,m.n)(n,r),s="themes"===a?"theme":"plugin";return i.createElement("span",{className:"version-compare"},i.createElement(A,{content:(e=>{switch(e){case"add":return(0,o.gB)((0,o.__)("New %s will be added at version <strong>%s</strong>","wp-migrate-db"),s,n);case"up":return(0,o.gB)((0,o.__)("%s will be upgraded from <strong>%s</strong> to <strong>%s</strong>","wp-migrate-db"),s,r,n);case"equal":return(0,o.gB)((0,o.__)("%s will remain the same at version <strong>%s</strong>","wp-migrate-db"),s,n);case"down":return(0,o.gB)((0,o.__)("%s will be downgraded from <strong>%s</strong> to <strong>%s</strong>","wp-migrate-db"),s,r,n);case"none":return(0,o.gB)((0,o.__)("No version detected in %s header","wp-migrate-db"),s);default:return""}})(l),type:l}))};var I,D=c.ZP.ul(I||(I=(0,l.Z)(["\n  height: 180px;\n  overflow-y: scroll;\n  resize: vertical;\n  margin: 15px 0 0 0;\n  border: 1px solid #d6d6d6;\n  border-radius: 4px;\n  padding: 0.5rem;\n  label {\n    margin: 0.25rem 0;\n    display: block;\n  }\n"]))),M=null,L=function(e,t,a,n,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6?arguments[6]:void 0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";function m(e){var r=e.target.value,l=-1===a.indexOf(r),i=(0,u.XV)(a,r);!0===e.nativeEvent.shiftKey&&null!==M&&(i=((e,t,a,n)=>{var r=a.indexOf(e),l=M<=r?M:r,i=M>r?M:r,s=a.slice(l,i+1);return t?(0,u.VU)(n,s):(0,u.fg)(n,s)})(r,l,t,a)),M=t.indexOf(r),n(i)}var _="";return e.map(((e,t)=>{Object.keys(l).length>0&&(_=void 0!==typeof l[e]?l[e]:"");var n="string"===typeof e?"checkbox-".concat(r,"-").concat(e):"checkbox-".concat(r,"-").concat(e.path),u="string"===typeof e?e:e.path,g="string"===typeof e?e:e.name;return i.createElement("li",{"data-value":u,key:d()()},i.createElement("input",{id:n,type:"checkbox",value:u,onChange:m,checked:a.includes(u),disabled:o}),i.createElement("label",{htmlFor:n,key:d()()},i.createElement("span",{className:"name"},g),i.createElement("span",{className:"extra-label"},(0,s.ZP)(_)),e.hasOwnProperty("sourceVersion")&&"except"!==p&&i.createElement(C,{item:e,type:c})))}))},F=e=>{var t=e.visible,a=e.iterator,n=e.extraLabels,r=e.selected,l=e.disabled,s=e.id,c=e.options?e.options:[],p=void 0===e.showOptions||e.showOptions,u=d()(),m=(0,i.useMemo)((()=>a?a():L(c,(e=>"string"===typeof e[0]?e:e.map((e=>e.path)))(c),r,e.stateManager,u,n,l,e.type,e.themePluginOption)),[a,r]);return i.createElement("div",{className:"select-group"},e.ToggleButtons||"",t&&i.createElement("div",{className:"select-wrap"},i.createElement(D,{id:s,className:e.className?e.className:""},m),p&&i.createElement("p",{className:"multiselect-options"},i.createElement("button",{onClick:()=>e.updateSelected(c)},(0,o.__)("Select All","wp-migrate-db")),i.createElement("button",{onClick:()=>{e.updateSelected([]),M=null}},(0,o.__)("Deselect All","wp-migrate-db"))," ",i.createElement("button",{onClick:()=>e.selectInverse()},(0,o.__)("Invert Selection","wp-migrate-db"))),e.afterList||""))};const B=i.memo(F)},85571:(e,t,a)=>{"use strict";a.d(t,{Z:()=>N});var n=a(79043),r=a(86552),l=a(88368),i=a(4665),s=a(12544),o=a.n(s),c=a(62295),p=a(22633),d=a(76178),u=a(51286),m=e=>{var t=e.enabled,a=e.panelName,n=e.toggle,r=e.disabled,l=(0,c.I0)();return i.createElement("input",{type:"checkbox",onChange:e=>{if(r)return e.preventDefault(),!1;l(t?(0,p.I4)(a):(0,p.LX)(a)),l(n)},checked:t,id:"enable-".concat(a),"aria-labelledby":"panel-title-".concat(a)})},_=e=>{var t=e.preTitle,a=e.childPanel,n=e.panelName,r=e.title,l=e.enabled,s=e.toggle,o=e.disabled,c="undefined"!==typeof e.hasInput&&e.hasInput,p=a?"h3":"h2";return i.createElement(i.Fragment,null,t,c&&i.createElement(m,{enabled:l,panelName:n,toggle:s,disabled:o}),i.createElement(p,{id:"panel-title-".concat(n),className:"panel-title"},r))};var g=e=>{var t=e.panelName,a=e.childPanel,n=e.toggleClassName;if(e.hideArrow)return null;var r=a?" white-arrow":"";return i.createElement("div",{className:"button-wrap"},i.createElement("button",{"aria-labelledby":"panel-title-".concat(t),"aria-describedby":"panel-summary-".concat(t)},i.createElement(u.r,{className:"".concat(n).concat(r," panel-arrow")})))},f=e=>{var t=e.childPanel,a=e.panelOpen,n=e.panelsOpen,r=e.preTitle,l=e.forceDivider,s=e.panelName,o=e.registeredPanels,c=e.hideArrow,p=e.title,d=a?"open":"closed",u=()=>e.panelSummary?i.createElement("div",{id:"panel-summary-".concat(s),className:"panel-summary"},e.panelSummary):null,m=function(e){var t=e.intent,a=e.panelName,n=e.connected,r=e.file_uploaded,l=["push","pull"].includes(t);return"import"===t&&"import"===a?!!r:!(!l||!n||"connect"!==a)||""!==t&&"connect"!==a}({intent:e.intent,panelName:e.panelName,connected:e.connected,file_uploaded:e.file_uploaded});l&&(m=!0);var f=m?" bg-grey-light":"",h=[];return e.hasSummary&&e.panelSummary&&h.push("has-summary"),t?i.createElement("div",{className:"panel-header child-panel-header ".concat(h.join(" "))},i.createElement(g,{childPanel:t,panelName:s,panelsOpen:n,toggleClassName:d}),i.createElement("div",{className:"child-summary"},i.createElement(_,{preTitle:r,childPanel:t,panelName:s,title:p}),i.createElement(u,null))):i.createElement(i.Fragment,null,i.createElement(_,{preTitle:r,childPanel:t,panelName:s,title:p,disabled:e.disabled,enabled:e.enabled,toggle:e.toggle,hasInput:e.hasInput}),l&&i.createElement("div",{className:"accordion-divider".concat(f)}),i.createElement("div",{className:"panel-header ".concat(h.join(" "))},i.createElement(u,null),i.createElement(g,{childPanel:t,panelName:s,panelsOpen:n,toggleClassName:d,registeredPanels:o,hideArrow:c})))},h=a(50166);const v=e=>{var t=e.panelContentClass,a=e.panelOpen,n=e.bodyClass,s=e.id,o=e.children,p=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).on,t=void 0===e||e,a=(0,i.useRef)(),n=(0,i.useState)(0),r=(0,l.Z)(n,2),s=r[0],o=r[1],c=(0,i.useRef)(s),p=(0,i.useState)((()=>new ResizeObserver((e=>{a.current&&c.current!==a.current.offsetHeight&&(c.current=a.current.offsetHeight,o(a.current.offsetHeight))})))),d=(0,l.Z)(p,1)[0];return(0,i.useLayoutEffect)((()=>(t&&a.current&&(o(a.current.offsetHeight),d.observe(a.current,{})),()=>d.disconnect())),[t,a.current]),[a,s]}(),d=(0,l.Z)(p,2),u=d[0],m=d[1],_=(0,c.v9)((e=>e)).migrations,g=n?"".concat(t," ").concat(n):t,f="backup_local"===_.current_migration.intent||_.current_migration.connected,v=(0,i.useState)(f),b=(0,l.Z)(v,2),E=b[0],w=b[1],y=E?{config:(0,r.Z)((0,r.Z)({},h.vc.gentle),{},{clamp:!0}),from:{opacity:0,height:0},to:{opacity:a?1:0,height:a?m:0}}:{},O=(0,h.q_)(y);(0,i.useEffect)((()=>{w(!0)}),[]);var T=a?"panel-open":"panel-closed";return i.createElement("div",{className:"".concat(T," panel-body-wrap")},i.createElement(h.q.div,{style:(0,r.Z)({},O),id:s},i.createElement("div",{ref:u,className:"".concat(g," panel-body")},o)))};var b=a(4516),E=(a(41772),a(29942)),w=a(42233),y=a(75338),O=a(49275),T=a(95702);const S=e=>{var t=e.panelName,a=e.panelTitle,n=(0,c.v9)((e=>e.migrations)),r=(0,w.gB)((0,w.__)("<code>%s</code> is not writable at the destination.","wp-migrate-db"),(0,E.j_)(t,n));return console.log(t),i.createElement("div",{className:"error-disabled"},i.createElement("div",{className:"action-panel shadow-div error-panel"},i.createElement("div",{className:"panel-header-wrap panel-closed has-summary-no-child"},i.createElement(T.r,null),i.createElement("h4",{className:"panel-title"},a),i.createElement("div",{className:"accordion-divider bg-grey-light"}),i.createElement("div",{className:"panel-header has-summary"},i.createElement("div",{className:"panel-summary"},i.createElement("p",null,(0,y.ZP)(r)),i.createElement(O.Z,{link:"https://deliciousbrains.com/wp-migrate-db-pro/doc/folder-permission-errors/",content:(0,w.__)("How to Fix Folder Permissions","wp-migrate-db"),utmContent:"not-writable-error-panel-".concat(t),utmCampaign:"wp-migrate-documentation"}))))))};const N=(0,c.$j)((e=>{var t=(0,d.O)("panelsOpen",e),n=(0,d.O)("panelClicked",e),r=(0,d.O)("panelStatus",e),l=(0,d.O)("registeredPanels",e),i=(0,b.r5)("intent",e),s=(0,b.r5)("connected",e),o=!1;return(0,E.Yu)()&&(o=(async e=>(0,(await Promise.resolve().then(a.bind(a,67821))).selectFromImportData)("file_uploaded",e))(e)),{panels:e.panels,panelsOpen:t,panelClicked:n,panelStatus:r,intent:i,connected:s,file_uploaded:o,registeredPanels:l}}),{removeOpenPanel:p.I4,togglePanelsOpen:p.SO,setPanelClicked:p.er,setPanelStatus:p.OW,registerPanel:p.ii})((e=>{var t=e.disabled,a=e.childPanel,s=e.className,c=e.hasDefault,p=e.selected,d=e.hasInput;(0,i.useEffect)((()=>{e.registerPanel(e.panelName)}),[e.intent]);var u=o()(e.panelsOpen,e.panelName),m=u?"open":"closed",_=(0,i.useState)(""),g=(0,l.Z)(_,2),h=g[0],b=(g[1],(0,i.useState)(!1)),w=(0,l.Z)(b,2),y=w[0],O=(w[1],(0,i.useState)(!1)),T=(0,l.Z)(O,2),N=T[0],Z=(T[1],e.panelName),P=e.bodyClass,k=e.hasOwnProperty("panelSummary"),x=(0,r.Z)((0,r.Z)({},e),{},{panelOpen:u,hasSummary:k,panelName:Z,hasInput:d}),R="action-panel shadow-div";s&&(R+=" ".concat(s));var A=function(e,t,a){var n=[];return e&&n.push("child-panel"),e&&t&&n.push("shadows"),a&&n.push("disabled"),n}(a,u,t),C=function(e,t,a,n,r){var l=[],i="panel-header-wrap";return i+=e?" panel-open":" panel-closed",t&&(a||!a&&n.length)&&l.push("maybe-has-default"),r&&!t?l.push("has-summary-no-child"):t||l.push("no-child"),t&&l.push("child-panel"),t&&!r&&l.push("no-summary"),{panelHeaderClasses:l,panelHeaderBaseClass:i}}(u,a,c,p,k),I=C.panelHeaderClasses,D=C.panelHeaderBaseClass;return"false"===e.writable?i.createElement(S,{panelTitle:x.title,description:"",panelName:Z}):i.createElement("div",{key:e.panelKey,className:"".concat(R," ").concat(A.join(" "))},i.createElement("div",{onClick:t=>{if(e.disabled)return!1;((e,t,a,n,r,l,i)=>{if(e.hasOwnProperty("callback")&&"function"===typeof e.callback&&!1===e.callback(i))return;var s="open";if(r&&(s="closing"),e.setPanelStatus(s),e.setPanelClicked(n),e.disabled)return!1;e.togglePanelsOpen(n)})(e,0,0,Z,u,0,t)},className:"".concat(D," ").concat(I.join(" ")),id:"wpmdb-".concat((0,E.hs)(Z))},i.createElement(f,x)),i.createElement(v,(0,n.Z)({shouldClose:N,panelAnimating:h,panelName:Z,panelOpenState:y,panelContentClass:m,panelOpen:u,className:P||"",id:Z},e)))}))},87439:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var n=a(79043),r=a(4665),l=a(62295),i=a(75338),s=a(7354),o=a(54385),c=a.n(o),p=e=>{var t=e.description,a=e.descriptionID;if((0,s.isArray)(t)){var n=t.map(((e,t)=>r.createElement("li",{key:t},e)));return r.createElement("ul",{id:a},n)}return r.createElement("p",{id:a},t)};const d=e=>{var t=e.ariaLabel,a=e.optionChoices,s=e.optionDescriptions,o=e.type,d=e.value,u=e.focus,m=(0,l.I0)(),_=a,g=c()("radiogroup",e.className),f=t=>{m(e.updateOption(t.target.value,o))},h=Object.keys(_).map((e=>{var t=o+"-"+e,a=t+"-description",l=d===e,c={};s&&s[e]&&(c["aria-describedby"]=a);var m=r.createElement("label",{className:"label",htmlFor:t},(0,i.ZP)(_[e])),g=m;return s&&s[e]&&(g=r.createElement("div",null,m,r.createElement(p,{description:s[e],descriptionID:a}))),r.createElement("div",{key:e,className:"option"},r.createElement("input",(0,n.Z)({id:t,type:"radio",autoFocus:e===u,value:e,checked:l,onChange:f,name:o},c)),g)}));return r.createElement("div",{className:g,role:"radiogroup","aria-label":t},h)}},29942:(e,t,a)=>{"use strict";a.d(t,{VU:()=>g,w6:()=>C,vB:()=>b,op:()=>v,wM:()=>E,lL:()=>M,mF:()=>D,mp:()=>S,NR:()=>F,Nh:()=>x,fX:()=>I,OK:()=>B,Yu:()=>R,qu:()=>N,aE:()=>A,sk:()=>P,SC:()=>Z,Ol:()=>T,j_:()=>L,fg:()=>f,Ph:()=>y,zj:()=>O,d2:()=>U,hs:()=>h,XV:()=>_,ME:()=>k,mQ:()=>w});var n=a(62295),r=a(42233),l=a(10734),i=a.n(l),s=a(67101),o=a.n(s),c=a(12544),p=a.n(c),d=a(81294),u=a(68424);function m(){return(e,t)=>{e({type:"MDB_REST_NOT_ACTIVE"}),e((0,u.A_)())}}function _(e,t){return-1!==i()(e,t)?o()(e,t):[...e,t]}function g(e,t){return[...new Set([...e,...t])]}function f(e,t){return e.filter((e=>!t.includes(e)))}function h(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="\xe0\xe1\xe3\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",a=0,n=t.length;a<n;a++)e=e.replace(new RegExp(t.charAt(a),"g"),"aaaaaeeeeiiiioooouuuunc------".charAt(a));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}async function v(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r={method:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpmdb_data.nonces.rest_nonce},body:JSON.stringify(t),signal:window.wpmdb_abort_controller.signal};a&&(r.signal=a.signal);var l=await fetch(window.wpmdb_data.MDB_API_BASE+e,r);if(!l.ok)throw n&&n(m()),new Error(l.statusText);return l.json()}async function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r="";Object.keys(t).length>0&&(r="?".concat(new URLSearchParams(t)));var l=await fetch(window.wpmdb_data.MDB_API_BASE+e+r,{credentials:"same-origin",headers:{"Content-Type":"application/json","X-WP-Nonce":window.wpmdb_data.nonces.rest_nonce},signal:window.wpmdb_abort_controller.signal});if(!l.ok){if(n>0)return b(e,t,a,n-1);throw a&&a(m()),new Error(l.statusText)}return l.json()}function E(e){var t=e.preRequest,a=void 0===t?()=>{}:t,n=e.asyncFn,r=e.requestFailed,l=void 0===r?()=>{}:r,i=e.requestSuccess,s=void 0===i?()=>{}:i;return async()=>{var e;a();try{e=await n}catch(t){return l(t),!1}return e.success?(s(e),e):l(e)}}function w(e){return/^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}var y=e=>e?e.replace(/(^\w+:|^)\/\//,"//"):e,O=e=>e?e.replace(/(^\w+:|^)\/\//,""):e,T=e=>e!==window.WPMDBStore.getState().migrations.local_site.this_prefix,S=e=>{var t=e.intent;if(""!==t)return{savefile:(0,r.__)("Export","wp-migrate-db"),backup_local:(0,r.__)("Backup","wp-migrate-db"),import:(0,r.__)("Import","wp-migrate-db"),find_replace:(0,r.__)("Find & Replace","wp-migrate-db"),push:(0,r.__)("Push","wp-migrate-db"),pull:(0,r.__)("Pull","wp-migrate-db")}[t]};function N(e,t,a){var n;return p()(["find_replace","savefile","pull","backup_local","import"],e)?n=t.write_permissions:"push"===e&&(n=a.write_permissions),{disabled:"false"===n,uploads_dir:"push"===e?a.uploads_dir:t.this_uploads_dir}}function Z(e,t){var a=t.migrations,n=a.local_site,r=a.remote_site,l=a.current_migration,i=(0,d.O)(n,r,l,e);return(i=i.join(""))===i.toLowerCase()?null:("1"===n.lower_case_table_names||"push"!==e&&"savefile"!==e)&&("1"===r.lower_case_table_names||"pull"!==e)||null}function P(e,t){var a=t.migrations,n=t.multisite_tools,r=a.local_site,l=a.remote_site;if(p()(["push","pull"],e)){if(!n||!r.site_details||!l.site_details)return!1;if(r.site_details.is_multisite!==l.site_details.is_multisite)return"1"!==r.mst_available||"1"!==l.mst_available||!n.is_licensed}return!1}function k(){var e=(0,n.v9)((e=>e.settings)),t=e.masked_licence,a=e.isPro;if(A())return!1;if(!a)return!0;var r=(0,n.v9)((e=>e.dbi_api_data)).licence.licence_status;return null===t&&!window.wpmdb_settings.license_constant||![null,"active_licence","subscription_expired"].includes(r)}function x(e){return window.reactpluginBuildURLmdb+e}var R=()=>!1,A=()=>!0,C=()=>null!=="wpe"?"wpe":"pro";function I(e){var t=[];if(null===e||!e.hasOwnProperty("imported")||!1===e.imported)return t;var a=e.value,n=a.current_migration,r=a.media_files;return n.hasOwnProperty("post_types_option")&&"all"!==n.post_types_option&&["pull","import"].includes(n.intent)&&t.push("post_types"),r.hasOwnProperty("enabled")&&!0===r.enabled&&t.push("media_files"),t}var D=(e,t)=>{var a={pull:(0,r.__)("to pull remote data into this site","wp-migrate-db"),push:(0,r.__)("to push data to a remote site","wp-migrate-db"),import:(0,r.__)("to import data into this site","wp-migrate-db"),regex:(0,r.__)("to use Regular Expressions","wp-migrate-db"),dryRun:(0,r.__)("to view details on the exact changes that will be made","wp-migrate-db")},n=(0,r.__)("Activate your license","wp-migrate-db"),l="#settings/enter",i="";t||(n=(0,r.__)("Upgrade","wp-migrate-db"),l="https://deliciousbrains.com/wp-migrate-db-pro/upgrade/?utm_campaign=WP%2BMigrate%2BDB%2BPro%2BUpgrade&utm_source=MDB%2BFree&utm_medium=insideplugin",i='target="_blank"');var s=(0,r.__)('<a href="%s" %s rel="noopener noreferrer" class="upgrade">%s</a> %s',"wp-migrate-db");return(0,r.gB)(s,l,i,n,a[e])},M=e=>(e/1e3/1024).toFixed(2),L=(e,t)=>{var a,n,r,l,i,s=t.current_migration,o=t.local_site,c=t.remote_site,p="pull"===s.intent,d=p?c:o,u=d.site_details,m=u.themes_path,_=u.plugins_path,g=u.muplugins_path,f=u.content_dir,h=p?d.path:d.this_path,v=(e,t)=>void 0===e?null:e.replace(t,"").replace(/^\/|\/$/g,"");switch(e){case"themes":case"theme_files":return null!==(a=v(m,h))&&void 0!==a?a:"wp-content/themes";case"plugins":case"plugin_files":return null!==(n=v(_,h))&&void 0!==n?n:"wp-content/plugins";case"muplugins":case"muplugin_files":return null!==(r=v(g,h))&&void 0!==r?r:"wp-content/mu-plugins";case"media":case"media_files":return null!==(l=v(p?d.wp_upload_dir:d.this_wp_upload_dir,h))&&void 0!==l?l:"wp-content/uploads";case"others":case"other_files":return null!==(i=v(f,h))&&void 0!==i?i:"wp-content";default:return""}},F=(e,t,a,n)=>{var r=t.localSource?n:a;switch(e){case"theme_files":case"themes":return r.themes_permissions;case"plugin_files":case"plugins":return r.plugins_permissions;case"muplugin_files":case"muplugins":return r.muplugins_permissions;case"other_files":case"others":return r.others_permissions;default:return r.write_permissions}},B=()=>{var e=window.location.hash.substring(1);if(e.includes("unsaved")||e.includes("migrate")){var t=e.split("/");return t.length>1&&t}return!1},U=()=>!!window.wpmdb_data&&("1"===window.wpmdb_data.source_basic_auth&&!window.wpmdb_data.auto_source_basic_auth)},18832:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(10734),r=a.n(n);const l=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=[];t.forEach((e=>(-1===r()(a,e)&&l.push(e),null))),e(l,n)}},66055:(e,t,a)=>{"use strict";a.d(t,{m:()=>r});var n=a(86552);function r(e,t){for(var a=arguments.length,r=new Array(a>2?a-2:0),l=2;l<a;l++)r[l-2]=arguments[l];return(0,n.Z)({type:e,payload:t},r)}},74094:(e,t,a)=>{"use strict";a.d(t,{J:()=>l});var n=a(29942),r=a(58696),l=()=>(e,t)=>!!(0,n.Yu)()&&(0,r.C)("status",t()).connecting},83115:(e,t,a)=>{"use strict";a.d(t,{$1:()=>m,G$:()=>p,_s:()=>u,dy:()=>d,g1:()=>c});var n=a(14251),r=a(36601),l=a(52650),i=a(29950),s=a(66866),o=a(15265),c=()=>e=>{if(e((0,n.LR)(!0)),e(p(!0)),e({type:"WPMDB_PRE_MIGRATION"}),e({type:"MIGRATION_STARTED"}),!e((0,l.b)()))return!1;e((0,r.Cy)())},p=e=>({type:i.Um,payload:e}),d=e=>({type:s.DL,payload:e}),u=e=>({type:o.DQ,payload:e}),m=e=>({type:o._b,payload:e})},22497:(e,t,a)=>{"use strict";a.d(t,{KG:()=>r,KJ:()=>l,Kw:()=>s,O:()=>o,ku:()=>i});var n=a(18066);function r(e,t){return(a,r)=>{a({type:n.TO,payload:{name:e,fn:t}})}}function l(e,t){return(a,r)=>{a({type:n.fK,payload:{name:e,fn:t}})}}function i(e){return(t,a)=>{t({type:n.l3,payload:{name:e}})}}function s(e){return(t,a)=>{a().mdb_filters.actions.forEach((t=>{t.name===e&&t.fn.call()}))}}function o(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];return(a,r)=>{var l=r().mdb_filters.filters,i=t;return l.forEach((t=>{t.name===e&&(i=t.fn.call(this,i,...n))})),i}}},47895:(e,t,a)=>{"use strict";a.d(t,{C:()=>o,Lk:()=>c,Tf:()=>s,q$:()=>i});var n=a(12544),r=a.n(n),l=a(66055);function i(e,t){return(a,n)=>{a((0,l.m)(t,e))}}function s(e,t,a){return async(n,r)=>{n((0,l.m)(a,{type:e,status:t}))}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(t,a)=>{var n=a().migrations;""===e&&(e=n.current_migration.intent);var l="true"===n.local_site.is_multisite;if(r()(["find_replace","savefile","backup_local"],e)&&l)return!0;if(r()(["push","pull"],e)){if(!n.remote_site.site_details)return!1;var i="true"===n.remote_site.site_details.is_multisite;return l||i}return!1}}function c(e,t,a,n){return"migration"===n?"pull"===e||"import"===e?a:t:"pull"===e||"import"===e?t:a}},14251:(e,t,a)=>{"use strict";a.d(t,{CV:()=>_,E2:()=>h,ED:()=>g,I8:()=>d,LR:()=>S,OZ:()=>Z,P_:()=>w,S5:()=>v,Tf:()=>p,fJ:()=>m,gy:()=>y,j8:()=>N,nX:()=>P,oA:()=>u,qg:()=>E,rk:()=>f,t9:()=>O,uI:()=>k,vq:()=>T,zH:()=>b,zw:()=>x});var n=a(29942),r=a(66055),l=a(29950),i=a(66866),s=a(22973),o=a(4516),c=a(36601);function p(e){return(0,r.m)(l.d0,e)}function d(e){return(0,r.m)(l.n_,e)}function u(){return e=>{e((0,r.m)("RESET_APP",{}))}}function m(e){return{type:s.Qu,payload:e}}function _(e){return(t,a)=>{var r=a();t({type:l.av,payload:e});var i=r.migrations.current_migration;t(m((0,n.mp)({intent:e.intent,local_site:r.migrations.local_site,remote_site:r.migrations.remote_site,connected:i.connected}))),"savefile"===e.intent&&(0,n.SC)("savefile",a())&&t(g())}}function g(){return e=>{e((0,r.m)("SET_CONNECTION_STATUS",{key:"mixed_case_table_name_warning",statusVal:!0}))}}function f(){return e=>{e({type:l.rk})}}function h(e){return(t,a)=>{if(t({type:l.KU,payload:e}),"backup_selected"===(0,o.r5)("backup_option",a())){var n=t((0,c.K6)());t(E(n))}}}function v(e,t){return a=>{a({type:l.mu,payload:e}),"all"===e&&a(h(t))}}function b(e){return t=>{t({type:l.mu,payload:"all"}),t(h(e))}}function E(e){return{type:l.O$,payload:e}}function w(e){return(t,a)=>{t({type:l.Yl,payload:e});var n=t((0,c.K6)());t(E(n))}}function y(e){return{type:l.ic,payload:e}}function O(e,t){return a=>{a({type:l.Nt,payload:e}),"all"===e&&a(y(t))}}function T(e){return{type:l.Ss,payload:e}}function S(e){return{type:i.mx,payload:e}}function N(e){return{type:l.b_,payload:e}}function Z(e,t){return a=>{a({type:l.mO,payload:e}),a({type:l.Ac,payload:t})}}function P(e){return t=>{t({type:l.u2,payload:e})}}function k(e){return t=>{t({type:l.EF,payload:e})}}function x(e){return t=>{delete e.stages_complete,delete e.current_stage,t((0,r.m)(l.r2,e))}}},58900:(e,t,a)=>{"use strict";a.d(t,{B3:()=>y,BG:()=>v,K_:()=>w,v5:()=>T});var n=a(88368),r=a(89472),l=a(12544),i=a.n(l),s=a(42233),o=a(62295),c=a(4516),p=a(29942),d=a(66866),u=a(29950),m=a(66055),_=a(42222),g=a(91828),f=a(38906),h=a(22497),v=e=>async(e,t)=>{e((0,m.m)(d.V$,"Finalizing Migration")),e((0,m.m)(d.MG,"FINALIZING"));var a=(0,c.r5)("intent",t()),n=(0,c.r5)("stages",t()),r=(0,c.xg)("dump_info",t()),l=(0,c.r5)("databaseEnabled",t()),o=(0,c.r5)("fseDumpFilename",t());if(0===Object.entries(r).length&&("savefile"===a&&l||"backup_local"===a))throw new Error((0,s.__)("File dump info empty","wp-migrate-db"));if("backup_local"!==a&&"savefile"!==a)return e(b(a));var p=window.wpmdb_data.this_download_url+(l?encodeURIComponent(r.dump_filename):o),u=(0,c.r5)("advanced_options_selected",t()),_=l?n.length>1:"savefile"===a;return _?p+="&zip=1":i()(u,"gzip_file")&&(p+="&gzip=1"),_&&(p+="&fullSiteExport=1"),"savefile"===a?(e(T(a)),setTimeout((()=>{window.location=p}),0)):e(T(a,r))},b=e=>async(t,a)=>t((async()=>{var e,n=await(0,c.Gn)(a()),r={tables:(0,c.r5)("databaseEnabled",a())?n.join(","):""};(0,c.do)(a())&&(r.prefix=(0,c._P)("this_prefix",a())),r=t((0,h.O)("wpmdbFinalizeMigration",r));var l=(0,c.xg)("document_title",a());document.title=(0,s.__)("Finalizing","wp-migrate-db")+" - "+l;try{e=await(0,p.op)("/finalize-migration",r),t((0,h.Kw)("afterFinalizeMigration"))}catch(i){return console.error(i),t((0,f.m7)({error_type:d.gF,error_message:i})),!1}return e.success?e:(t((0,f.m7)({error_type:d.gF,error_message:e.data})),!1)})).then((async a=>{if(!a)return!1;await E(t,e)})).catch((e=>{t((0,f.m7)({error_type:d.gF,error_message:e}))})),E=async(e,t)=>{e((0,m.m)(d.V$,(0,s.__)("Flushing caches...","wp-migrate-db")));var a=new FormData;a.append("action","wpmdb_flush"),a.append("nonce",window.wpmdb_data.nonces.flush);var n=await fetch(window.ajaxurl,{method:"POST",body:a});if(!n.ok)throw new Error(n.statusText);var r=await n.json();if(!r.success)throw new Error(r.data);return e(T(t))},w=()=>async(e,t)=>{var a,n=await(0,c.xg)("migration_tables",t()),l=!1,i=(0,r.Z)(n);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(l=/(.*)_options|(.*)_sitemeta/.test(s))break}}catch(o){i.e(o)}finally{i.f()}return l},y=e=>(t,a)=>{var r=(0,c.r5)("intent",a()),l=(0,c.xg)("document_title",a()),s=a().profiles;document.title=l;i()(["import","pull","find_replace"],r)&&(t(w())&&"COMPLETE"===e&&(i()(["import","pull"],r)?window.location.href=(()=>{var e=window.location.hash,t=window.location.href.replace(e,""),a=(0,n.Z)(s.recent,1)[0];a=void 0!==a?a.id:"";var r=0;-1===e.indexOf("#unsaved/")&&-1===e.indexOf("#migrate/")||(-1!==e.indexOf("migrate")&&(r=1),a=e.match(/([0-9]+)(?=[^/]*$)/gm));return"".concat(t,"&redirect_profile=").concat(a,"&saved_profile=").concat(r)})():window.location.reload()))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,a)=>{var n,r,l,i=(0,c.r5)("intent",a());"free"!==(0,p.w6)()&&(l=(0,p.zj)((0,c.FY)("url",a())));var o=(0,c.xg)("migration_size",a()),d=(0,c.xg)("timer",a()),u=(0,c.xg)("migration_size",a()),m=(0,_.UJ)(o),f=(e=>{var t=(0,_.i2)(e),a=(0,_.er)(e),n=(0,_.$s)(e),r=(0,s.gB)((0,s.__)("%ss","wp-migrate-db"),t);return a>0&&(r=(0,s.gB)((0,s.__)("%sm %s","wp-migrate-db"),a,r)),n>0&&(r=(0,s.gB)((0,s.__)("%shr %s","wp-migrate-db"),n,r)),r})(d.time),h="pull"===i?(0,s.__)("from","wp-migrate-db"):(0,s.__)("to","wp-migrate-db");switch(i){case"pull":case"push":n="".concat(g.B[i],' <span class="regular">').concat(h,"</span> ").concat(l),r=(0,s.gB)((0,s.__)('<span class="semibold">%s %s</span> of data was migrated in <span class="semibold">%s</span>'),m,(0,_.TJ)(u),f);break;case"savefile":n=(0,s.__)("Export Complete","wp-migrate-db"),r=(0,s.gB)((0,s.__)('<span class="semibold">%s %s</span> of data was exported in <span class="semibold">%s</span>',"wp-migrate-db"),m,(0,_.TJ)(u),f);break;case"import":n=(0,s.__)("Import Complete","wp-migrate-db"),r=(0,s.gB)((0,s.__)('Completed in <span class="text-primary semibold">%s</span>'),f);break;case"find_replace":n=(0,s.__)("Find & Replace Complete","wp-migrate-db"),r=(0,s.gB)((0,s.__)('<span class="semibold">%s %s</span> of data was replaced in <span class="semibold">%s</span>',"wp-migrate-db"),m,(0,_.TJ)(u),f);break;case"backup_local":n=(0,s.__)("Backup Complete","wp-migrate-db"),r=e.dump_path?(0,s.__)("The backup file has been saved to your server.","wp-migrate-db"):""}return{title:n,message:r}}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async(e,a)=>{e((0,f.z6)(!0)),(0,o.dC)((()=>{e((0,m.m)(u.sP,"finalize")),e((0,f.Wj)("COMPLETE")),e((0,f.Uo)()),e((0,m.m)(d.V$,(0,s.__)("Migration successful!","wp-migrate-db"))),e((0,m.m)(d.eQ,100));var a=e(O(t)).message;e((0,m.m)(d.Du,a))}));var n=(0,c.xg)("document_title",a());document.title=(0,s.__)("Complete","wp-migrate-db")+" - "+n}}},36601:(e,t,a)=>{"use strict";a.d(t,{ly:()=>x,p_:()=>P,uk:()=>N,h8:()=>Z,Gn:()=>j,Bq:()=>L,rY:()=>V,Cy:()=>A,Kh:()=>G,Pu:()=>re,c9:()=>D,$$:()=>le,Rw:()=>z,$D:()=>H,Z6:()=>C,Am:()=>W,z6:()=>q,Wj:()=>K,K6:()=>$});var n=a(86552),r=a(89472),l=a(88368),i=a(7354),s=a(62295),o=a(42233),c=a(66055),p=a(29950),d=a(66866),u=a(38906),m=a(4516),_=a(29942),g=a(22497),f=a(82174),h=a(14251),v=a(31998),b=a(80850),E=a(34363),w=a(31572),y=a(87326),O=e=>e.mdb_rest;var T="INITIATE_MIGRATION",S="MIGRATE",N="UPLOAD",Z="UPLOAD_IMPORT_SUCCESSFUL",P="IMPORT_FILE",k="ADDONS_STAGE",x="COMPLETE",R={};function A(){return async(e,t)=>(0,s.dC)((()=>{e((0,c.m)(d.v$,(0,m.r5)("migration_id",t()))),e((0,c.m)(p.f7,"initiate_migration")),e((0,u.yo)()),e((0,c.m)(d.ol,document.title)),e((0,c.m)(p.jD,!0)),e((0,c.m)(d.V$,(0,o.__)("Establishing Connection","wp-migrate-db")))}))}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return async(i,s)=>{switch(i((0,c.m)(d.MG,e)),e){case T:return i(I());case S:return i(F());case N:return i(B(n,t));case Z:case P:return i(U(t));case k:return i((0,(await Promise.resolve().then(a.bind(a,34653))).runAddonsStage)(t,r));case x:(0,m.xg)("pause_before_finalize",s())&&i(K("PAUSED"));var o=(0,l.Z)(t,1)[0];return void await i(W(u.BG,[o],!0))}}}var I=()=>async(e,t)=>{e((0,u.kK)()),e(q(!1)),(0,s.dC)((()=>{e((0,c.m)(p.f7,"initiate_migration")),e((0,c.m)(d.ol,document.title)),e((0,c.m)(p.jD,!0)),e((0,c.m)(d.V$,(0,o.__)("Establishing Connection","wp-migrate-db")))}));var a=(0,m.r5)("intent",t()),n=await e(W(u.Up));return!!n&&e(C("import"===a&&"backup"!==n?N:S))},D=e=>(0,_.vB)("/migration",{},e,1),M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>Promise.resolve(D(t).then((a=>{var n=a.data;return Promise.resolve({isSuccessful:t(J(n,e)),data:n})})).catch((e=>console.log(e))))},L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>Promise.resolve(t(M(e))).then((a=>{if("object"!==typeof a.data)return!1;var n=a.data.active_migration;return!1!==n&&(!0===n.is_active&&(t(F(e)),!0))}))},F=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(n,r)=>{var l,i,s=(0,m.xg)("status",r()),o=(0,m.xg)("backgroundMigrationRunning",r()),c=(0,m.r5)("current_stage",r()),p=(l="mdb_rest_active",i=r(),(0,m.fX)(O,"mdb_rest",l,i));if(["COMPLETE","CANCELLED"].includes(s)||!1===p)return null;var d=t;((e,t,a,n)=>{var r="visible"===document.visibilityState;if(r&&"initiate_migration"===n)return!0;var l=t&&!["PAUSED"].includes(a);return r&&l||e>=15})(t,o,s,c)?(n(M(a)),d=0):d++,setTimeout((()=>{n(e(d))}),2e3)}},B=(e,t)=>async e=>{var n;e((0,c.m)(d.V$,(0,o.__)("Uploading File","wp-migrate-db")));var r=[0];n=(await a.e(879).then(a.bind(a,78879))).uploadFileActions,t.length&&(n=t[0].fn,r=t[0].args),e(W(n,r))},U=e=>async t=>{var a=null,n=null;return e.length&&(n=e[0].fn,a=e[0].args),t(W(n,a))};function j(){return async(e,t)=>{var a=(0,m.r5)(["intent","migration_id"],t()),n=(0,l.Z)(a,2),r=n[0],i=n[1];try{(await H("cancel",i,r)).success&&e(K("CANCELLING"))}catch(s){e(K(""))}}}function G(){return async(e,t)=>{var a=(0,m.r5)(["intent","migration_id"],t()),n=(0,l.Z)(a,2),r=n[0],i=n[1];try{var s=await H("pause_resume",i,r);if(s.success)return e(K("PAUSING"));throw new Error(s.data)}catch(o){return e(K(""))}}}function z(){return async(e,t)=>{var a=(0,m.r5)(["intent","migration_id"],t()),n=(0,l.Z)(a,2),r=n[0],i=n[1];try{var s=await H("pause_resume",i,r);if(!s.success)throw new Error(s.data);e(K("RESUMING"))}catch(o){e(K(""))}}}function H(e,t,a){return(0,_.op)("/migration",{action:e,migration_id:t,type:a},!1,null,"PUT")}var V=e=>(0,_.op)("/migration",{migration_id:e},!1,null,"DELETE");function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async(n,r)=>{var l=(0,m.r5)("preview",r()),i=(0,m.xg)("status",r()),p=(0,m.xg)("progress_stage",r()),_=(0,m.xg)("pause_before_finalize",r()),g=(0,o.__)("Paused","wp-migrate-db"),f=(0,o.gB)("%s - %s",g,(0,o.__)("preview changes below","wp-migrate-db"));return"CANCELLED"===i?(n(q(!0)),(0,s.dC)((()=>{n((0,u.Uo)()),n((0,c.m)(d.V$,(0,o.__)("Migration cancelled","wp-migrate-db"))),n(K("CANCEL_COMPLETE"))})),!1):"PAUSED"===i||_&&a?(_&&a&&n((0,c.m)(d.mx,!1)),(0,s.dC)((()=>{n((0,c.m)(d.V$,l&&"COMPLETE"===p?f:g)),n((0,u.N6)())})),R.fn=e,R.args=t,!1):await n(e.apply(null,t))}}var $=()=>(e,t)=>{var a=(0,m.r5)("intent",t()),n=(0,m.NR)("current_migration",t()),r=n.backup_option,l=n.tables_option,i=[],s="push"===a?(0,m.FY)("prefixed_tables",t()):(0,m._P)("this_prefixed_tables",t()),o="push"===a?(0,m.FY)("tables",t()):(0,m._P)("this_tables",t());switch(r){case"backup_only_with_prefix":i=s;break;case"backup_selected":var c;c="import"===a?(0,m.FY)("tables",t()):"selected"===l?(0,m.r5)("tables_selected",t()):"pull"===a?(0,m.FY)("prefixed_tables",t()):(0,m._P)("this_prefixed_tables",t()),i=o.filter((e=>c.includes(e)));break;case"backup_manual_select":i="push"===a?(0,m.FY)("tables",t()):(0,m._P)("this_tables",t())}return i=e((0,g.O)("wpmdbBackupTables",i,r))},q=e=>(0,c.m)(d.ti,e),K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(n,r)=>{(0,s.dC)((()=>{n((0,c.m)(d.Jj,e)),n(ne(e,(()=>{if(!t)return null;var e=t.find((e=>!1===e.processed));return e?e.stage:null})(),a))}))}},Y=e=>t=>{t((0,c.m)(d.K$,e));var a=Math.round(parseInt(null===e||void 0===e?void 0:e.processed_bytes)/(null===e||void 0===e?void 0:e.target_bytes)*100)||0;t((0,c.m)(d.eQ,a))},J=(e,t)=>(a,n)=>{if(e.active_migration){var r=e.active_migration,l=(0,m.xg)("status",n());if(a((0,c.m)(d.VY,r)),a((0,c.m)(d.dS,!0)),t&&a((0,c.m)(p.pi,!0)),r.current_task){var s=(0,b.m)(r),o=s.stages,_=s.migration_id,g=s.total,f=s.initialized,h=s.started_at,v=s.migration,E=ee(v,l,f);if(t){var w=Date.now()-1e3*h;a((0,c.m)(d.cJ,w)),a((0,u.Xg)())}return a((0,c.m)(d.v$,_)),a(Y(g)),a(K(E,o,g)),a(te(o,f,r,t,E))}}else!1===e.active_migration&&(0,i.isObject)(e.last_migration)&&a(X(e.last_migration));if(e.settings&&e.settings.key){var O=e.settings;O.key_expires_sql_datetime&&a((0,y.m7)("key_expires_sql_datetime",O.key_expires_sql_datetime)),a((0,y.ut)(O.key))}},X=(e,t)=>a=>{var n=e.stages,r=e.type,l=e.dismissed,i=e.success,s=e.migration_id,o=e.total,p=e.started_at,m=e.finished_at,_=e.initialized;if(!l){if(t&&(a(ae(s)),a((0,c.m)(d.cJ,p/1e3)),a(Y(o))),a((0,c.m)(d.v$,s)),a((0,c.m)(d.dS,!0)),i){var g=1e3*m-1e3*p;return a((0,c.m)(d.cJ,g)),a((0,c.m)(d.l2,o.processed_bytes)),a((0,u.v5)(r))}new Promise((e=>{var t=n.map((e=>a(Q(e,_))));Promise.all(t).then((t=>{e(t.includes(!1))}))})).then((e=>a(!1!==e||i?K("ERROR",n):K("CANCELLED"))))}},Q=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a=>!(e.errors&&e.errors.length>0)||(a((0,u.m7)({error_type:d.gF,error_message:"".concat(e.errors[0].code,": ").concat(e.errors[0].message)})),a((0,c.m)(d.wJ,e.stage)),t&&a((0,c.m)(p.f7,e.stage)),!1)},ee=(e,t,a)=>{var n=e.is_processing,r=e.is_paused,l=e.is_cancelled;return"PAUSING"===t&&(!r||r&&n)||"RESUMING"===t&&r||"CANCELLING"===t&&(!l||l&&n)?t:l&&!n?"CANCELLED":r&&!n?"PAUSED":a?r||l||!n?void 0:"MIGRATE":"INITIALIZING"},te=(e,t,a,n,l)=>(n,i)=>{var o=(0,m.r5)("stages_complete",i()),_=(0,b.m)(a).total,g=[],f=new Promise((a=>{var i,m=(0,r.Z)(e);try{var f=function(){var e=i.value;if(!1===e.processed)return(0,s.dC)((()=>{n(ne(l,e.stage,_)),n((0,u.I6)(e.total.target_bytes)),n((0,u.g4)(e.total.processed_bytes)),n((0,u.zq)())})),t&&(n((0,c.m)(d.MG,e.stage)),n((0,c.m)(p.f7,e.stage))),a(n(Q(e))),"break";o.includes(e.stage)||g.push(e.stage)};for(m.s();!(i=m.n()).done;){if("break"===f())break}}catch(h){m.e(h)}finally{m.f()}}));return f.finally((()=>{n((0,c.m)(p.GG,[...o,...g]))})),f},ae=e=>t=>{if(t((0,c.m)(p.pi,!0)),window.wpmdb_data.migration_state){var a=window.wpmdb_data.migration_state,r=a.current_migration,i=a.remote_site;if(r&&i)return t((0,h.zw)((0,n.Z)({},r))),t((0,c.m)(p.jD,!0)),t((0,c.m)(v.oQ,(0,n.Z)({},i))),void t((0,c.m)(p.tJ,!0))}Promise.all([(0,_.vB)("/state/".concat(e,"/current_migration")),(0,_.vB)("/state/".concat(e,"/remote_site"))]).then((e=>{var a=(0,l.Z)(e,2),n=a[0],r=a[1];n.success&&(t((0,h.zw)(n.data)),t((0,c.m)(p.jD,!0))),r.success&&t((0,c.m)(v.oQ,r.data))})).finally((()=>{t((0,c.m)(p.tJ,!0))}))},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n=>{var r="";if((0,i.isObject)(e)&&e.error_type)r=(0,o.__)("Migration Failed","wp-migrate-db");else switch(e){case"ERROR":if(null===t){r=(0,o.__)("Initialization failed","wp-migrate-db");break}r=(0,o.__)("Migration failed","wp-migrate-db");break;case"CANCELLING":r=(0,o.__)("Canceling...","wp-migrate-db");break;case"CANCELLED":r=(0,o.__)("Canceled","wp-migrate-db");break;case"RESUMING":r=(0,o.__)("Resuming...","wp-migrate-db");break;case"PAUSING":r=(0,o.__)("Pausing...","wp-migrate-db");break;case"PAUSED":r=(0,o.__)("Paused","wp-migrate-db");break;case"INITIALIZING":r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(e?e.target_bytes:0)>0?(0,o.__)("Still calculating...","wp-migrate-db"):(0,o.__)("Calculating migration size...","wp-migrate-db")}(a);break;default:null!==t&&(r="finalize"===t?(0,o.__)("Finalizing","wp-migrate-db"):"tables"===t?(0,o.__)("Transferring tables","wp-migrate-db"):(0,o.gB)((0,o.__)("Transferring %s files"),f.r[t]))}n((0,c.m)(d.V$,r))}},re=()=>(e,t)=>{var a=(0,m.r5)("intent",t());if((0,_.aE)()){var r=t().migrations.connection_info;r.connection_state&&!r.connection_state.value&&e((0,c.m)("RESET_APP"))}(0,s.dC)((()=>{e((0,c.m)(d.dS,!1)),e((0,c.m)(p.jD,!1)),e((0,c.m)(d.Z2)),e(K("")),e((0,u.N6)())})),window.wpmdb_data=(0,n.Z)((0,n.Z)({},window.wpmdb_data),{},{last_migration:!1}),e((0,w.J2)()).then((t=>{!1!==t&&e((0,E.connectToRemote)(a,!0))}))},le=()=>e=>{if(window.wpmdb_data.active_migration){e(J(window.wpmdb_data.active_migration));var t=(0,b.m)(window.wpmdb_data.active_migration).migration_id;e(ae(t)),e(F(0,!0)),window.wpmdb_data=(0,n.Z)((0,n.Z)({},window.wpmdb_data),{},{active_migration:null})}else window.wpmdb_data.last_migration&&e(X(window.wpmdb_data.last_migration,!0))}},42714:(e,t,a)=>{"use strict";a.d(t,{I6:()=>i,Wv:()=>u,g4:()=>c,gF:()=>d,sw:()=>s,v_:()=>p,zq:()=>o});a(12544);var n=a(4516),r=a(66055),l=a(66866);function i(e){return(t,a)=>(t((0,r.m)(l.tO,e)),e)}function s(){return(e,t)=>{var a=(0,n.xg)("document_title",t());document.title=a}}function o(){return(e,t)=>{var a=t(),r=(0,n.xg)("document_title",a),l=(0,n.xg)("runningPercentage",a),i=l>0?"".concat(l,"% Complete"):"Calculating";document.title="".concat(i," - ").concat(r)}}function c(e){return(t,a)=>t((0,r.m)(l.QH,e))}function p(){return(e,t)=>{e((0,r.m)(l.hg))}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(a,r)=>{var l=e>1e3?Math.ceil(e):e,i=parseInt(l);Number.isInteger(i)&&i>=1&&(l=i);var s=parseInt((0,n.xg)("stage_size",r()));t?s=parseInt(e):s+=l,a(c(s))}}function u(e){return async(t,a)=>{(0,n.xg)("total_stage_size",a()).length||t(i(e))}}},62457:(e,t,a)=>{"use strict";a.d(t,{U:()=>o,m:()=>s});var n=a(62295),r=a(66055),l=a(66866),i=a(38906);function s(e){return t=>{(0,n.dC)((()=>{t((0,r.m)(l.cE,e)),t((0,i.Wj)("ERROR")),t(o())}))}}var o=()=>async(e,t)=>{e((0,i.N6)()),e((0,i.sw)())}},38068:(e,t,a)=>{"use strict";a.d(t,{N6:()=>s,Xg:()=>i,hI:()=>c,yo:()=>o});var n=a(4516),r=a(66055),l=a(66866),i=()=>async(e,t)=>{var a=(0,n.xg)("timer",t()),i={on:!0,time:a.time,start:Date.now()-a.time};e((0,r.m)(l.G,i));var s=setInterval((()=>{var a=(0,n.xg)("timer",t()),i=Date.now()-a.start;e((0,r.m)(l.cJ,i))}),1e3);e((0,r.m)(l.hS,s))},s=()=>async(e,t)=>{e((0,r.m)(l.c4,!1));var a=(0,n.xg)("timer",t()).timer_instance;clearInterval(a)},o=()=>async(e,t)=>{e((0,r.m)(l.sr,0)),e((0,r.m)(l.cJ,0))},c=()=>async(e,t)=>{e(o()),e(i())}},38906:(e,t,a)=>{"use strict";a.d(t,{p_:()=>v.p_,BG:()=>h.BG,v5:()=>h.v5,uk:()=>v.uk,h8:()=>v.h8,Bq:()=>v.Bq,kK:()=>E,QK:()=>O,Up:()=>f,Uo:()=>w.U,hI:()=>y.hI,sw:()=>b.sw,v_:()=>b.v_,yo:()=>y.yo,$$:()=>v.$$,$D:()=>v.$D,Z6:()=>v.Z6,Am:()=>v.Am,z6:()=>v.z6,zq:()=>b.zq,m7:()=>w.m,Wj:()=>v.Wj,g4:()=>b.g4,Wv:()=>b.Wv,I6:()=>b.I6,Xg:()=>y.Xg,N6:()=>y.N6,gF:()=>b.gF});var n=a(88368),r=a(12544),l=a.n(r),i=a(29942),s=a(86552),o=(0,a(56802).P1)([e=>e.migrations.current_migration,e=>e.migrations.connection_info,e=>e.migrations.search_replace],((e,t,a)=>{var n=e.intent,r=(0,s.Z)({},a);l()(["push","pull","import","savefile"],n)||(delete r.standard_search_replace,delete r.standard_options_enabled,delete r.standard_search_visible);var i={current_migration:e,search_replace:r};return l()(["push","pull"],n)&&(i.connection_info=t),i})),c=a(4516),p=a(61358),d=a(86191),u=a(66866),m=a(66055),_=a(29950),g=a(22497),f=()=>async(e,t)=>{await e((async(e,t)=>{e((0,b.v_)()),e((0,m.m)(u.u9)),e((0,m.m)(_.GG,[])),e((0,y.hI)());var a=(0,d.d)("current_profile",t());return e((0,p.uJ)(a))}));var a,r=o(t()),s=(0,c.NR)("current_migration",t()),f=t().site_migration,h=(0,c.NR)(["connection_info","search_replace","remote_site","local_site"],t()),E=(0,n.Z)(h,4),O=E[0],T=E[1],S=E[2],N=E[3],Z=(0,c.r5)("intent",t()),P=function(e,t){var a="migrate";e.databaseEnabled&&"none"!==e.backup_option&&"backup_local"!==t?a="backup":"import"===t&&"none"===e.backup_option&&(a="upload");return a}(s,Z),k=(0,c.r5)("stages",t()),x=t(),R=x.media_files,A=x.theme_plugin_files,C={intent:Z,form_data:JSON.stringify(r),stage:P,stages:JSON.stringify(k),site_details:{local:(0,c.NR)("local_site",t()).site_details}};C=function(e,t,a,n){if(l()(["push","pull"],e)){t.url=a.connection_state.url,t.key=a.connection_state.key;var r=(0,c.NR)("remote_site",n());t.site_details.remote=r.site_details,t.temp_prefix=r.temp_prefix}else if("import"===e){var i=(0,c.FY)("import_gzipped",n());t.import_info={import_gzipped:JSON.stringify(i)}}else"backup_local"===e&&(t.intent="savefile");return t}(Z,C,O,t),C.site_details=JSON.stringify(C.site_details),C=e((0,g.O)("intiateMigrationPostData",C));var I=r.current_migration.migration_id;try{if(!(a=await(0,i.op)("/initiate-migration",C)).success)throw new Error(a.data)}catch(D){return e((0,w.m)({error_type:u.gF,error_message:D})),!1}try{if(!(a=await(0,i.op)("/state/".concat(I),{state:{current_migration:s,search_replace:T,remote_site:S,local_site:N,media_files:R,theme_plugin_files:A,site_migration:f}},!1,null,"PUT")).success)throw new Error(a.data)}catch(D){return e((0,w.m)({error_type:u.gF,error_message:D})),!1}try{a=await(0,v.$D)("start",I,Z)}catch(D){return e((0,w.m)({error_type:u.gF,error_message:D})),!1}return a.success?(e((0,v.z6)(!0)),"savefile"===Z&&e((0,m.m)("SET_FSE_DUMP_FILENAME",a.data.dump_filename)),P):(e((0,w.m)({error_type:u.gF,error_message:a.data})),e((0,w.U)()),!1)};a(42233);var h=a(58900),v=a(36601),b=a(42714);function E(){return(e,t)=>{var a=(0,c.r5)("intent",t()),n=(0,c.r5)("databaseEnabled",t()),r=(0,c.r5)("backup_option",t()),l=[];switch(a){case"push":case"pull":n&&"none"!==r&&l.push("backup"),n&&l.push("tables");break;case"find_replace":"none"!==r&&l.push("backup"),l.push("tables");break;case"import":"none"!==r&&l.push("backup"),l.push("upload"),l.push("import"),l.push("find_replace");break;case"savefile":n&&l.push("tables");break;case"backup_local":l.push("tables")}(l=e((0,g.O)("addMigrationStages",l))).push("finalize"),e((0,m.m)(_.oK,l))}}var w=a(62457),y=a(38068);a(83115);var O=(e,t)=>new Promise((function(a,n){window.setTimeout((()=>a(e())),t)}))},68424:(e,t,a)=>{"use strict";a.d(t,{A_:()=>p,Ax:()=>c,Rp:()=>d});var n=a(42233),r=a(66055),l=a(666),i=a(29942),s=a(47895),o={message:(0,n.__)("<strong>Trouble Connecting to the Server</strong> - Refresh this page to try again. If this warning persists, make sure that access to the REST API has not been disabled by a theme, plugin, or custom code in the wp-config.php file.","wp-migrate-db"),id:"wpmdb_rest_inactive"};function c(){return async e=>{e((0,r.m)(l.Zz,"licence_expired")),e((0,r.m)(l.Zz,"not_activated")),e((0,r.m)(l.Zz,"activation_deactivated")),e((0,r.m)(l.Zz,"wpmdb_invalid_license"))}}function p(){return e=>{var t,a;e((t="wpmd_rest_inactive",a=o,async e=>e((0,r.m)(l.Dv,{key:t,value:a})))),e((0,r.m)(l.e2,"wpmdb_rest_inactive"))}}function d(e,t,a){return async(n,o)=>{var c;n((0,s.Tf)(e,!0,l.k0)),n((0,s.q$)(e,l.$V)),(0,i.op)("/process-notice-link",{notice:e,type:t,reminder:a}).then((e=>{e.success})).catch((e=>{console.error(e)})),n((c=e,async e=>e((0,r.m)(l.Kf,{key:c}))))}}},22633:(e,t,a)=>{"use strict";a.d(t,{$f:()=>P,$z:()=>_,G7:()=>h,H5:()=>f,I4:()=>w,LX:()=>E,OW:()=>O,SO:()=>v,WJ:()=>Z,Xl:()=>b,er:()=>y,ii:()=>g,nW:()=>N,qb:()=>S,rC:()=>T});var n=a(10734),r=a.n(n),l=(a(49736),a(66055)),i=a(41459),s=a(14251),o=a(4669),c=a(76178),p=a(29950),d=a(22497),u=a(74094),m=a(34653),_=["tables","backups","post_types","advanced_options","standard_fields","custom_fields"];function g(e){return t=>{t({type:i.fR,payload:e})}}function f(e){return{type:i.h6,payload:e}}function h(e){return t=>{var a=[...e];t({type:i.ig,payload:a})}}function v(e){return(t,a)=>{if("database"!==e)return t({type:i.kW,payload:e})}}function b(){return(e,t)=>{var a=(0,c.O)("panelsOpen",t()),n=(0,c.O)("registeredPanels",t()),r=[...a];return r=a.some((e=>_.includes(e)&&n.includes(e)))?r.filter((e=>!_.includes(e))):[...r,..._].filter((e=>n.includes(e))),e((0,l.m)(i.ig,r)),!1}}function E(e){return(t,a)=>{t({type:i.kW,payload:e})}}function w(e){return(0,l.m)(i.q2,e)}function y(e){return(t,a)=>{if("database"!==e)return t((0,l.m)(i._H,[e]));var n=(0,c.O)("panelsOpen",a()).filter((e=>_.includes(e)||"database"===e));t((0,l.m)(i._H,n))}}function O(e){return(0,l.m)(i.pE,e)}function T(e,t){return(a,n)=>{var r=null;"undefined"!==typeof t&&(r=[...t]),a({type:i.Nv,payload:e,panelPayload:r})}}var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(n,l)=>{var i=[...l().panels.panelsToDisplay];-1===r()(i,e)&&i.push(e),n(T(i)),t&&a&&n(f({parent:t,title:a}))}},N=e=>(t,a)=>{var n=[...a().panels.panelsToDisplay];e.forEach((e=>{-1===r()(n,e)&&n.push(e)})),t(T(n))},Z=e=>(t,a)=>{var n=[...a().panels.panelsToDisplay],l=r()(n,e);-1!==l&&(n.splice(l,1),t(T(n)))};function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(a,n)=>{var r=n(),i=a((0,u.J)());t||a((0,s.oA)());var c=e.panel,_=e.intent;if(t||a((0,l.m)(p.F3,function(e){switch(e){case"savefile":return["gzip_file","replace_guids","exclude_transients"];case"find_replace":case"push":case"pull":return["replace_guids","exclude_transients"];case"backup_local":return["exclude_spam","exclude_transients","gzip_file"]}return[]}(_))),t||!i&&_!==r.migrations.current_migration.intent){a((0,d.Kw)("addonActions"));var g=a((0,d.O)("addonPanels",[],_)),f=a((0,d.O)("addonPanelsOpen",[c,"custom_fields"],_));g.push(c);"savefile"===_&&["media_files","theme_plugin_files"].forEach((e=>g.push(e))),a(T(g,f));["savefile","backup_local","find_replace"].includes(_)&&a((0,s.I8)(!0)),t||(a((0,s.CV)({intent:_})),a((0,o.EX)(_))),["savefile","find_replace"].includes(_)&&a((0,m.addonsLoaded)())}}}},52650:(e,t,a)=>{"use strict";a.d(t,{a:()=>g,b:()=>_});var n=a(89472),r=a(88368),l=a(96480),i=a.n(l),s=a(4516),o=a(76178),c=a(41459),p=a(14251),d=a(22497),u=a(29942),m=a(41221);function _(){return(e,t)=>{e((0,p.Tf)("")),e((0,p.j8)(i()())),(0,u.aE)()&&e((0,m.Mp)());var a=(0,s.Jm)("custom_search_replace",t()),l=(0,s._P)("this_url",t()),_=(0,s._P)("this_path",t()),g=(0,s.r5)(["post_types_option","post_types_selected","backup_option","backup_tables_selected","tables_option","tables_selected","databaseEnabled","intent"],t()),f=(0,r.Z)(g,8),h=f[0],v=f[1],b=f[2],E=f[3],w=f[4],y=f[5],O=f[6],T=f[7],S=t(),N=S.media_files,Z=S.theme_plugin_files,P=S.migrations,k=(0,o.O)("panelsOpen",t()),x=(0,s.r5)("status",t())||[];if(""===x&&(x=[]),O){if(a.length){var R,A=(0,n.Z)(a);try{for(A.s();!(R=A.n()).done;){var C=R.value;if(""===C.replace_old&&""!==C.replace_new||[(0,u.Ph)(l),_].includes(C.replace_old)&&""===C.replace_new){x.push({name:"COMMON_SEARCH_REPLACE_EMPTY",panel:"custom_fields"});break}if(C.regex&&!C.isValidRegex){x.push({name:"COMMON_SEARCH_REPLACE_INVALID_REGEX",panel:"custom_fields"});break}}}catch(M){A.e(M)}finally{A.f()}}"selected"===h&&0===v.length&&x.push({name:"POST_TYPES_SELECTED_EMPTY",panel:"post_types"}),"backup_manual_select"===b&&0===E.length&&x.push({name:"BACKUP_TABLES_SELECTED_EMPTY",panel:"backups"}),"selected"===w&&0===y.length&&x.push({name:"TABLES_SELECTED_EMPTY",panel:"tables"})}var I=[];if(["push","pull","savefile"].includes(T)&&(N&&!0===N.enabled&&I.push("media"),Z)){var D=function(e,t){var a=e.other_files,n=e.plugin_files,r=e.muplugin_files,l=e.theme_files,i=e.core_files,s=t.others,o=t.plugins,c=t.muplugins,p=t.themes,d=t.core,u=[];a&&!0===a.enabled&&Object.keys(s).length>0&&u.push("others");n&&!0===n.enabled&&Object.keys(o).length>0&&u.push("plugins");r&&!0===r.enabled&&Object.keys(c).length>0&&u.push("muplugins");l&&!0===l.enabled&&Object.keys(p).length>0&&u.push("themes");i&&!0===i.enabled&&Object.keys(d).length>0&&u.push("core");return u}(Z,"pull"===T?P.remote_site.site_details:P.local_site.site_details);I.push(...D)}return!0===O&&I.push("database"),0===I.length&&x.push({name:"EMPTY_MIGRATION_STAGES",panel:"submit"}),!((x=e((0,d.O)("wpmdbPreMigrationCheck",x))).length>0)||(e((0,p.Tf)(x)),x.forEach((t=>{k.includes(t.panel)||e({type:c.kW,payload:t.panel})})),!1)}}function g(e,t){if(!e||"object"!==typeof e||!e.length)return!1;var a=!1;return e.forEach((e=>{e.name===t&&(a=!0)})),a}},61358:(e,t,a)=>{"use strict";a.d(t,{qU:()=>Z,uJ:()=>P,Vu:()=>k,F9:()=>x,zD:()=>N});var n,r=a(86552),l=a(4665),i=a(50029),s=a.n(i),o=(a(70659),a(27114)),c=a(29942),p=a(66055),d=a(22973),u=a(29950),m=a(17186),_=a(30348);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g.apply(this,arguments)}a.p;var f,h=(0,_.ZP)((e=>l.createElement("svg",g({style:{animationFillMode:"forwards",animationIterationCount:1},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:"el_0iWebJDPz"},e),n||(n=l.createElement("style",null,"@keyframes kf_el_mS-6SGLslI_an_V1DkmYpQ2{0%,50%{opacity:0}53.33%,to{opacity:1}}@keyframes kf_el_flrbQh1w8k_an_9eUz96drwv{0%,to{stroke-dasharray:59.7}}@keyframes kf_el_flrbQh1w8k_an_C4kYjD6bN{0%{stroke-dashoffset:59.7}50%,to{stroke-dashoffset:0}}@keyframes kf_el_mS-6SGLslI_an_bM1FLjjf73{0%,50%,to{stroke-dasharray:11.74}}@keyframes kf_el_mS-6SGLslI_an_fdLET0VVs{0%,50%{stroke-dashoffset:11.74}to{stroke-dashoffset:0}}#el_0iWebJDPz *{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}")),l.createElement("g",{fillRule:"evenodd",style:{stroke:"#fff",fill:"none",WebkitTransform:"translate(2px,2px)",transform:"translate(2px,2px)"}},l.createElement("path",{style:{strokeWidth:2,WebkitAnimationFillMode:"forwards,forwards,forwards",animationFillMode:"forwards,forwards,forwards",strokeDashoffset:11.74,WebkitAnimationName:"kf_el_mS-6SGLslI_an_fdLET0VVs,kf_el_mS-6SGLslI_an_bM1FLjjf73,kf_el_mS-6SGLslI_an_V1DkmYpQ2",animationName:"kf_el_mS-6SGLslI_an_fdLET0VVs,kf_el_mS-6SGLslI_an_bM1FLjjf73,kf_el_mS-6SGLslI_an_V1DkmYpQ2",WebkitAnimationTimingFunction:"cubic-bezier(0,0,1,1),cubic-bezier(0,0,1,1),cubic-bezier(0,0,1,1)",animationTimingFunction:"cubic-bezier(0,0,1,1),cubic-bezier(0,0,1,1),cubic-bezier(0,0,1,1)",strokeDasharray:11.74},d:"M6 10.5 9.2 13 14 7"}),l.createElement("circle",{cx:10,cy:10,r:9.5,style:{fillOpacity:0,WebkitAnimationFillMode:"forwards,forwards",animationFillMode:"forwards,forwards",strokeDashoffset:59.7,WebkitAnimationName:"kf_el_flrbQh1w8k_an_C4kYjD6bN,kf_el_flrbQh1w8k_an_9eUz96drwv",animationName:"kf_el_flrbQh1w8k_an_C4kYjD6bN,kf_el_flrbQh1w8k_an_9eUz96drwv",WebkitAnimationTimingFunction:"cubic-bezier(0,0,1,1),cubic-bezier(0,0,1,1)",animationTimingFunction:"cubic-bezier(0,0,1,1),cubic-bezier(0,0,1,1)",strokeDasharray:59.7}})))))(f||(f=(0,m.Z)(["\n  #el_aEQFk8pHYY {\n    stroke: #fff;\n  }\n  width: 30px;\n"]))),v=a(47585);function b(e){var t=e.migrations,a=t.current_migration,n=t.connection_info,l=t.search_replace,i=a;n=(0,c.Yu)()?(0,r.Z)((0,r.Z)({},n),{},{status:(0,r.Z)({},v.A)}):void 0;var s={current_migration:a=(0,r.Z)((0,r.Z)({},i),{},{intent:i.intent,status:"",current_stage:"",stages:[],selected_existing_profile:null,running:!1,migration_enabled:!1}),connection_info:n,search_replace:l,media_files:e.media_files,theme_plugin_files:e.theme_plugin_files,multisite_tools:e.multisite_tools};return JSON.stringify(s)}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(a,n)=>{var r=b(n());return{name:e,value:r,guid:s()(),fromRecent:t}}}function w(e){return(t,a)=>(t({type:d._n,payload:e}),a())}function y(e,t){return async(a,n)=>{var r;return a((0,p.m)(d.Cp,"Save")),a((r={data:{location:e,message:(0,o.Y)(t)}},(0,p.m)(d.Gg,r))),!1}}function O(e){return(0,p.m)(d.qk,e)}function T(){return(0,p.m)(d.a)}function S(){return(0,p.m)(d.aC)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"saved";return(0,p.m)(u.NS,{id:e,type:t})}function Z(e){return async(t,a)=>{var n,r=t(E(e.name));t(T());try{n=await(0,c.op)("/save-profile",r,!1,t)}catch(l){return t(y("migration",l))}if(!n.success)return t(y("migration",n));n.success&&t((0,p.m)(d.Cp,"success")),t(w({name:e.name,guid:r.guid,id:n.data.id}));return t((0,p.m)(u.eZ,{profile_saved:!0})),t({type:d.bQ,payload:{id:n.data.id,type:"saved"}}),n}}function P(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return async(t,a)=>{var n=a().migrations.current_migration,r=n.profile_name;if(null!==n.profile_type)return null;var l,i=t(E(r));i.id=e,t(S());try{(l=await(0,c.op)("/unsaved-profile",i,!1,t)).success&&t(N(l.data.id,"unsaved"))}catch(s){return t(y("migration",s))}return l.success?("not saved"===l.data||t({type:d.YQ,payload:l.data}),l):t(y("migration",l))}}function k(e,t){return async(a,n)=>{var r=b(n());a(O(!0));var l,i={contents:r,guid:e};try{l=await(0,c.op)("/overwrite-profile",i)}catch(s){return a(y("migration",s))}if(!l.success)return a(y("migration",l));a(O(!1)),l.success&&a((0,p.m)(d.Cp,"success")),a((0,p.m)(u.eZ,{profile_saved:!0})),a({type:d.Qu,payload:t})}}var x=(e,t)=>a=>{var n=e.btn_text;return"success"===n?(setTimeout((()=>{var e;a((e="Save",async(t,a)=>{t((0,p.m)(d.Cp,e))}))}),2e3),l.createElement(h,{className:"success",onAnimationEnd:()=>{t(!1)}})):n}},31572:(e,t,a)=>{"use strict";a.d(t,{J2:()=>E,g5:()=>b});var n=a(88368),r=a(62295),l=a(42233),i=a(66055),s=a(22973),o=a(29950),c=a(29942),p=a(22633),d=a(14251),u=a(91828),m=a(27325),_=a(4516),g=a(58696),f=a(36601),h=e=>{switch(e){case"push":case"pull":return"connect";case"find_replace":case"backup":case"savefile":default:return"database";case"import":return"import"}};function v(e,t){return async(n,u)=>{(0,r.dC)((()=>{n((0,d.oA)()),n((0,i.m)(s.jJ))}));var m=await(0,f.c9)();if(!(m.hasOwnProperty("data")&&m.data.hasOwnProperty("migration")&&m.data.migration)){var h;try{h=await(0,c.op)("/load-profile",{id:e,unSaved:t},!1,n)}catch(b){return void n((0,i.m)(s.KG,(0,l.__)("Error loading profile, please check your server error logs.","wp-migrate-db")))}if("Profile does not exist."!==h.data){if(h.data.hasOwnProperty("profile")){h.data.profile.value=JSON.parse(h.data.profile.value);var v=h.data.profile.value.current_migration.intent;return(0,c.Yu)()||["savefile","find_replace","backup_local"].includes(v)?(n({type:o.Ld,payload:h.data}),(0,r.dC)((()=>{(0,c.Yu)()&&["push","pull"].includes(v)&&n((async(e,t)=>{var n=(0,_.r5)("intent",t()),r=(0,g.C)("connection_state",t()),l=await Promise.resolve().then(a.bind(a,34363)),i=l.changeConnection,s=l.connectToRemote;if("push"===n||"pull"===n){if(await e(i("".concat(r.url,"\n").concat(r.key))))return!1;e(s(n))}})),"import"===v&&n((0,i.m)(o.n_,!1)),setTimeout((()=>{n((0,p.I4)("action_buttons"))}),100)})),h.data):(n({type:s.$Q,payload:{}}),!1)}n((0,i.m)(s.KG,h.data))}else n((0,i.m)(s.KG,h.data))}}}function b(e){return async(t,a)=>{var n=e.path.includes("unsaved"),r=(0,m.u)("masked_licence",a()),l=await t(v(e.params.id,n));if(!l)return!1;var i=l.profile.value.current_migration.intent,s=h(i);"import"!==i||r||t((0,d.I8)(!1)),t((0,p.$f)({panel:s,title:u.B[i],intent:i},!0))}}var E=()=>async e=>{var t=(0,c.OK)();if(!1!==t){var a=(0,n.Z)(t,2);return e(b({path:"unsaved"===a[0]?"unsaved":"saved",params:{id:a[1]}}))}return Promise.resolve(!1)}},4669:(e,t,a)=>{"use strict";a.d(t,{CN:()=>o,EX:()=>m,FL:()=>d,GJ:()=>p,Kf:()=>l,My:()=>i,Px:()=>u,mX:()=>r,rL:()=>s,z$:()=>_,zf:()=>c});var n=a(66441);function r(e){return t=>{t({type:n.oK,payload:e})}}function l(e){return t=>{t({type:n.G3,payload:e})}}function i(){return(e,t)=>{e({type:n.P5})}}function s(e){return(t,a)=>{t({type:n.O9,payload:e})}}function o(e){return(t,a)=>{t({type:n.ci,payload:e})}}function c(e){return{type:n.IY,payload:e}}function p(e){return{type:n.Q0,payload:e}}function d(e){return{type:n.hx,payload:e}}function u(e){return{type:n.zi,index:e}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(a,r)=>{var l=r(),i={intent:e,local_site:l.migrations.local_site,force_update:t};a({type:n.KM,payload:i})}}function _(){return{type:n.S_}}},87326:(e,t,a)=>{"use strict";a.d(t,{NV:()=>m,Xn:()=>h,c9:()=>u,m7:()=>_,nE:()=>g,rT:()=>d,ut:()=>p});a(62295);var n=a(29942),r=a(19826),l=a(66055),i=a(27114),s=a(666),o=a(47895);function c(e,t){return(a,n)=>(a((0,l.m)(r.TE,{location:e,message:(0,i.Y)(t)})),!1)}function p(e){return t=>{t((0,l.m)(r.Ft,e))}}function d(e){return(t,a)=>{t((0,o.q$)(e,r.eH))}}function u(e,t){return async(a,n)=>{a((0,o.Tf)(e,t,r.YQ))}}function m(){return async e=>{e(u("reset_api_key",!0)),e(d("reset_api_key"));var t=await(0,n.op)("/reset-api-key",{});if(!t.success)return e(c("reset_api_key",t)),e(u("reset_api_key","errored")),void setTimeout((()=>{e(u("reset_api_key",!1))}),1500);e(u("reset_api_key",!1)),e(p(t.data))}}function _(e,t){return a=>{a((0,l.m)(r.km,{setting:e,value:t}))}}function g(e,t){return async a=>{a(c(e,t)),a(u(e,"errored"))}}function f(e,t,r,i){return async o=>{var c;o(u(t,!0)),o(d(t));try{c=await r()}catch(p){return o(g(t,p))}if(!c.success)return o(g(t,c));if(o(u(t,"success")),o(_(t,e)),i)switch(i){case"beta":if((0,n.Yu)())return Promise.resolve().then(a.bind(a,40882)).then((e=>{var t=e.betaOptionToggle;o(t())}));break;case"allow_tracking":o((0,l.m)(s.Kf,{key:"notice-enable-usage-tracking"}))}setTimeout((()=>{o(u(t,!1))}),1500)}}function h(e,t,a){return async r=>r(f(t,e,(async()=>(0,n.op)("/save-setting",{setting:e,checked:t})),a))}},47585:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var n={auth_form:{username:"",password:""},show_auth_form:!1,connecting:!1,error:!1,error_msg:"",button_status:"disabled",ssl_notice:!1,pasted:!1,copy_to_remote:!1,prefix_mismatch:!1,mixed_case_table_name_warning:!1,show_mst_warning:!1,update_plugin_on_remote:!1,retry_over_http:!1}},29950:(e,t,a)=>{"use strict";a.d(t,{AV:()=>B,Ac:()=>O,EF:()=>S,F3:()=>N,GG:()=>D,IJ:()=>j,KU:()=>_,Ld:()=>Z,NL:()=>V,NS:()=>P,Nt:()=>b,O$:()=>f,S_:()=>X,Ss:()=>w,Um:()=>k,W$:()=>F,X4:()=>H,Yl:()=>h,Zz:()=>Y,av:()=>E,b4:()=>G,b_:()=>L,d0:()=>A,eZ:()=>u,f7:()=>R,ic:()=>v,jD:()=>I,mO:()=>y,mu:()=>g,n_:()=>C,oK:()=>x,pi:()=>W,r2:()=>$,rk:()=>U,sP:()=>M,sr:()=>z,tJ:()=>q,tX:()=>m,u2:()=>T});var n=a(86552),r=a(58319),l=a.n(r),i=a(33351),s=a.n(i),o=a(26429),c=a(29942),p=a(22973),d=a(66866),u="REPLACE_CURRENT_MIGRATION",m="SET_MIGRATION_CONNECTED",_="UPDATE_SELECTED_TABLES",g="UPDATE_TABLES_OPTION",f="UPDATE_BACKUPS_TABLES",h="UPDATE_BACKUPS_OPTION",v="UPDATE_POSTTYPES_SELECTED",b="UPDATE_POSTTYPES_OPTION",E="UPDATE_CURRENT_MIGRATION",w="UPDATE_ADVANCED_OPTIONS",y="UPDATE_SOURCE_PREFIX",O="UPDATE_DESTINATION_PREFIX",T="UPDATE_TWO_MULTISITES",S="UPDATE_LOCAL_SOURCE",N="REPLACE_ADVANCED_OPTIONS",Z="LOAD_PROFILE",P="SET_EXISTING_PROFILE",k="SET_MIGRATION_PREVIEW",x="SET_MIGRATION_STAGES",R="SET_CURRENT_STAGE",A="SET_STATUS",C="SET_MIGRATION_ENABLED",I="SET_MIGRATION_RUNNING",D="SET_STAGES_COMPLETE",M="SET_STAGE_COMPLETE",L="SET_MIGRATION_ID",F="SET_HIGH_PERFORMANCE_TRANSFERS_STATUS",B="TOGGLE_DATABASE_PANEL",U="ENABLE_DATABASE",j="SET_CURRENT_PAYLOAD_SIZE",G="INCREMENT_FILE_TRANSFER_COUNT",z="ADD_PAYLOAD_SIZE_HISTORY",H="SET_CURRENT_MAX_PAYLOAD_SIZE",V="ADD_HIGH_PERFORMANCE_TRANSFER_STAT",W="SET_RESTORED_FROM_BACKGROUND",$="RESTORE_CURRENT_MIGRATION_STATE",q="SET_RESTORE_FROM_BACKGROUND_COMPLETE",K={connected:!1,intent:(0,c.aE)()?"push":"",tables_option:"all",tables_selected:[],backup_option:"none",backup_tables_selected:[],post_types_option:"all",post_types_selected:[],advanced_options_selected:[],profile_name:"",selected_existing_profile:null,profile_type:null,status:{disabled:!1},stages:[],current_stage:"",stages_complete:[],running:!1,migration_enabled:!1,migration_id:null,source_prefix:"",destination_prefix:"",preview:!1,selectedComboOption:"preview",twoMultisites:!1,localSource:!0,databaseEnabled:!0,currentPayloadSize:0,currentMaxPayloadSize:null,fileTransferRequests:0,payloadSizeHistory:[],fileTransferStats:[],forceHighPerformanceTransfers:!0,fseDumpFilename:null,restoredFromBackground:!1,restoreComplete:!1},Y=["replace_guids","exclude_spam","exclude_transients","keep_active_plugins","compatibility_older_mysql","gzip_file"];function J(e,t,a){return(0,n.Z)((0,n.Z)({},e),{},{[t]:a})}var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,a=(0,n.Z)({},e);return(0,o.ZP)(e,(r=>{var i;switch(t.type){case"RESET_APP":return K;case"RESET_MIGRATION":return(0,n.Z)((0,n.Z)({},K),{},{intent:e.intent});case $:return(0,n.Z)((0,n.Z)({},r),t.payload);case u:return l()(r,t.payload);case E:return r.intent=t.payload.intent,r;case k:return r.preview=t.payload,r;case p.Qu:return r.profile_name=t.payload,r;case m:return r.connected=t.connected,r;case _:var o=(0,n.Z)((0,n.Z)({},e),{},{tables_selected:t.payload});return"migration"===e.backup_option&&s()(o,{backup_tables_selected:t.payload}),o;case y:return J(e,"source_prefix",t.payload);case O:return J(e,"destination_prefix",t.payload);case T:return J(e,"twoMultisites",t.payload);case S:return J(e,"localSource",t.payload);case g:return J(e,"tables_option",t.payload);case f:return J(e,"backup_tables_selected",t.payload);case h:return J(e,"backup_option",t.payload);case v:return J(e,"post_types_selected",t.payload);case b:return J(e,"post_types_option",t.payload);case L:return J(e,"migration_id",t.payload);case w:return a=(0,c.XV)(e.advanced_options_selected,t.payload),(0,n.Z)((0,n.Z)({},e),{},{advanced_options_selected:a});case N:return(0,n.Z)((0,n.Z)({},e),{},{advanced_options_selected:t.payload});case Z:var Y=t.payload.profile.value.current_migration,X=Y.intent;return(0,n.Z)((0,n.Z)({},Y),{},{connected:!1,selected_existing_profile:t.payload.id,profile_type:t.payload.profile.value.profile_type,stages_complete:[],migration_enabled:!["push","pull"].includes(X),currentPayloadSize:0,fileTransferRequests:0,payloadSizeHistory:[]});case P:case p.bQ:return r.selected_existing_profile=t.payload.id,r.profile_type=t.payload.type,r;case"SET_MIGRATION_DISABLED":return(0,n.Z)((0,n.Z)({},r),{},{status:(0,n.Z)((0,n.Z)({},r.status),{},{disabled:t.payload})});case x:return(0,n.Z)((0,n.Z)({},r),{},{stages:t.payload});case R:return(0,n.Z)((0,n.Z)({},r),{},{current_stage:t.payload});case I:return(0,n.Z)((0,n.Z)({},r),{},{running:t.payload,preview:!1!==t.payload&&r.preview});case A:return(0,n.Z)((0,n.Z)({},r),{},{status:t.payload});case C:return(0,n.Z)((0,n.Z)({},r),{},{migration_enabled:t.payload});case"SET_CONNECTED":return(0,n.Z)((0,n.Z)({},r),{},{migration_enabled:!0});case M:return r.stages_complete.push(t.payload),r;case D:return(0,n.Z)((0,n.Z)({},r),{},{stages_complete:t.payload});case"MST_TOGGLE_ENABLED":return t.payload.enabled?r:J(e,"tables_option","all");case"SET_SELECTED_MIGRATION_COMBO_OPTION":return(0,n.Z)((0,n.Z)({},r),{},{selectedComboOption:t.payload});case B:return(0,n.Z)((0,n.Z)({},r),{},{databaseEnabled:!r.databaseEnabled});case U:return(0,n.Z)((0,n.Z)({},r),{},{databaseEnabled:!0});case d.u9:return(0,n.Z)((0,n.Z)({},r),{},{currentPayloadSize:0,fileTransferRequests:0,payloadSizeHistory:[],fileTransferStats:[]});case j:return(0,n.Z)((0,n.Z)({},r),{},{currentPayloadSize:t.payload});case H:return(0,n.Z)((0,n.Z)({},r),{},{currentMaxPayloadSize:t.payload});case z:return(0,n.Z)((0,n.Z)({},r),{},{payloadSizeHistory:[...r.payloadSizeHistory?r.payloadSizeHistory:[],null!==(i=t.payload)&&void 0!==i?i:0]});case G:return r.fileTransferRequests?(0,n.Z)((0,n.Z)({},r),{},{fileTransferRequests:r.fileTransferRequests+1}):(0,n.Z)((0,n.Z)({},r),{},{fileTransferRequests:1});case F:var Q,ee,te=!1;if("push"===r.intent)te=null!==(Q=t.payload.remote_site_mode)&&void 0!==Q&&Q;if("pull"===r.intent)te=null!==(ee=t.payload.local_site_mode)&&void 0!==ee&&ee;return(0,n.Z)((0,n.Z)({},r),{},{highPerformanceTransfersStatus:te});case V:return(0,n.Z)((0,n.Z)({},r),{},{fileTransferStats:[...r.fileTransferStats?r.fileTransferStats:[],t.payload]});case"SET_FORCE_HIGH_PERFORMANCE_TRANSFERS":return(0,n.Z)((0,n.Z)({},r),{},{forceHighPerformanceTransfers:t.payload});case"SET_FSE_DUMP_FILENAME":return(0,n.Z)((0,n.Z)({},r),{},{fseDumpFilename:t.payload});case W:return(0,n.Z)((0,n.Z)({},r),{},{restoredFromBackground:t.payload});case q:return(0,n.Z)((0,n.Z)({},r),{},{restoreComplete:t.payload});default:return e}}))}},15265:(e,t,a)=>{"use strict";a.d(t,{DQ:()=>l,_b:()=>i,xN:()=>o});var n=a(86552),r=a(66866),l="ADD_DRY_RUN_RESULT",i="SET_CURRENTLY_PREVIEWED_DRY_RUN_ITEM",s={results:[],currentPreviewItem:null},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,a=(0,n.Z)({},e);switch(t.type){case l:var o=[...a.results],c=o.findIndex((e=>e.table===t.payload.table));if(-1!==c){var p=(0,n.Z)({},o[c]);p.data=p.data.concat(t.payload.data),p.count=p.data.length,p.time+=t.payload.time,p.executed=!0,o[c]=p}else o.push((0,n.Z)((0,n.Z)({},t.payload),{},{count:t.payload.data.length}));return(0,n.Z)((0,n.Z)({},a),{},{results:o});case i:return(0,n.Z)((0,n.Z)({},e),{},{currentPreviewItem:t.payload});case r.Jj:return"CANCEL_COMPLETE"===t.payload?(0,n.Z)({},s):(0,n.Z)({},e);default:return e}}},18066:(e,t,a)=>{"use strict";a.d(t,{TO:()=>r,ZP:()=>s,fK:()=>l,l3:()=>i});var n=a(52089),r="ADD_ACTION",l="ADD_FILTER",i="REMOVE_FILTER";const s=(0,n.Lq)({filters:[],actions:[]},{ADD_ACTION:(e,t)=>(e.actions.push(t.payload),e),ADD_FILTER:(e,t)=>(e.filters.push(t.payload),e),REMOVE_FILTER:(e,t)=>{var a=e.filters;return e.filters=a.filter((e=>e.name!==t.payload.name)),e}})},66866:(e,t,a)=>{"use strict";a.d(t,{D$:()=>M,DL:()=>k,Du:()=>p,G:()=>T,Jj:()=>m,K$:()=>C,Lw:()=>E,MG:()=>b,QH:()=>g,V$:()=>c,VY:()=>x,Z2:()=>D,c4:()=>w,cE:()=>d,cJ:()=>y,dS:()=>R,eQ:()=>I,gF:()=>s,hS:()=>S,hg:()=>f,l2:()=>v,mx:()=>N,ol:()=>Z,sr:()=>O,tO:()=>_,ti:()=>P,u9:()=>h,v$:()=>A,wJ:()=>u});var n,r=a(86552),l=a(26429),i=a(29950),s="MIGRATION_ERROR_TYPE_FATAL",o={title:"",progress_message:"",progress:{},stages:[],migration_tables:[],status:"",progress_stage:"",total_stage_size:0,migration_size:0,stage_size:0,item_progress:{},timer:{on:!1,start:0,time:0,timer_instance:null},pause_before_finalize:!1,document_title:document.title,dump_info:{},allow_page_leave:!0,showDryRunResults:!1,backgroundMigrationProgress:null!==(n=window.wpmdb_data.active_migration)&&void 0!==n?n:{},backgroundMigrationRunning:!!window.wpmdb_data.active_migration,migration_id:null,migration_error:{},error_stage:"",total:{processed_bytes:0,target_bytes:0},runningPercentage:0},c="SET_TITLE",p="SET_PROGRESS_MESSAGE",d="SET_MIGRATION_ERROR",u="SET_ERROR_STAGE",m="MIGRATION_STATUS",_="SET_STAGE_TOTAL_SIZE",g="SET_STAGE_SIZE",f="RESET_STAGES",h="RESET_MIGRATION_SIZE",v="SET_MIGRATION_SIZE",b="SET_PROGRESS_STAGE",E="RESET_PROGRESS_STAGE",w="SET_TIMER_ON",y="SET_TIMER_TIME",O="SET_TIMER_START",T="SET_TIMER",S="SET_TIMER_INSTANCE",N="SET_PAUSE_BEFORE_FINALIZE",Z="SET_DOCUMENT_TITLE",P="SET_ALLOW_PAGE_LEAVE",k="SET_SHOW_DRY_RUN_RESULTS",x="SET_BACKGROUND_MIGRATION_STATUS",R="SET_BACKGROUND_MIGRATION_RUNNING",A="SET_BACKGROUND_MIGRATION_ID",C="SET_MIGRATION_TOTAL",I="SET_RUNNING_PERCENTAGE",D="CLOSE_MIGRATION",M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return(0,l.ZP)(e,(a=>{switch(t.type){case"RESET_APP":return(0,r.Z)((0,r.Z)({},o),{},{backgroundMigrationRunning:!1,backgroundMigrationProgress:{}});case D:return(0,r.Z)((0,r.Z)({},a),{},{total:null,runningPercentage:0});case i.jD:return!0===t.payload?(0,r.Z)((0,r.Z)({},a),{},{status:"",showDryRunResults:!1}):e;case c:return(0,r.Z)((0,r.Z)({},a),{},{title:t.payload});case p:return(0,r.Z)((0,r.Z)({},a),{},{progress_message:t.payload});case"SET_PROGRESS":return(0,r.Z)((0,r.Z)({},a),{},{progress:t.payload});case d:return(0,r.Z)((0,r.Z)({},a),{},{migration_error:t.payload});case u:return(0,r.Z)((0,r.Z)({},a),{},{error_stage:t.payload});case"SET_MIGRATION_TABLES":return(0,r.Z)((0,r.Z)({},a),{},{migration_tables:t.payload});case b:return(0,r.Z)((0,r.Z)({},a),{},{progress_stage:t.payload});case"REMOVE_MIGRATION_TABLE":return a.migration_tables.splice(t.payload,1),a;case m:return(0,r.Z)((0,r.Z)({},a),{},{status:t.payload});case C:return(0,r.Z)((0,r.Z)({},a),{},{total:t.payload});case I:return(0,r.Z)((0,r.Z)({},a),{},{runningPercentage:t.payload});case _:return(0,r.Z)((0,r.Z)({},a),{},{total_stage_size:t.payload});case g:return(0,r.Z)((0,r.Z)({},a),{},{stage_size:t.payload});case"SET_ITEM_PROGRESS":var n=(0,r.Z)({},a.item_progress),l=t.payload,s=l.item,M=l.progress;return n[s]=M,(0,r.Z)((0,r.Z)({},a),{},{item_progress:n});case E:return(0,r.Z)((0,r.Z)({},a),{},{item_progress:{},stage_size:0});case T:return(0,r.Z)((0,r.Z)({},a),{},{timer:t.payload});case S:return(0,r.Z)((0,r.Z)({},a),{},{timer:(0,r.Z)((0,r.Z)({},a.timer),{},{timer_instance:t.payload})});case w:return(0,r.Z)((0,r.Z)({},a),{},{timer:(0,r.Z)((0,r.Z)({},a.timer),{},{on:t.payload})});case y:return(0,r.Z)((0,r.Z)({},a),{},{timer:(0,r.Z)((0,r.Z)({},a.timer),{},{time:t.payload})});case O:return(0,r.Z)((0,r.Z)({},a),{},{timer:(0,r.Z)((0,r.Z)({},a.timer),{},{start:t.payload})});case h:return(0,r.Z)((0,r.Z)({},a),{},{migration_size:0});case v:return(0,r.Z)((0,r.Z)({},a),{},{migration_size:t.payload});case f:return(0,r.Z)((0,r.Z)({},a),{},{total_stage_size:0,stage_size:0,item_progress:{}});case N:return(0,r.Z)((0,r.Z)({},a),{},{pause_before_finalize:t.payload});case Z:return(0,r.Z)((0,r.Z)({},a),{},{document_title:t.payload});case"SET_DUMP_INFO":return(0,r.Z)((0,r.Z)({},a),{},{dump_info:t.payload});case i.sP:var L=t.payload,F=a.total_stage_size,B=a.migration_size;return["backup","upload"].includes(L)||(B+=F),(0,r.Z)((0,r.Z)({},a),{},{migration_size:B});case P:return(0,r.Z)((0,r.Z)({},a),{},{allow_page_leave:t.payload});case k:return(0,r.Z)((0,r.Z)({},a),{},{showDryRunResults:t.payload});case x:return(0,r.Z)((0,r.Z)({},a),{},{backgroundMigrationProgress:t.payload});case R:return(0,r.Z)((0,r.Z)({},a),{},{backgroundMigrationRunning:t.payload});case A:return(0,r.Z)((0,r.Z)({},a),{},{migration_id:t.payload});default:return e}}))}},666:(e,t,a)=>{"use strict";a.d(t,{$V:()=>c,Dv:()=>i,Kf:()=>s,ZP:()=>u,Zz:()=>p,e2:()=>d,k0:()=>o});var n=a(86552),r=a(26429),l={messages:(0,n.Z)({},window.wpmdb_notifications),status:{},errors:{},hidden:{}},i="ADD_NOTIFICATION",s="REMOVE_NOTIFICATION",o="SET_NOTIFICATION_STATUS",c="DELETE_NOTIFICATION_ERROR",p="HIDE_NOTIFICATION",d="SHOW_NOTIFICATION";const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;return(0,r.ZP)(e,(a=>{var r=t.payload;switch(t.type){case i:return(0,n.Z)((0,n.Z)({},a),{},{messages:(0,n.Z)((0,n.Z)({},a.messages),{},{[r.key]:r.value})});case s:return delete a.messages[r.key],a;case o:return(0,n.Z)((0,n.Z)({},a),{},{status:(0,n.Z)((0,n.Z)({},a.status),{},{[t.payload.type]:t.payload.status})});case"SET_NOTIFICATION_ERROR":return(0,n.Z)((0,n.Z)({},a),{},{errors:(0,n.Z)((0,n.Z)({},a.errors),{},{[t.payload.location]:t.payload.message})});case c:return delete a.errors[t.payload],a;case p:return a.hidden[r]=r,a;case d:return delete a.hidden[r],a;default:return e}}))}},41459:(e,t,a)=>{"use strict";a.d(t,{Nv:()=>p,ZP:()=>b,_H:()=>g,fR:()=>h,h6:()=>d,ig:()=>u,kW:()=>m,pE:()=>f,q2:()=>_});var n=a(86552),r=a(26429),l=a(42233),i=a(2474),s=a.n(i),o=a(49736),c=a(29942),p="UPDATE_MIGRATION_PANELS",d="UPDATE_PANEL_TITLE",u="UPDATE_MIGRATION_PANELS_OPEN",m="TOGGLE_OPEN_PANEL",_="REMOVE_OPEN_PANEL",g="SET_PANEL_CLICKED",f="SET_PANEL_STATUS",h="REGISTER_PANEL",v={panelsToDisplay:(0,c.d2)()?["basic_auth_warning"]:(0,c.aE)()?["email"]:[],panelsOpen:(0,c.aE)()?["connect"]:["action_buttons"],panelClicked:[],panelStatus:"",panelTitles:{action_buttons:(0,l.__)("Action","wp-migrate-db"),connect:(0,c.aE)()?(0,l.__)("Destination","wp-migrate-db"):(0,l.__)("Remote Site","wp-migrate-db"),database:(0,l.__)("Database","wp-migrate-db"),import:(0,l.__)("SQL File","wp-migrate-db"),save:(0,l.__)("Save Profile","wp-migrate-db")},panelSummaries:{},dbTitles:{tables:o.B.tables.all,backups:o.B.backups.none,post_types:o.B.post_types.all,custom_search_replace:""},registeredPanels:[]};const b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return(0,r.ZP)(e,(a=>{switch(t.type){case"RESET_APP":return;case"RESET_MIGRATION":var r=(0,n.Z)((0,n.Z)({},v),{},{panelsToDisplay:["action_buttons","connect"]});return t.payload&&(r.panelsOpen=t.payload),r;case p:return a.panelsToDisplay=t.payload,t.panelPayload&&(a.panelsOpen=t.panelPayload),a;case d:var i=t.payload,o=i.title,h=i.parent;return a.panelTitles[h]=o,a;case u:return a.panelsOpen=t.payload,a;case m:return a.panelsOpen=(0,c.XV)(e.panelsOpen,t.payload),a;case _:var b=s()(a.panelsOpen,((e,a)=>t.payload!==e));return(0,n.Z)((0,n.Z)({},a),{},{panelsOpen:b});case g:return a.panelClicked=t.payload,a;case f:return a.panelStatus=t.payload,a;case"UPDATE_DB_PANEL_TITLE":return a=function(e,t,a){e.dbTitles[a.payload.key]=a.payload.title;var n=Object.values(e.dbTitles).filter((e=>e)).join(", ");return t=(0,l.__)("Database","wp-migrate-db")+": ".concat(n),e.panelTitles.database=t,e}(a,o,t),a;case"MST_TOGGLE_ENABLED":return!t.payload&&a.panelsOpen.includes("tables")&&a.panelsOpen.splice(a.panelsOpen.indexOf("tables"),1),a;case"REGISTER_PANEL":return a.registeredPanels.includes(t.payload)||a.registeredPanels.push(t.payload),a;default:return e}}))}},22973:(e,t,a)=>{"use strict";a.d(t,{$Q:()=>f,Cp:()=>g,Gg:()=>m,KG:()=>v,Qu:()=>c,YQ:()=>o,ZP:()=>w,_n:()=>s,a:()=>p,aC:()=>d,bQ:()=>_,jJ:()=>h,qk:()=>u});var n=a(86552),r=a(42233),l=a(52089),i=a(29942),s="ADD_PROFILE",o="ADD_RECENT_MIGRATION",c="SAVE_PROFILE_NAME",p="PROFILE_SAVING",d="SAVING_RECENT",u="PROFILE_OVERWRITING",m="PROFILE_SAVE_ERROR",_="SET_CURRENT_PROFILE",g="SET_BUTTON_TEXT",f="SET_PROFILE_STATUS",h="PROFILE_LOADING",v="PROFILE_LOAD_ERROR",b={saving:!1,saving_recent:!1,profile_renaming:!1,profile_deleting:!1,profile_overwriting:!1,profile_save_error:"",profile_loading:null,profile_load_error:!1},E={saved:window.wpmdb_data.migration_profiles,recent:window.wpmdb_data.recent_migrations,toggled:[],status:b,current_profile:null,loaded_profile:null,imported:!1,ui:{btn_text:(0,r.__)("Save","wp-migrate-db")}};const w=(0,l.Lq)(E,{RESET_APP:(e,t)=>(e.current_profile=null,e.loaded_profile=null,e.status=b,e),PROFILE_SAVE_ERROR:(e,t)=>(e.status={saving:!1,saving_recent:!1,profile_renaming:!1,profile_deleting:!1,profile_overwriting:!1,profile_save_error:t.payload.data},e),TOGGLE_PROFILE_EDIT:(e,t)=>(e.toggled=(0,i.XV)(e.toggled,t.payload),e),PROFILE_SAVING:(e,t)=>(e.status=(0,n.Z)((0,n.Z)({},e.status),{},{saving:!0,profile_save_error:""}),e.ui.btn_text=(0,r.__)("Saving...","wp-migrate-db"),e),SAVING_RECENT:(e,t)=>(e.status=(0,n.Z)((0,n.Z)({},e.status),{},{saving_recent:!0,profile_save_error:""}),e),ADD_PROFILE:(e,t)=>(e.saved.push(t.payload),e.status.saving=!1,e),ADD_RECENT_MIGRATION:(e,t)=>(e.recent=t.payload.profiles,e.status.saving_recent=!1,e),PROFILE_DELETING:(e,t)=>(e.status=(0,n.Z)((0,n.Z)({},e.status),{},{profile_deleting:!0,profile_save_error:""}),e),REMOVE_PROFILE:(e,t)=>(e[t.payload.slice].splice(t.payload.index,1),e.status=(0,n.Z)((0,n.Z)({},e.status),{},{saving_recent:!1,profile_deleting:!1}),e),PROFILE_RENAMING:(e,t)=>(e.status=(0,n.Z)((0,n.Z)({},e.status),{},{profile_renaming:!0,profile_save_error:""}),e),RENAME_PROFILE:(e,t)=>(e.saved[t.payload.index].name=t.payload.text,e.status.profile_renaming=!1,e),PROFILE_OVERWRITING:(e,t)=>(e.status.profile_overwriting=t.payload,e.status.profile_save_error="",null!==e.loaded_profile&&(e.loaded_profile.imported=!1),e.ui.btn_text=(0,r.__)("Saving...","wp-migrate-db"),e),PROFILE_LOADING:(e,t)=>(e.status.profile_loading=!0,e),LOAD_PROFILE:(e,t)=>(e.status.profile_loading=!1,e.current_profile=t.payload.id,e.loaded_profile=t.payload.profile,e),SET_PROFILE_STATUS:(e,t)=>(e.status.profile_loading=!1,e),SET_CURRENT_PROFILE:(e,t)=>(e.current_profile=t.payload.id,e),SET_BUTTON_TEXT:(e,t)=>(e.ui.btn_text=t.payload,e),PROFILE_LOAD_ERROR:(e,t)=>(e.status.profile_load_error=t.payload,e)})},66441:(e,t,a)=>{"use strict";a.d(t,{Dh:()=>v,G3:()=>p,IY:()=>m,KM:()=>h,O9:()=>d,P5:()=>E,Q0:()=>_,S_:()=>b,ci:()=>u,hx:()=>g,jC:()=>T,oK:()=>c,zi:()=>f});var n=a(86552),r=a(96480),l=a.n(r),i=a(26429),s=a(29942),o=a(29950),c="UPDATE_STANDARD_SEARCH_REPLACE",p="UPDATE_STANDARD_SEARCH_REPLACE_DOMAIN",d="TOGGLE_STANDARD_SEARCH_REPLACE",u="TOGGLE_STANDARD_SEARCH_REPLACE_VISIBLE",m="UPDATE_CUSTOM_SEARCH_REPLACE",_="REORDER_CUSTOM_SEARCH_REPLACE",g="ADD_CUSTOM_SEARCH_REPLACE_ITEM",f="DELETE_CUSTOM_SEARCH_REPLACE_ITEM",h="SET_CUSTOM_SEARCH_REPLACE",v="SET_CUSTOM_SEARCH_DOMAIN_LOCKED",b="RESET_CUSTOM_SEARCH_REPLACE",E="RESET_STANDARD_OPTIONS_ENABLED",w=function(){return{replace_old:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",replace_new:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",focus:arguments.length>2&&void 0!==arguments[2]&&arguments[2],regex:arguments.length>3&&void 0!==arguments[3]&&arguments[3],isValidRegex:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,replace_old_placeholder:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",replace_new_placeholder:arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",id:arguments.length>7&&void 0!==arguments[7]?arguments[7]:l()()}},y=[w()],O={standard_search_replace:{domain:{search:"",replace:""},path:{search:"",replace:""}},standard_options_enabled:["domain","path"],standard_search_visible:!0,custom_search_replace:y,custom_search_domain_locked:!1},T=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;return(0,i.ZP)(t,(t=>{switch(a.type){case c:return(0,n.Z)((0,n.Z)({},t),{},{standard_search_replace:a.payload});case p:return(0,n.Z)((0,n.Z)({},t),{},{standard_search_replace:{path:(0,n.Z)({},t.standard_search_replace.path),domain:a.payload}});case u:return(0,n.Z)((0,n.Z)({},t),{},{standard_search_visible:a.payload});case d:return e=(0,s.XV)(t.standard_options_enabled,a.payload),(0,n.Z)((0,n.Z)({},t),{},{standard_options_enabled:e});case E:return(0,n.Z)((0,n.Z)({},t),{},{custom_search_replace:O.custom_search_replace});case m:var r=a.payload,l=r.key,i=r.option,T=r.value;return t.custom_search_replace[l]&&(t.custom_search_replace[l][i]=T),t;case _:return(0,n.Z)((0,n.Z)({},t),{},{custom_search_replace:a.payload});case g:return t.custom_search_replace.push(w("","",a.payload)),t;case f:return e=(0,s.XV)(t.custom_search_replace,t.custom_search_replace[a.index]),(0,n.Z)((0,n.Z)({},t),{},{custom_search_replace:e});case b:return(0,n.Z)((0,n.Z)({},t),{},{custom_search_replace:y});case h:var S=a.payload.local_site,N=S.this_url,Z=S.this_path,P=a.payload,k=P.intent,x=P.force_update;return"savefile"===k||x&&"import"!==k?t.custom_search_replace=[w("","")]:x&&"import"===k&&(t.custom_search_replace=[w("",(0,s.Ph)(N)),w("",Z),w("","")]),t;case v:return t.custom_search_domain_locked=a.payload,t;case o.Ld:var R=a.payload.profile.value.search_replace;return(0,n.Z)({},R);default:return t}}))}},19826:(e,t,a)=>{"use strict";a.d(t,{Ft:()=>d,TE:()=>c,YQ:()=>o,ZP:()=>m,eH:()=>p,km:()=>u});var n=a(86552),r=a(88368),l=a(26429),i=window.wpmdb_settings;Object.entries(i).forEach((e=>{var t=(0,r.Z)(e,2),a=t[0];t[1];"delay_between_requests"!==a&&(["1",""].includes(i[a])&&(i[a]="1"===i[a]))})),i.max_request=parseInt(i.max_request),i.isPro="false"!==window.wpmdb_data.is_pro,i.delay_between_requests=parseInt(i.delay_between_requests);i.masked_licence||(i.masked_licence=null);var s=(0,n.Z)((0,n.Z)({},i),{status:{resetting_api_key:!1},errors:{}}),o="SET_SETTINGS_STATUS",c="SETTINGS_ERROR",p="DELETE_SETTINGS_ERROR",d="SET_API_KEY",u="UPDATE_SETTING";const m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return(0,l.ZP)(e,(a=>{switch(t.type){case"SET_ACTION":return a;case p:return delete a.errors[t.payload],a;case c:return(0,n.Z)((0,n.Z)({},a),{},{errors:(0,n.Z)((0,n.Z)({},a.errors),{},{[t.payload.location]:t.payload.message})});case"LICENSE_REMOVED":return(0,n.Z)((0,n.Z)({},a),{},{licence:"",masked_licence:null});case o:return(0,n.Z)((0,n.Z)({},a),{},{status:(0,n.Z)((0,n.Z)({},a.status),{},{[t.payload.type]:t.payload.status})});case d:return(0,n.Z)((0,n.Z)({},a),{},{key:t.payload});case u:return(0,n.Z)((0,n.Z)({},a),{},{[t.payload.setting]:t.payload.value});case"UPDATE_SETTINGS":return(0,n.Z)((0,n.Z)({},a),t.payload);default:return e}}))}},58696:(e,t,a)=>{"use strict";a.d(t,{C:()=>l});var n=a(4516),r=e=>e.migrations.connection_info;function l(e,t){return(0,n.fX)(r,"connection_info",e,t)}},4516:(e,t,a)=>{"use strict";a.d(t,{FY:()=>g,Gn:()=>O,Jm:()=>v,NR:()=>_,_P:()=>f,do:()=>y,fX:()=>b,r5:()=>m,xg:()=>h});var n=a(56802),r=a(12544),l=a.n(r),i=a(29942),s=e=>e.migrations.current_migration,o=e=>e.migrations.remote_site,c=e=>e.migrations.local_site,p=e=>e.migrations,d=e=>e.migrations.search_replace,u=e=>e.migrations.migration_progress;function m(e,t){return b(s,"current_migration",e,t)}function _(e,t){return b(p,"migration",e,t)}function g(e,t){return b(o,"remote_site",e,t)}function f(e,t){return b(c,"local_site",e,t)}function h(e,t,a){return b(u,"migration_progress",e,t,a)}function v(e,t){return b(d,"search_replace",e,t)}var b=function(e,t,a,r){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"array",i=(0,n.P1)([e],(e=>"object"===typeof a?E(e,a,l):w(e,a)));return i(r)},E=(e,t,a)=>{var n=[],r={};return t.forEach((t=>{e.hasOwnProperty(t)&&("array"===a?n.push(e[t]):"object"===a&&(r[t]=e[t]))})),Object.keys(r).length>0?r:n},w=(e,t)=>{if(e.hasOwnProperty(t))return e[t]},y=e=>{var t=m("intent",e);return l()(["push","pull"],t)},O=async e=>{var t=m("intent",e),n=m("tables_option",e),r=m("tables_selected",e),l=f("this_prefixed_tables",e);if("selected"===n)l=r;else if("import"===t&&(0,i.Yu)()){var s=(0,(await Promise.resolve().then(a.bind(a,67821))).selectFromImportData)("tables",e),o=f("this_temp_prefix",e);l=s.map((e=>o+e))}else"pull"===t&&(l=g("prefixed_tables",e));return l}},76178:(e,t,a)=>{"use strict";a.d(t,{O:()=>l});var n=a(4516),r=e=>e.panels;function l(e,t){return(0,n.fX)(r,"panels",e,t)}},86191:(e,t,a)=>{"use strict";a.d(t,{d:()=>l});var n=a(4516),r=e=>e.profiles;function l(e,t){return(0,n.fX)(r,"profiles",e,t)}},27325:(e,t,a)=>{"use strict";a.d(t,{u:()=>l});var n=a(4516),r=e=>e.settings;function l(e,t){return(0,n.fX)(r,"settings",e,t)}},35416:(e,t,a)=>{"use strict";a.d(t,{en:()=>Z,HW:()=>N,Q:()=>S});var n,r,l=a(17186),i=a(4665),s=a(30348);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}const c=e=>i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=i.createElement("g",{clipPath:"url(#clip0_3096_1825)"},i.createElement("path",{d:"M14 7A7 7 0 1 1 0 7a7 7 0 0 1 14 0ZM2.1 7a4.9 4.9 0 1 0 9.8 0 4.9 4.9 0 0 0-9.8 0Z",fill:"#C6D1DD"}),i.createElement("path",{d:"M7 1.05c0-.58.473-1.058 1.046-.971A7 7 0 1 1 .08 8.046C-.008 7.473.47 7 1.05 7s1.039.475 1.162 1.042a4.9 4.9 0 1 0 5.83-5.83C7.475 2.09 7 1.63 7 1.05Z",fill:"#4F8AEC"}))),r||(r=i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_3096_1825"},i.createElement("path",{fill:"#fff",d:"M0 0h14v14H0z"})))));a.p;var p,d;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u.apply(this,arguments)}const m=e=>i.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),i.createElement("mask",{id:"mask0_3042_7615",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:16,height:16},p||(p=i.createElement("path",{fill:"#3B3F42",d:"M0 0h16v16H0z"}))),d||(d=i.createElement("g",{mask:"url(#mask0_3042_7615)"},i.createElement("path",{d:"M3.381 11.067a5.67 5.67 0 0 1-.696-1.47 5.393 5.393 0 0 1-.235-1.583c0-1.526.533-2.835 1.597-3.927C5.112 2.996 6.398 2.45 7.906 2.45h.126l-.925-.925L8.144.497l2.836 2.836L8.144 6.17 7.107 5.142l.925-.925h-.098c-1.03 0-1.906.37-2.63 1.109-.725.74-1.087 1.635-1.087 2.688 0 .308.038.609.114.902.076.294.19.58.342.86l-1.292 1.291Zm4.476 4.445L5.02 12.676 7.857 9.83l1.037 1.037-.926.926h.098c1.03 0 1.907-.371 2.63-1.114.725-.743 1.088-1.64 1.088-2.694 0-.307-.039-.608-.115-.901a3.767 3.767 0 0 0-.342-.86l1.292-1.282c.307.466.54.954.696 1.465.157.51.235 1.036.235 1.578 0 1.527-.532 2.838-1.597 3.932-1.065 1.095-2.35 1.642-3.859 1.642h-.126l.926.916-1.037 1.037Z",fill:"#3B3F42"}))));a.p;var _,g,f=a(9712);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h.apply(this,arguments)}const v=e=>i.createElement("svg",h({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),_||(_=i.createElement("g",{clipPath:"url(#clip0_3096_1810)"},i.createElement("path",{d:"M1.996 3.292a.913.913 0 0 1-.272-.665c0-.26.092-.483.274-.664a.913.913 0 0 1 .665-.272c.26 0 .483.092.664.275.18.182.272.406.272.665a.904.904 0 0 1-.275.663m-1.328-.002 1.328.002m-1.328-.002c.18.182.404.274.663.274a.913.913 0 0 0 .665-.272m-1.328-.002 1.328.002M5.12 8.901v.125h1.225V4.957H5.12v3.945Zm2.535 0v.125H8.88V4.957H7.655v3.945Zm-6.53-4.573-.129-.129-.074.166c-.188.42-.326.849-.415 1.286A6.781 6.781 0 0 0 .375 7c0 .915.174 1.777.522 2.585.347.804.82 1.505 1.416 2.102a6.689 6.689 0 0 0 2.102 1.416c.808.348 1.67.522 2.585.522s1.777-.174 2.585-.522a6.688 6.688 0 0 0 2.102-1.416 6.688 6.688 0 0 0 1.416-2.102c.348-.808.522-1.67.522-2.585a6.36 6.36 0 0 0-.531-2.585 6.684 6.684 0 0 0-1.441-2.103A6.861 6.861 0 0 0 9.53.897 6.506 6.506 0 0 0 6.935.375c-.453 0-.894.05-1.32.15-.423.098-.842.224-1.258.378L4.173.97l.139.138.747.748.053.053.072-.022a7.2 7.2 0 0 1 .902-.211l-.02-.123.02.123a5.51 5.51 0 0 1 .91-.076c1.51 0 2.786.523 3.834 1.57C11.877 4.215 12.4 5.49 12.4 7c0 1.51-.523 2.784-1.57 3.83C9.785 11.878 8.51 12.4 7 12.4c-1.51 0-2.784-.523-3.83-1.57C2.122 9.785 1.6 8.51 1.6 7c0-.307.026-.612.08-.913.053-.304.122-.606.208-.905l.02-.07-.052-.053-.731-.731Z",fill:"#4F5458",stroke:"#4F5458",strokeWidth:.25}))),g||(g=i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_3096_1810"},i.createElement("path",{fill:"#fff",d:"M0 0h14v14H0z"})))));a.p;var b=a(39794);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},E.apply(this,arguments)}a.p;(0,s.ZP)(f.r)(w||(w=(0,l.Z)(["\n  position: relative;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),s.ZP.p(y||(y=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n"])));var w,y,O,T,S=e=>{var t="doubleArrow"===e.icon?i.createElement(m,null):i.createElement(c,null);return"PAUSED"===e.status||"RESUMING"===e.status?i.createElement(v,null):i.createElement("span",{className:"styled-spinner-wrap ".concat(e.className?e.className:"")},t)},N=(0,s.ZP)(S)(O||(O=(0,l.Z)(["\n  margin-left: 5px;\n  position: absolute;\n  top: -10px;\n  #el_6X7lquFKkl {\n    fill: ",";\n  }\n"])),b.HT),Z=(0,s.ZP)((e=>i.createElement("svg",E({width:24,height:24,viewBox:"0 0 24 24",xmlSpace:"preserve"},e),i.createElement("g",{transform:"translate(4 4)"},i.createElement("circle",{id:"license-checked-a",cx:8,cy:8,r:8,style:{fill:"#236de7"}}),i.createElement("path",{d:"M7.587 11.338a1.01 1.01 0 0 1-1.433 0L3.933 9.104a1.024 1.024 0 0 1 0-1.442 1.01 1.01 0 0 1 1.433 0l1.323 1.331c.1.1.262.1.362 0l3.583-3.604a1.01 1.01 0 0 1 1.433 0 1.025 1.025 0 0 1 0 1.442l-4.48 4.507Z",style:{fill:"#fff",fillRule:"nonzero"}})))))(T||(T=(0,l.Z)(["\n  use {\n    fill: #236de7;\n  }\n"])))},39794:(e,t,a)=>{"use strict";a.d(t,{HT:()=>n,Qp:()=>r,qP:()=>l});var n="#236DE7",r="#575757",l="#dc3232"},37883:(e,t,a)=>{"use strict";var n,r=a(4665),l=a(62295),i=a(4296),s=a(79043),o=a(52204),c=a(60050),p=a(29890),d=a(17186),u=a(42233),m=a(30348),_=a(31572),g=a(88368),f=a(75338),h=a(4516),v=a(36601),b=a(58900),E=a(14251);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w.apply(this,arguments)}const y=e=>r.createElement("svg",w({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=r.createElement("path",{d:"M8 12.5a.64.64 0 0 0 .47-.19.638.638 0 0 0 .19-.47.64.64 0 0 0-.19-.47.638.638 0 0 0-.47-.19.64.64 0 0 0-.47.19.638.638 0 0 0-.19.47.64.64 0 0 0 .19.47c.126.127.283.19.47.19Zm-.54-3.06h1.2V4.38h-1.2v5.06Zm.545 7.06c-1.103 0-2.14-.21-3.11-.63a8.129 8.129 0 0 1-2.545-1.72 8.125 8.125 0 0 1-1.72-2.547A7.758 7.758 0 0 1 0 8.49c0-1.104.21-2.142.63-3.113A8.005 8.005 0 0 1 2.35 2.84a8.211 8.211 0 0 1 2.547-1.71A7.758 7.758 0 0 1 8.01.5c1.104 0 2.142.21 3.113.63.971.42 1.817.99 2.537 1.71s1.29 1.567 1.71 2.54c.42.973.63 2.012.63 3.115 0 1.103-.21 2.14-.63 3.11a8.17 8.17 0 0 1-1.71 2.541 8.076 8.076 0 0 1-2.54 1.72 7.737 7.737 0 0 1-3.115.634Z",fill:"#E94D49"})));a.p;var O,T;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},S.apply(this,arguments)}const N=e=>r.createElement("svg",S({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),O||(O=r.createElement("rect",{y:.5,width:16,height:16,rx:8,fill:"#46B450"})),T||(T=r.createElement("path",{d:"M4.875 8.917 7.375 11l3.75-5",stroke:"#fff",strokeWidth:2})));a.p;var Z=a(38068),P=a(42222);const k=(0,l.$j)((e=>{var t=(0,h.xg)("stage_size",e),a=(0,h.xg)("timer",e);return{running_size:t,timerOn:a.on,timerTime:a.time,timerStart:a.start}}),{startTimer:Z.Xg,stopTimer:Z.N6,resetTimer:Z.yo})((e=>{var t=e.timerTime,a=(0,P.i2)(t,!0),n=(0,P.er)(t,!0),l=(0,P.$s)(t,!0);return r.createElement("div",{className:"timer"},r.createElement("div",{className:"timer-display"},l," : ",n," : ",a))}));var x,R=a(7354),A=a(83115),C=a(29942),I=a(80850),D=m.ZP.div(x||(x=(0,d.Z)(["\n  height: 5px;\n  width: ","%;\n  background: blue;\n  transition: 0.4s linear;\n  transition-property: width, background-color;\n"])),(e=>e.width));const M=(0,l.$j)((e=>{var t=e.dry_run.results,a=(0,h.r5)("preview",e),n=(0,h.xg)("item_progress",e),r=(0,h.xg)("progress_stage",e),l=(0,h.xg)("status",e),i=(0,h.xg)("total",e),s=(0,h.xg)("runningPercentage",e);return{isPreview:a,tables_selected:t,item_progress:n,progress_stage:r,status:l,showDryRunResults:(0,h.xg)("showDryRunResults",e),total:i,runningPercentage:s}}),{})((e=>{var t=e.isPreview,a=e.tables_selected,n=e.item_progress,i=e.showDryRunResults,s=e.progress_stage,o=e.status,c=e.total,p=e.runningPercentage,d=(0,P.UJ)(null===c||void 0===c?void 0:c.target_bytes),m=(0,P.UJ)(null===c||void 0===c?void 0:c.processed_bytes),_=(0,P.UJ)(null===c||void 0===c?void 0:c.target_bytes),g=(null===c||void 0===c?void 0:c.target_bytes)>0?(0,P.TJ)(null===c||void 0===c?void 0:c.target_bytes):"",f=(0,l.v9)((e=>e.migrations&&e.migrations.migration_progress?e.migrations.migration_progress.backgroundMigrationProgress:null)),h=(0,l.I0)();(0,r.useEffect)((()=>{!i&&"COMPLETE"===s&&"PAUSED"===o&&t&&h((0,A.dy)(!0))}));var v=(0,C.Yu)(),b=(0,R.lowerCase)(o),E=()=>{var e=()=>{if(!_||!c||"COMPLETE"===o)return null;var e=!(0,I.m)(f).initialized||["INITIATE_MIGRATION","MIGRATE"].includes(s);return["CANCELLED","INITIALIZING",null].includes(o)||e?e?(0,u.gB)((0,u.__)("%s %s calculated so far","wp-migrate-db"),_,(0,R.upperCase)(g)):null:"".concat(m," ").concat((0,R.upperCase)((0,P.TJ)(null===c||void 0===c?void 0:c.processed_bytes))," / \n            ").concat(d," ").concat((0,R.upperCase)((0,P.TJ)(null===c||void 0===c?void 0:c.target_bytes)))};return null===e()?null:r.createElement("p",{className:"migration-data-transferred semibold ".concat(b)},"(",e(),")")};return r.createElement(r.Fragment,null,r.createElement("div",{className:"migration-progressbar-container flex-container flex-align-baseline"},r.createElement("p",{className:"migration-percentage"},p,"%"),r.createElement(E,null),t&&r.createElement(r.Fragment,null,r.createElement("p",{className:"migration-tables-searched"},Object.keys(n).length," ",v?"of ".concat(a.length," "):"",(0,u.__)("Tables Searched","wp-migrate-db")))),r.createElement("div",{className:"migration-progress-bar bg-grey-light"},r.createElement(D,{width:p,className:"migration-progress-bar-running bg-primary migration-".concat(b)})))}));var L,F=a(12544),B=a.n(F),U=a(95702);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},j.apply(this,arguments)}const G=e=>r.createElement("svg",j({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),L||(L=r.createElement("path",{d:"M2 7.667 6 11l6-8",stroke:"#46B450",strokeWidth:2})));a.p;var z;function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},H.apply(this,arguments)}const V=e=>r.createElement("svg",H({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),z||(z=r.createElement("circle",{cx:7,cy:7,r:2,fill:"#9EA7B1"})));a.p;var W=a(35416);const $=(0,l.$j)((e=>({current_stage:(0,h.r5)("current_stage",e),stages_complete:(0,h.r5)("stages_complete",e)})),{})((e=>{var t=e.current_stage,a=e.stage,n=e.stages_complete,l=e.hasError,i=e.status;return B()(n,a)||"COMPLETE"===i?r.createElement("span",{className:"status-icon"},r.createElement(G,null)):t===a||"migrate"===t&&"tables"===a||"find_replace"===t&&"tables"===a?r.createElement("span",{className:"status-icon"},l?r.createElement(U.r,null):r.createElement(W.Q,{className:"PAUSED"===i?"paused":"",status:i})):r.createElement("span",{className:"status-icon"},r.createElement(V,null))}));var q={initialize:(0,u.__)("Initialize","wp-migrate-db"),backup:(0,u.__)("Backup","wp-migrate-db"),tables:(0,u.__)("Tables","wp-migrate-db"),upload:(0,u.__)("Upload","wp-migrate-db"),import:(0,u.__)("Import","wp-migrate-db"),find_replace:(0,u.__)("Find & Replace","wp-migrate-db"),theme_files:(0,u.__)("Themes","wp-migrate-db"),plugin_files:(0,u.__)("Plugins","wp-migrate-db"),muplugin_files:(0,u.__)("Must-Use Plugins","wp-migrate-db"),other_files:(0,u.__)("Other Files","wp-migrate-db"),core_files:(0,u.__)("WordPress Core Files","wp-migrate-db"),media_files:(0,u.__)("Media Uploads","wp-migrate-db"),finalize:(0,u.__)("Finalize","wp-migrate-db")},K=a(54385),Y=a.n(K),J=a(27114),X=a(49275);const Q=()=>{var e=(0,l.v9)((e=>e.migrations.migration_progress)),t=e.migration_error,a=e.error_stage,n=(0,l.v9)((e=>e.migrations.current_migration)),i=n.intent,s=n.current_stage,o=(0,l.v9)((e=>e.migrations.remote_site.site_details)),c=o.platform,p=o.pwp_name,d=(0,r.useState)("top"),m=(0,g.Z)(d,2),_=m[0],h=m[1],v={migrate:(0,u.__)("tables","wp-migrate-db"),tables:(0,u.__)("tables","wp-migrate-db"),backup:(0,u.__)("backup","wp-migrate-db"),media_files:(0,u.__)("media uploads","wp-migrate-db"),find_replace:"import"===i?(0,u.__)("find & replace","wp-migrate-db"):(0,u.__)("tables","wp-migrate-db"),upload:(0,u.__)("upload","wp-migrate-db"),import:(0,u.__)("import","wp-migrate-db"),theme_files:(0,u.__)("themes","wp-migrate-db"),plugin_files:(0,u.__)("plugins","wp-migrate-db"),muplugin_files:(0,u.__)("must-use plugins","wp-migrate-db"),other_files:(0,u.__)("other files","wp-migrate-db"),core_files:(0,u.__)("WordPress Core files","wp-migrate-db")},b=Y()("mdb-migration-error",_),E=()=>{if("flywheel"===c)return r.createElement(X.Z,{link:"https://getflywheel.com/wordpress-support/migrating-your-site-to-flywheel-using-flywheel-migrations/",content:(0,u.__)("legacy migration plugin","wp-migrate-db"),utmContent:"wpesm_plugin_alternative_solution",utmCampaign:"bx_prod_referral"});var e=p.length>0,t=e?"https://my.wpengine.com/installs/".concat(p,"/migrate-my-site"):"https://wpengine.com/support/wp-engine-automatic-migration-powered-by-blogvault/";return r.createElement(X.Z,{link:t,content:(0,u.__)("legacy migration plugin","wp-migrate-db"),utmContent:"wpesm_plugin_alternative_solution",utmCampaign:"bx_prod_referral",anchorLink:e?"legacy-plugin":null})},w=e=>{var t;return"initiate_migration"===s||""===s?r.createElement("div",null,(0,f.ZP)((0,u.gB)((0,u.__)("Error initializing %s","wp-migrate-db"),null!==(t=v[a])&&void 0!==t?t:""))):"finalize"===s?r.createElement("div",null,(0,u.__)("Error finalizing","wp-migrate-db")):r.createElement("div",null,(0,f.ZP)((0,u.gB)((0,u.__)("Error transferring <span>%s</span>","wp-migrate-db"),v[s])))};return r.createElement(r.Fragment,null,r.createElement("div",{className:"mdb-migration-error-wrap"},r.createElement("div",{className:b,onScroll:e=>{var t=e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight;0===e.target.scrollTop&&h("top"),e.target.scrollTop>1&&h("scrolling"),t&&h("bottom")}},r.createElement("div",{className:"error-message"},r.createElement("h4",null,r.createElement(w,null)),r.createElement("div",{className:"error-content"},(0,f.ZP)((0,J.Y)(t)))))),(0,C.aE)()&&r.createElement("p",{className:"alternative-migration-notice"},(0,u.__)("If you feel stuck, try our ","wp-migrate-db"),r.createElement(E,null),(0,u.__)(" (available through February 2024).","wp-migrate-db")))};var ee=a(38930),te=(a(71128),e=>{var t=e.table,a=e.onClick,n=e.id,l=(0,C.Yu)(),i=(0,C.ME)();return r.createElement(r.Fragment,null,r.createElement("button",{onClick:a,className:"table-results-button","data-tip":!0,"data-for":"action-tip-dry-run-".concat(n)},t),(!l||i)&&r.createElement(ee.Z,{effect:"solid",place:"left",type:"light",delayUpdate:500,delayHide:250,border:!0,className:"action-tooltip",id:"action-tip-dry-run-".concat(n),getContent:()=>(0,f.ZP)((0,C.mF)("dryRun",l))}))});const ae=(0,l.$j)((e=>{var t=e.dry_run.results,a=(0,h.xg)("status",e),n=(0,h.xg)("progress_stage",e);return{results:t,migrationStatus:a,isPreview:(0,h.r5)("preview",e),migrationStage:n}}))((e=>{var t=e.results,a=e.isPreview,n=e.migrationStatus,i=e.migrationStage,s=(0,l.I0)(),o=(0,C.Yu)(),c=(0,C.ME)(),p=e=>()=>{s((0,A.$1)(e))};return r.createElement(r.Fragment,null,r.createElement("table",{className:"dry-run-results-table container-shadow table"},r.createElement("thead",null,r.createElement("tr",{className:"flex-container"},r.createElement("th",{className:"table-heading"},(0,u.__)("Table","wp-migrate-db")),r.createElement("th",{className:"table-heading"},(0,u.__)("Matches Found","wp-migrate-db")),r.createElement("th",{className:"table-heading"},(0,u.__)("Time","wp-migrate-db")))),r.createElement("tbody",{tabIndex:0},t.map(((e,t)=>r.createElement("tr",{key:t,className:"flex-container result-item"},r.createElement("td",null,r.createElement("span",{className:"table-name"},e.table)),r.createElement("td",null,!e.executed&&r.createElement("span",{className:"waiting-dash"},"-"),e.executed&&e.count>0&&r.createElement(te,{table:e.count,onClick:e.count>0&&!c&&o?p(t):null,id:t}),e.executed&&0===e.count&&r.createElement("span",{className:"table-results-none"},e.count)),r.createElement("td",null,!e.executed&&r.createElement("span",{className:"waiting-dash"},"-"),e.executed&&(0,P.q5)(e.time))))))),a&&("PAUSED"===n||"CANCELLED"===n)&&"COMPLETE"===i&&r.createElement("p",{className:"dry-run-notice"},r.createElement("strong",null,(0,u.__)("Everything look good?","wp-migrate-db"))," ",(0,u.__)("Apply these changes to update WordPress database. If any data has been modified since this preview was started, that data will be overwritten.","wp-migrate-db")))}));var ne=a(56381),re=a.n(ne),le=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),ie=e=>{var t=e.item,a=t.column,n=t.row,l=t.original,i=t.replace,s=(0,r.useState)(""),o=(0,g.Z)(s,2),c=o[0],p=o[1];return(0,r.useEffect)((()=>{var e=new(re())({timeout:2,editCost:20}),t=e.main(l,i);e.cleanupSemantic(t);var a=(e=>{var t="",a="";for(var n in e){var r=(0,g.Z)(e[n],2),l=r[0],i=r[1];if(0!==l)0>l?t+="<del>".concat(le(i),"</del>"):0<l&&(t+="<ins>".concat(le(i),"</ins>"));else{var s=i;i.length>=100&&(s="".concat(i.slice(0,25),"...").concat(i.slice(-25))),t+="<span>".concat(le(s),"</span>"),a+="<span>".concat(le(s),"</span>")}}return[t,a]})(t),n=(0,g.Z)(a,1)[0];p(n)}),[t]),r.createElement("li",{className:"dry-run-result"},r.createElement("div",{className:"dry-run-result-meta"},r.createElement("span",null,r.createElement("strong",null,(0,u.__)("Row ID:","wp-migrate-db"))," ",n),r.createElement("span",null,r.createElement("strong",null,(0,u.__)("Column:","wp-migrate-db"))," ",a)),r.createElement("code",{className:"dry-run-result-code"},(0,f.ZP)(c)))},se=e=>{var t=e.currentPage,a=e.pageCount,n=e.setCurrentPage,l=e.scrollableContentRef;return r.createElement("div",{className:"pagination-controls"},r.createElement("span",null,t," of ",0===a?1:a),r.createElement("button",{className:"btn btn-sm btn-stroke migration-progress-btn ".concat(1===t?"btn-disabled":""),onClick:()=>{l.current.scrollTop=0,n(t-1)},disabled:1===t},(0,u.__)("Prev","wp-migrate-db")),r.createElement("button",{className:"btn btn-sm btn-stroke migration-progress-btn ".concat(t>=a?"btn-disabled":""),onClick:()=>{l.current.scrollTop=0,n(t+1)},disabled:t>=a},(0,u.__)("Next","wp-migrate-db")))};const oe=(0,l.$j)((e=>({currentPreviewItem:e.dry_run.currentPreviewItem,results:e.dry_run.results})))((e=>{var t=e.currentPreviewItem,a=e.results,n=(0,r.useState)(null),l=(0,g.Z)(n,2),i=l[0],s=l[1],o=(0,r.useState)([]),c=(0,g.Z)(o,2),p=c[0],d=c[1],u=(0,r.useState)(1),m=(0,g.Z)(u,2),_=m[0],f=m[1],h=(0,r.useState)(0),v=(0,g.Z)(h,2),b=v[0],E=v[1],w=(0,r.useRef)();return(0,r.useEffect)((()=>{"undefined"!==typeof a[t]&&s(a[t])}),[t,a[t]]),(0,r.useEffect)((()=>{if(i){var e=50*_;d(i.data.slice(e-50,e))}}),[_,i]),(0,r.useEffect)((()=>{i&&E(Math.round(i.count/50))}),[i]),null===i?null:r.createElement(r.Fragment,null,r.createElement("div",{className:"flex-container migration-progress-controls dry-run-controls"},r.createElement("h1",null,i.table),b>1&&r.createElement(se,{currentPage:_,pageCount:b,setCurrentPage:f,scrollableContentRef:w})),r.createElement("ul",{className:"dry-run-results-single-table container-shadow",tabIndex:"0",ref:w},p.map((e=>r.createElement(ie,{item:e})))))}));var ce=a(80401);const pe=e=>{var t=e.link,a=e.content,n=e.utmContent,l=e.utmCampaign,i=e.screenReaderText,s=e.anchorLink,o=void 0===s?"":s,c=e.hasArrow,p=void 0!==c&&c,d=e.iconPosition,u=void 0===d?"inside":d,m=e.additionalClass,_=Y()("link-button btn btn-sm btn-stroke",m);return r.createElement(ce.Z,{link:t,content:a,utmContent:n,utmCampaign:l,classes:_,screenReaderText:i,hasArrow:p,anchorLink:o,iconPosition:u})};const de=()=>{var e=(0,l.v9)((e=>e)),t=(0,l.I0)(),a=(0,h.r5)("intent",e),n=(0,h.r5)("preview",e),i=(0,h.xg)("status",e),s=(0,h.xg)("migration_id",e),o=(0,h._P)("this_url",e),c=(0,h.FY)("url",e),p="PAUSED"===i,d="COMPLETE"===i,m="PAUSING"===i||"RESUMING"===i||"CANCELLING"===i,_="ERROR"===i,g=n&&d?(0,u.__)("Apply Changes","wp-migrate-db"):p?(0,u.__)("Resume","wp-migrate-db"):(0,u.__)("Pause","wp-migrate-db"),f="push"===a?c:o;return r.createElement("div",{className:"flex-container migration-progress-controls ".concat(n?"no-top-margin":"")},!d&&!_&&r.createElement(r.Fragment,null,r.createElement("button",{onClick:()=>{t((0,v.Wj)(p?"RESUMING":"PAUSING")),(e=>{t("PAUSED"===e?(0,v.Rw)():(0,v.Kh)())})(i)},disabled:m,className:"btn btn-sm ".concat(n&&d?"":"btn-stroke"," migration-progress-btn")},g)," ",r.createElement("button",{onClick:()=>{t((0,v.Gn)())},className:"btn btn-sm btn-stroke migration-progress-btn",disabled:m},(0,u.__)("Cancel","wp-migrate-db"))),(d||_)&&r.createElement("button",{onClick:()=>{(0,v.rY)(s).then((()=>{t((0,v.Pu)()),t((0,b.B3)(i))}))},className:"migration-close-btn btn btn-sm"},(0,u.__)("Close","wp-migrate-db")),d&&["push","pull"].includes(a)&&r.createElement(pe,{link:f,content:(0,u.__)("View result","wp-migrate-db"),hasArrow:!0}))};var ue=["stages","status","hasError","isPreview","currentDryRunPreviewItem","progress_message","backgroundMigrationProgress"];const me=(0,l.$j)((e=>{var t=e.dry_run.currentPreviewItem,a=(0,h.r5)("preview",e);return{status:(0,h.xg)("status",e),stages:(0,h.r5)("stages",e),title:(0,h.xg)("title",e),progress_message:(0,h.xg)("progress_message",e),showDryRunResults:(0,h.xg)("showDryRunResults",e),isPreview:a,currentDryRunPreviewItem:t,backgroundMigrationProgress:(0,h.xg)("backgroundMigrationProgress",e)}}),{})((e=>{var t=e.stages,a=e.status,n=e.hasError,l=e.isPreview,i=e.currentDryRunPreviewItem,s=e.progress_message,o=(e.backgroundMigrationProgress,(0,p.Z)(e,ue)),c="COMPLETE"===a;return null!==i?r.createElement(oe,null):r.createElement(r.Fragment,null,r.createElement(M,null),r.createElement(r.Fragment,null,r.createElement("ul",{className:"flex-container migration-progress-steps"},t.map(((e,t)=>r.createElement("li",{className:"migration-progress-step",key:t},r.createElement($,{stage:e,hasError:n,status:a}),r.createElement("span",null,q[e]))))),l&&r.createElement(ae,null),n&&r.createElement(Q,o),c&&r.createElement("div",{className:"migration-complete-summary"},r.createElement("p",null,(0,f.ZP)(s))),r.createElement(de,null)))}));var _e=a(62457),ge=a(66866);const fe=()=>{var e=(0,l.v9)((e=>e)),t=(0,h.r5)("migration_id",e);return t?r.createElement("div",{className:"migration-id"},(0,u.__)("Migration ID","wp-migrate-db"),": ",t):null};var he=["closer","title","status","closeHandler","intent","remoteURL","isPreview","currentPreviewItem"],ve=e=>{var t=e.closeModal,a=e.isPreview;return r.createElement("div",{className:"migration-progress-content"},r.createElement("div",null,r.createElement("h1",{className:"migration-title cancelled"},window.wpmdb_strings.migration_cancelled),r.createElement("p",null,a&&(0,u.__)("The migration has been canceled and all temporary files have been cleaned up.","wp-migrate-db"),!a&&(0,f.ZP)(window.wpmdb_strings.migration_cancelled_success))),r.createElement("div",null,r.createElement("button",{onClick:t,className:"btn btn-sm"},(0,u.__)("Close","wp-migrate-db"))))},be=e=>{switch(e.status){case"MIGRATE":case"PAUSED":default:return null;case"ERROR":return r.createElement(y,null);case"COMPLETE":return r.createElement(N,null);case"INITIALIZING":case"PAUSING":case"RESUMING":case"CANCELLING":return r.createElement(W.Q,{icon:"doubleArrow",className:"double-arrow"})}},Ee=e=>{var t=e.closer,a=e.title,n=e.status,i=e.closeHandler,o=e.intent,c=e.remoteURL,d=e.isPreview,m=e.currentPreviewItem,_=(0,p.Z)(e,he),g=(0,l.I0)(),b=(0,l.v9)((e=>e)),E=(0,h.xg)("migration_id",b),w="",y=d&&null!==m,O="ERROR"===n;switch(n){case"CANCELLED":if(!d){w=r.createElement(ve,(0,s.Z)({},_,{isPreview:d,closeModal:()=>{(0,v.rY)(E).then((()=>{g((0,v.Pu)()),i(n)}))}}));break}default:w=r.createElement("div",{className:"migration-progress-content"},null!==m&&r.createElement("button",{className:"dry-run-back-btn link",onClick:()=>{g((0,A.$1)(null))}},"\u2190 ",(0,u.__)("Back to All Tables","wp-migrate-db")),r.createElement("div",{className:"flex-container ".concat(y?"hidden":"")},r.createElement("h1",{className:["push","pull"].includes(o)?"push-pull":null},((e,t)=>{var a={push:(0,u.gB)((0,u.__)("<span>Migration</span> to <span>%s</span>","wp-migrate-db"),t),pull:(0,u.gB)((0,u.__)("<span>Migration</span> from <span>%s</span>","wp-migrate-db"),t),find_replace:(0,u.__)("Find & Replace","wp-migrate-db"),savefile:(0,u.__)("Exporting","wp-migrate-db"),import:(0,u.__)("Importing","wp-migrate-db"),backup_local:(0,u.__)("Backing up","wp-migrate-db")};return(0,f.ZP)(a[e])})(o,(0,C.zj)(c)),d&&r.createElement("span",{className:"preview-migration-heading"},(0,u.__)("(Preview)","wp-migrate-db"))),r.createElement("div",{className:"migration-timer align-right"},r.createElement(k,null))),r.createElement("h2",{className:"migration-title flex-container ".concat(y?"hidden":"").concat(["CANCELLED","PAUSED"].includes(n)?"":"text-loading")},r.createElement(be,{status:n}),(0,f.ZP)(a)),r.createElement(me,{closer:t,status:n,hasError:O}))}return r.createElement(r.Fragment,null,w,r.createElement(fe,null))},we=e=>{var t=(0,l.I0)(),a=e.restoredFromBackground,n=e.restoreComplete,i=e.backgroundMigrationRunning;return(0,r.useEffect)((()=>{a||i||t((async e=>{try{await e((0,v.Z6)("INITIATE_MIGRATION"))}catch(t){console.error(t),e((0,_e.m)({error_type:ge.gF,error_message:t}))}}))}),[]),a&&!n?r.createElement("div",{className:"migration-progress"},r.createElement("h1",{className:"migration-title text-loading"},(0,u.__)("Restoring migration","wp-migrate-db"))):r.createElement("div",{className:"migration-progress"},r.createElement(Ee,(0,s.Z)({closeHandler:e.closeHandler},e)))};const ye=(0,l.$j)((e=>{var t=(0,h.r5)("preview",e),a=e.dry_run.currentPreviewItem,n=(0,h.xg)("pause_before_finalize",e),r=(0,h.r5)("running",e),l=(0,h.r5)("intent",e),i=(0,h._P)("this_temp_prefix",e),s=(0,h.xg)("status",e),o=(0,h.xg)("title",e),c="free"!==(0,C.w6)()?(0,h.FY)("url",e):"",p=(0,h.xg)("progress_message",e),d=(0,h.xg)("backgroundMigrationRunning",e),u=(0,h.xg)("migration_id",e),m=(0,h.r5)(["restoredFromBackground","restoreComplete"],e),_=(0,g.Z)(m,2);return{status:s,running:r,intent:l,tmp_prefix:i,pause_before_finalize:n,title:o,progress_message:p,remoteURL:c,isPreview:t,currentPreviewItem:a,restoredFromBackground:_[0],restoreComplete:_[1],backgroundMigrationRunning:d,migration_id:u}}),{cancelMigration:v.Gn,pauseMigration:v.Kh,resumeMigration:v.Rw,setPauseBeforeFinalize:E.LR,maybeRefresh:b.K_,closeHandler:b.B3})(r.memo(we));var Oe,Te=a(86552),Se=a(85571);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ne.apply(this,arguments)}const Ze=e=>r.createElement("svg",Ne({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg"},e),Oe||(Oe=r.createElement("path",{d:"M6 11V8a6 6 0 1 1 12 0v3h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V12a1 1 0 0 1 1-1zm3 0h6V8a3 3 0 0 0-6 0zm3.969 6.75a2 2 0 1 0-1.938 0c-.02.08-.031.164-.031.25v1a1 1 0 0 0 2 0v-1c0-.086-.01-.17-.031-.25z",fill:"#b2b2b2",fillRule:"evenodd"})));a.p;var Pe,ke={push:(0,u.__)("Push","wp-migrate-db"),pull:(0,u.__)("Pull","wp-migrate-db"),import:(0,u.__)("Import Database","wp-migrate-db"),savefile:(0,u.__)("Export","wp-migrate-db"),backup_local:(0,u.__)("Backup Database","wp-migrate-db"),find_replace:(0,u.__)("Find & Replace","wp-migrate-db")},xe={push:(0,u.__)("Push","wp-migrate-db"),pull:(0,u.__)("Pull","wp-migrate-db"),savefile:(0,u.__)("Export","wp-migrate-db"),import:(0,u.__)("Import Database","wp-migrate-db"),find_replace:(0,u.__)("Find & Replace","wp-migrate-db"),backup_local:(0,u.__)("Backup Database","wp-migrate-db")},Re=(a(51623),a(91828));function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ae.apply(this,arguments)}const Ce=e=>r.createElement("svg",Ae({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{style:{stroke:"#326eff",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}},Pe||(Pe=r.createElement("path",{d:"M19.5 12h-14M12.5 4.5l-7 7.5 7 7.5"}))));a.p;var Ie;function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},De.apply(this,arguments)}const Me=e=>r.createElement("svg",De({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{style:{stroke:"#326eff",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}},Ie||(Ie=r.createElement("path",{d:"M20 15v3.333c0 .92-.796 1.667-1.778 1.667H5.778C4.796 20 4 19.254 4 18.333V15M16 11l-4 4-4-4M12 4v9"}))));a.p;var Le;function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Fe.apply(this,arguments)}const Be=e=>r.createElement("svg",Fe({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{style:{stroke:"#236de7",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}},Le||(Le=r.createElement("path",{d:"M5.5 12h14M12.5 4.5l7 7.5-7 7.5"}))));a.p;var Ue;function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},je.apply(this,arguments)}const Ge=e=>r.createElement("svg",je({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{style:{stroke:"#236de7",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"}},Ue||(Ue=r.createElement("path",{d:"M20 15v3.333c0 .92-.796 1.667-1.778 1.667H5.778C4.796 20 4 19.254 4 18.333V15M16 8l-4-4-4 4M12 4v11"}))));a.p;var ze,He;function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ve.apply(this,arguments)}const We=e=>r.createElement("svg",Ve({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("g",{style:{stroke:"#236de7",strokeWidth:2,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},transform:"translate(4 4)"},ze||(ze=r.createElement("circle",{cx:7,cy:7,r:7})),He||(He=r.createElement("path",{d:"m16 16-4-4"}))));a.p;var $e;function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qe.apply(this,arguments)}const Ke=e=>r.createElement("svg",qe({height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg"},e),$e||($e=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M22 12.5H2M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",stroke:"#236de7",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2}),r.createElement("g",{fill:"#236de7",transform:"translate(2 4)"},r.createElement("circle",{cx:4,cy:12,r:1}),r.createElement("circle",{cx:7,cy:12,r:1})))));a.p;var Ye=r.forwardRef(((e,t)=>{var a=e.panelHandler,n=e.config,l=e.description,i=e.disabled,s=e.connecting,o=e.intent,c=e.toolTipOpen,p=e.setToolTipOpen,d=" action-".concat(n.intent),u=o===n.intent?"".concat(d," active"):d,m=i?"".concat(u," disabled"):u,_=e=>{p(e)};return r.createElement("div",{className:"action-btn-wrap"},r.createElement("button",{className:"action-icon btn-no-outline".concat(m),onClick:()=>{if(i||s)return!1;a(n)},"data-tip":!0,"data-for":"action-tip-".concat(n.intent),onMouseEnter:()=>_(n.intent),onFocus:()=>_(n.intent)},e.children),r.createElement(ee.Z,{effect:"solid",place:"bottom",type:"light",delayUpdate:500,delayHide:250,border:!0,className:"action-tooltip",id:"action-tip-".concat(n.intent),getContent:()=>n.intent!==c?null:(0,f.ZP)(l)}))})),Je=e=>(0,l.v9)((e=>e.panels.panelsOpen)).includes(e.panelName)?null:r.createElement("div",{className:"panel-summary"},e.panelTitle);const Xe=e=>{var t=!1,a=["actions-panel"];(0,l.v9)((e=>e.panels.panelsOpen)).includes(e.panelName)||(t=!0,a.push("has-divider"));var n=()=>{var t=(0,C.ME)(),a=(0,r.useRef)(null),n=e.connecting,l=(0,r.useState)(""),i=(0,g.Z)(l,2),o=i[0],c=i[1],p=(0,r.useState)([]),d=(0,g.Z)(p,2),m=d[0],_=d[1],h=(0,Te.Z)({},e);return h.toolTipContent=o,h.setToolTipContent=c,r.createElement("div",{className:"".concat(n?"connecting ":"","action-buttons btn-section")},r.createElement("div",{className:"action-row",ref:a},r.createElement("div",{className:"action-button-group"},r.createElement("h4",null,"Replace This Site with Another\xa0Site"),r.createElement("div",{className:"buttons"},r.createElement(Ye,(0,s.Z)({config:{panel:"connect",title:Re.B.pull,intent:"pull"},description:t?(0,C.mF)("pull",(0,C.Yu)()):(0,u.__)("Replace <b>this site's</b> database and files with a <b>remote site's</b> database&nbsp;and&nbsp;files","wp-migrate-db"),disabled:t,wrapperRef:a,toolTipOpen:m,setToolTipOpen:_},h),r.createElement("p",{className:"action-title text-center"},xe.pull),t?r.createElement(Ze,null):r.createElement(Ce,null)),r.createElement(Ye,(0,s.Z)({config:{panel:"import",title:Re.B.import,intent:"import"},description:t?(0,C.mF)("import",(0,C.Yu)()):(0,u.__)("Replace <b>this site's</b> database with the contents of an&nbsp;SQL&nbsp;file","wp-migrate-db"),disabled:t,wrapperRef:a,toolTipOpen:m,setToolTipOpen:_},h),r.createElement("p",{className:"action-title text-center"},xe.import),t?r.createElement(Ze,null):r.createElement(Me,null)))),r.createElement("div",{className:"action-button-group"},r.createElement("h4",null,"Replace Another Site with This\xa0Site"),r.createElement("div",{className:"buttons"},r.createElement(Ye,(0,s.Z)({config:{panel:"connect",title:Re.B.push,intent:"push"},description:t?(0,C.mF)("push",(0,C.Yu)()):(0,u.__)("Replace a <b>remote site's</b> database and files with <b>this site's</b> database and files","wp-migrate-db"),disabled:t,wrapperRef:a,toolTipOpen:m,setToolTipOpen:_},h),r.createElement("p",{className:"action-title text-center"},xe.push),t?r.createElement(Ze,null):r.createElement(Be,null)),r.createElement(Ye,(0,s.Z)({config:{panel:"database",title:Re.B.savefile,intent:"savefile"},description:(0,f.ZP)((0,u.__)("Export this site's database and files","wp-migrate-db")),disabled:!1,wrapperRef:a,toolTipOpen:m,setToolTipOpen:_},h),r.createElement("p",{className:"action-title text-center"},xe.savefile),r.createElement(Ge,null)))),r.createElement("div",{className:"action-button-group"},r.createElement("h4",null,"Tools for This Site"),r.createElement("div",{className:"buttons"},r.createElement(Ye,(0,s.Z)({config:{panel:"database",title:Re.B.find_replace,intent:"find_replace"},description:(0,f.ZP)((0,u.__)("Replace text in this site's database","wp-migrate-db")),disabled:!1,wrapperRef:a,toolTipOpen:m,setToolTipOpen:_},h),r.createElement("p",{className:"action-title text-center"},xe.find_replace),r.createElement(We,null)),r.createElement(Ye,(0,s.Z)({config:{panel:"database",title:Re.B.backup_local,intent:"backup_local"},description:(0,f.ZP)((0,u.__)("Save your database to an SQL file on your&nbsp;server","wp-migrate-db")),disabled:!1,wrapperRef:a,toolTipOpen:m,setToolTipOpen:_},h),r.createElement("p",{className:"action-title text-center"},xe.backup_local),r.createElement(Ke,null))))))};return r.createElement(Se.Z,{title:e.title,panelName:e.panelName,panelKey:1,hasSummary:!0,forceDivider:t,panelSummary:r.createElement(Je,(0,s.Z)({panelTitle:e.panelSummary,panelName:e.panelName},e)),className:a.join(" ")},r.createElement(n,null))};var Qe=a(50166),et=a(31330),tt=a.n(et),at=a(70659),nt=a.n(at),rt=a(61358),lt=a(86191);const it=e=>{var t=e.selected_existing_profile,a=e.saved,n=(0,r.useRef)(null),l=e.match.url;null===t&&a.length>0&&(t=e.profiles.saved[0].id),(0,r.useEffect)((()=>{n.current&&n.current.scrollIntoView()}),[n]);var i=e=>{var t=e.checked,a=e.item,l=t?n:null;return r.createElement("input",{type:"radio",name:"saved-profile",checked:t,onChange:t=>{e.setSelectedExistingProfile(a.id)},ref:l})};if(a.length>0){var o=a.map(((a,n)=>{var o=!1;return l.includes("unsaved")||parseInt(t)===a.id&&(o=!0),r.createElement("li",{key:n},r.createElement("label",{className:"recent-list"},r.createElement(i,(0,s.Z)({checked:o,item:a},e))," ",r.createElement("b",null,a.id),r.createElement("span",null,a.name)))}));return r.createElement("div",{className:"scroll-div"},r.createElement("ul",null,o))}return r.createElement("div",{className:"scroll-div empty"},"No saved profiles")};const st=e=>{var t=e.current_migration.profile_name;return r.createElement("div",{className:"flex-group"},r.createElement("div",{className:"save-profile-input"},r.createElement("label",{htmlFor:"save-new-profile"},"Profile Name"),r.createElement("br",null),r.createElement("input",{id:"save-new-profile",type:"text",value:t,onChange:t=>((e,t)=>{t.setProfileName(e.target.value)})(t,e),className:"consolas"})))};a(86821);var ot=a(73042),ct=a(52650),pt=a(29214),dt=e=>{var t=e.tabOpen,a=e.saved;return"save_new"===t?r.createElement(st,e):r.createElement("div",{className:"flex-group"},r.createElement(it,(0,s.Z)({saved:a},e)))};const ut=(0,l.$j)((e=>{var t=(0,lt.d)("ui",e),a=(0,h.r5)("selected_existing_profile",e);return{ui_data:t,btn_text:t.btn_text,selected_existing_profile:a,panels:e.panels,migration:e.migrations,profiles:e.profiles,current_migration:e.migrations.current_migration}}),{addProfile:rt.qU,setProfileName:E.fJ,setSelectedExistingProfile:rt.zD,overwriteProfile:rt.Vu,renderButtonStatus:rt.F9})((e=>{var t=e.profiles.saved,a=e.profiles.status,n=a.profile_save_error,i=a.saving,o=(0,r.useState)("save_new"),c=(0,g.Z)(o,2),p=c[0],d=c[1],m=e.saveProfileOpen,_=e.setSaveProfileOpen,f=(0,r.useState)(0),h=(0,g.Z)(f,2),v=h[0],b=h[1],E=(0,l.I0)(),w=(0,r.useRef)(null),y=(0,r.useRef)(null),O=e.selected_existing_profile;null===O&&t.length>0&&(O=e.profiles.saved[0].id);var T=()=>!i&&("save_new"===p?(async()=>{var t=e.current_migration.profile_name;if(0!==t.length){var a=await e.addProfile({name:t});if(!a.success)return!1;e.history.push("/migrate/".concat(a.data.id))}})():(()=>{var a=nt()(t,{id:parseInt(O)});e.overwriteProfile(a.guid,a.name),parseInt(e.match.params.id)!==parseInt(a.id)&&e.history.push("/migrate/".concat(a.id))})()),S=e=>{y.current.contains(e.target)||P()};(0,r.useEffect)((()=>(m?document.addEventListener("mousedown",S):document.removeEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)})),[m]),(0,r.useEffect)((()=>{if(m)return()=>{};var t="save_new";null===e.profiles.current_profile||e.match.url.includes("unsaved")||(t="overwrite"),d(t)}),[e.profiles.current_profile]);var N=function(e){var t=e.x,a=document.body.clientWidth,n=160;return a<960&&(n=36),a<=782&&(n=10),{leftPos:t,sidebarWidth:n}}(v),Z=N.leftPos-N.sidebarWidth-32,P=()=>{_(!1)},k=(0,Qe.Yz)(m,null,{from:{opacity:0,top:-25},enter:{opacity:1,top:0},leave:{opacity:0,top:-25},onRest:()=>{null===e.profiles.current_profile||e.match.url.includes("unsaved")||d("overwrite")}});return r.createElement("span",{ref:y},r.createElement("button",{style:{marginLeft:15},ref:w,onClick:()=>{E((0,ct.b)())&&(b(w.current.getBoundingClientRect()),_(!m))},className:"btn btn-stroke".concat(m?" active":"")},"Save Profile"),k.map((a=>{var l=a.item,i=a.key,o=a.props;return l&&r.createElement(tt(),{active:m},r.createElement(Qe.q.div,{key:i,style:(0,Te.Z)({},o),className:"wpmdb-save-profile save-profile-wrap"},r.createElement("div",{className:"save-profile-box",style:{left:Z}},r.createElement("div",{className:"header-row"},r.createElement("button",{className:"save_new"===p?"active":"",onClick:()=>{d("save_new")}},(0,u.__)("Create new","wp-migrate-db")),r.createElement("button",{className:"overwrite"===p?"active":"",onClick:()=>{d("overwrite")}},(0,u.__)("Overwrite existing","wp-migrate-db"))),r.createElement("div",{className:"row wpmdb-form"},r.createElement("div",{className:"save-inner"},r.createElement(dt,(0,s.Z)({},e,{saved:t,tabOpen:p}))),(null!==O&&"overwrite"===p||"save_new"===p)&&r.createElement("button",{className:"btn btn-sm save-btn",onClick:()=>T()},e.renderButtonStatus(e.ui_data,P)),n&&"migration"===n.location&&r.createElement("div",{className:"profile-save-error"},r.createElement(pt.Z,{type:"danger"},(0,u.__)("Problem saving profile:","wp-migrate-db"),r.createElement("br",null),r.createElement("code",null,n.message))),r.createElement("div",{className:"close-wrap"},r.createElement("button",{onClick:()=>{_(!1)},className:"close-picker"},r.createElement(ot.r,{"aria-hidden":!0}),r.createElement("span",{className:"screen-reader-text"},(0,u.__)("Close Save Profile Dialog","wp-migrate-db"))))))))})))}));var mt=a(76178),_t=a(41459);const gt=(0,l.$j)((e=>({panelsOpen:(0,mt.O)("panelsOpen",e)})))((e=>{var t=e.outdatedSettings,a=e.panelsOpen,n=e.dispatch;(0,r.useEffect)((()=>{t.forEach((e=>{a.includes(e)||n({type:_t.kW,payload:e})}))}));var l={media_files:(0,u.__)("Media Files","wp-migrate-db"),post_types:(0,u.__)("Post Types","wp-migrate-db")},i=t.map((e=>"<li>".concat(l[e],"</li>"))).join("");return r.createElement(pt.Z,{type:"danger"},r.createElement("strong",null,(0,u.__)("Profile Settings Have Changed","wp-migrate-db"))," ","\u2014",(0,u.__)("The profile you are using was imported from an older version of WP Migrate. Please review and update the following settings:","wp-migrate-db"),r.createElement("br",null),r.createElement("br",null),r.createElement("ul",null,(0,f.ZP)(i)))}));var ft,ht,vt,bt,Et,wt,yt,Ot=a(6142),Tt=a(39794),St=(m.ZP.button(ft||(ft=(0,d.Z)(["\n  border-radius: 3px;\n"]))),m.ZP.div(ht||(ht=(0,d.Z)(["\n  background: #ffffff;\n  border: 1px solid #d6d6d6;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05), 0 2px 1px 0 rgba(0, 0, 0, 0.05);\n  border-radius: 6px;\n"])))),Nt=((0,m.ZP)(St)(vt||(vt=(0,d.Z)(["\n  padding: 0.75rem;\n  margin-bottom: 0.8rem;\n"]))),m.ZP.span(bt||(bt=(0,d.Z)(["\n  display: block;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 100%;\n  font-size: 0.8rem;\n  color: ",";\n"])),Tt.Qp));m.ZP.p(Et||(Et=(0,d.Z)(["\n  color: ",";\n  margin: 1rem 0;\n  line-height: 1.5 !important;\n"])),Tt.qP),m.ZP.div(wt||(wt=(0,d.Z)(["\n  color: ",";\n  a{\n    color:","\n    text-decoration: underline;\n    \n    &:hover{\n      text-decoration: none;\n    }\n  }\n"])),Tt.qP,Tt.qP);function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Zt.apply(this,arguments)}const Pt=e=>r.createElement("svg",Zt({height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg"},e),yt||(yt=r.createElement("path",{d:"m8.393 11.34 4.945-4.9a.548.548 0 0 0 0-.779.558.558 0 0 0-.785 0L8 10.173 3.448 5.662a.559.559 0 0 0-.786 0 .548.548 0 0 0 0 .779l4.945 4.9a.564.564 0 0 0 .786 0z"})));a.p;var kt,xt=(0,m.ZP)(St)(kt||(kt=(0,d.Z)(["\n  padding: 0.9rem 1.25rem;\n  margin-bottom: 1.1rem;\n  line-height: 1.2rem;\n  a.link {\n    font-size: inherit;\n  }\n  .breadcrumbs {\n    margin-top: -2px;\n  }\n"]))),Rt=e=>{var t=e.recentProfiles,a=(0,l.v9)((e=>t?e.profiles.recent:e.profiles.saved)),n=(0,l.v9)((e=>e.profiles.current_profile));return r.createElement(xt,null,r.createElement("div",{className:"breadcrumbs"},r.createElement(o.OL,{className:"link",to:"/"},t?(0,u.__)("Unsaved Profiles","wp-migrate-db"):(0,u.__)("Saved Profiles","wp-migrate-db"))," ",r.createElement(Pt,{className:"profile-header-arrow"})," ",r.createElement("b",null,((e,t)=>{var a=nt()(e,{id:parseInt(t)});return a?r.createElement(r.Fragment,null,(0,Ot.decode)(a.name)):null})(a,n))))},At=a(22633),Ct=a(74094),It=a(9412),Dt=a(51286),Mt=(a(43668),{selected:null}),Lt=r.createContext(Mt),Ft=(e,t)=>"SET_SELECTED"===t.type?(0,Te.Z)((0,Te.Z)({},e),{},{selected:t.payload}):(0,Te.Z)({},e),Bt=e=>{var t=e.label,a=e.name,n=e.description,l=e.onClick,i=(0,r.useContext)(Lt).state.selected===a;return r.createElement("button",{className:"combo-button-child-container",onClick:l},r.createElement("div",{className:"combo-button-child ".concat(i?"selected":"")},r.createElement("div",{className:"text"},r.createElement("span",{className:"label"},t),r.createElement("span",{className:"description"},n))))},Ut=e=>{var t=e.className,a=e.children,n=e.selected,l=e.setSelected,i=e.expandAriaLabel,s=(0,r.useState)(""),o=(0,g.Z)(s,2),c=o[0],p=o[1],d=(0,r.useState)(null),u=(0,g.Z)(d,2),m=u[0],_=u[1],f=(0,r.useState)([]),h=(0,g.Z)(f,2),v=h[0],b=h[1],E=(0,r.useState)(!1),w=(0,g.Z)(E,2),y=w[0],O=w[1],T=(0,r.useReducer)(Ft,Mt),S=(0,g.Z)(T,2),N=S[0],Z=S[1],P=e=>({type:"SET_SELECTED",payload:e}),k=(0,r.useRef)(null),x=(0,r.useRef)(null),R=e=>{k.current.contains(e.target)||setTimeout((()=>{O(!1)}),50)};return(0,r.useEffect)((()=>(y?document.addEventListener("mousedown",R):document.removeEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)})),[y]),(0,r.useEffect)((()=>{b(r.Children.map(a,((e,t)=>{var a=e.props.onClick,i=e.props.name,s=e.props.label;return n||0!==t||(p(s),_((()=>a)),Z(P(i)),l(i)),n&&i===n&&(p(s),_((()=>a)),Z(P(i)),l(i)),r.cloneElement(e,{onClick:()=>{p(s),_((()=>a)),Z(P(i)),l(i),O(!1),x.current.blur(),setTimeout((()=>{a(),x.current.focus()}),0)}})})))}),[a]),r.createElement(Lt.Provider,{value:{state:N,dispatch:Z}},r.createElement(tt(),{active:y},r.createElement("div",{ref:k,className:"combo-button-container ".concat(t||"")},r.createElement("div",{className:"btn-large"},r.createElement("button",{ref:x,className:"primary-btn",onClick:m},c),r.createElement("button",{"aria-label":i,className:"secondary-btn",onMouseDown:e=>{O(!y)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||O(!y)}},r.createElement(Dt.r,{"aria-hidden":"true",className:y?"expanded":""}))),r.createElement("div",{className:"combo-button-children ".concat(y?"show":"")},v))))},jt=a(81294);const Gt=e=>{var t=e.local_site,a=e.remote_site,n=e.current_migration,i=e.intent,s=e.selectedOption,o=e.onClick,c=(0,l.I0)(),p=(0,r.useState)(s),d=(0,g.Z)(p,2),m=d[0],_=d[1],f=(0,jt.O)(t,a,n,i);return r.createElement(Ut,{className:"run-migration",selected:null!==m&&void 0!==m?m:"preview",setSelected:_,expandAriaLabel:(0,u.__)("Expand Find & Replace options","wp-migrate-db")},r.createElement(Bt,{label:(0,u.__)("Find & Replace","wp-migrate-db"),description:(0,u.__)("Run the full process with no prompt","wp-migrate-db"),name:"run",onClick:e=>{c((0,A.G$)(!1)),o(e)}}),r.createElement(Bt,{name:"preview",label:(0,u.__)("Preview Changes","wp-migrate-db"),description:(0,u.__)("Show changes with prompt to save or cancel","wp-migrate-db"),onClick:()=>{(0,It.isArray)(f)&&f.forEach((e=>{e.includes("_mig_")||c((0,A._s)({table:e,data:[],time:0}))})),c((0,A.g1)())}}))};const zt=(0,l.$j)((e=>({remote_site:(0,h.NR)("remote_site",e),local_site:(0,h.NR)("local_site",e),current_migration:e.migrations.current_migration})))((e=>{var t=e.onClick,a=e.intent,n=e.selectedOption,l=e.local_site,i=e.remote_site,s=e.current_migration;if("find_replace"===a)return r.createElement(Gt,{current_migration:s,onClick:t,selectedOption:n,remote_site:i,local_site:l,intent:a});var o=(0,C.aE)()?(0,u.__)("Start Migration","wp-migrate-db"):ke[a];return r.createElement("button",{onClick:()=>t(),className:"btn run-migration ".concat(a)},o)}));var Ht,Vt;function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Wt.apply(this,arguments)}const $t=e=>r.createElement("svg",Wt({width:94,height:36,viewBox:"0 0 94 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ht||(Ht=r.createElement("g",{clipPath:"url(#clip0_60_1330)"},r.createElement("path",{d:"M69.008 24.706c1.492 0 2.882-.576 4.046-1.666.062-.041.123-.123.184-.185.164-.185.143-.39.02-.597 0 0-.388-.637-.49-.781-.102-.144-.184-.206-.306-.227-.143-.02-.286.062-.45.206-.94.802-1.92 1.214-2.922 1.214-2.697 0-3.924-2.572-3.924-4.958 0-2.366 1.206-4.752 3.924-4.752.92 0 1.88.35 2.78 1.029.224.164.47.144.592-.062l.51-.864c.164-.288.123-.473-.06-.658a1.166 1.166 0 0 0-.164-.144 5.862 5.862 0 0 0-3.74-1.317c-1.532 0-2.881.555-3.944 1.625-1.267 1.276-1.941 3.127-1.941 5.205 0 1.995.572 3.703 1.574 4.916 1.021 1.255 2.533 2.016 4.311 2.016ZM55.746 10.759c-3.413 0-5.967 2.942-5.967 6.85 0 4.012 2.554 7.036 5.967 7.036 3.392 0 5.947-3.024 5.947-7.036 0-3.888-2.555-6.85-5.947-6.85Zm0 11.808c-2.187 0-3.76-2.098-3.76-4.958 0-2.798 1.553-4.772 3.76-4.772s3.76 1.975 3.76 4.772c0 2.942-1.553 4.958-3.76 4.958ZM48.92 22.464h-4.842V11.397a.411.411 0 0 0-.409-.412h-1.328a.411.411 0 0 0-.409.412v12.651c0 .226.184.412.409.412h6.58a.411.411 0 0 0 .409-.412v-1.172a.411.411 0 0 0-.41-.412ZM93.428 22.464h-4.843V11.397a.411.411 0 0 0-.409-.412h-1.328a.411.411 0 0 0-.409.412v12.651c0 .226.184.412.409.412h6.58a.411.411 0 0 0 .409-.412v-1.172a.411.411 0 0 0-.41-.412ZM84.763 23.925l-4.087-12.631a.418.418 0 0 0-.388-.288H78.92c-.163 0-.286.103-.347.247l-4.149 12.672a.406.406 0 0 0 .389.534h1.328a.418.418 0 0 0 .388-.287l1.104-3.477h3.964l1.124 3.477a.418.418 0 0 0 .388.287h1.247c.306 0 .49-.267.408-.534Zm-6.64-5.143 1.225-3.868c.102-.308.205-.72.286-1.07.082.37.184.762.286 1.07l1.227 3.868h-3.025Z",fill:"#53BA7D"}),r.createElement("g",{clipPath:"url(#clip1_60_1330)",fill:"#53BB7D"},r.createElement("path",{d:"M17.004 7.22V1.27c0-.41-.264-.778-.63-.942-.365-.163-.812-.06-1.096.225L2.113 13.806C.71 15.217.04 16.587.02 18.019c0 1.432.65 2.781 2.032 4.172l13.226 13.314a.95.95 0 0 0 .71.307c.122 0 .265-.02.387-.123a1.02 1.02 0 0 0 .63-.94v-6.013c0-.266-.123-.532-.305-.716L6.725 17.978 16.7 7.936a.963.963 0 0 0 .304-.715Zm-2.031 21.966v3.129l-9.63-9.694c-.04-.062-.081-.123-.142-.184-.305-.307-1.22-1.228.142-2.946l9.63 9.695Zm0-22.354L4.429 17.446c-.813.818-1.361 1.677-1.646 2.516-.508-.675-.751-1.309-.751-1.922.02-.86.508-1.78 1.503-2.782L14.973 3.744v3.088Z"}),r.createElement("path",{d:"M9.548 17.998v.082c0 .43.346.777.772.777h15.095a.774.774 0 0 0 .772-.777V18a.774.774 0 0 0-.772-.778H10.32a.774.774 0 0 0-.772.777ZM12.454 15.033v.082c0 .43.345.777.772.777h9.264a.774.774 0 0 0 .772-.777v-.082a.774.774 0 0 0-.772-.777h-9.264a.774.774 0 0 0-.772.777ZM19.625 12.906a.774.774 0 0 0 .772-.777v-.082a.774.774 0 0 0-.772-.777h-3.677a.774.774 0 0 0-.772.777v.082c0 .43.345.777.772.777h3.677ZM15.948 24.87h3.677a.774.774 0 0 0 .772-.777v-.082a.774.774 0 0 0-.772-.777h-3.677a.774.774 0 0 0-.772.777v.082c0 .43.345.777.772.777ZM13.226 21.864h9.264a.774.774 0 0 0 .772-.777v-.082a.774.774 0 0 0-.772-.777h-9.264a.774.774 0 0 0-.772.777v.082c0 .43.345.777.772.777Z"}),r.createElement("path",{d:"M33.826 13.888 20.6.574a.993.993 0 0 0-1.097-.225 1.02 1.02 0 0 0-.63.94v6.034c0 .266.122.532.305.716l9.975 10.041-9.975 10.042a.963.963 0 0 0-.305.716v5.951c0 .41.244.777.63.941a.876.876 0 0 0 .386.082c.264 0 .508-.102.711-.286l13.165-13.253c1.401-1.411 2.072-2.782 2.092-4.213 0-1.432-.65-2.781-2.031-4.172ZM20.905 6.873v-3.13l9.63 9.695c.04.061.08.122.142.184.304.307 1.219 1.227-.142 2.945l-9.63-9.694ZM32.322 20.8 20.884 32.315v-3.068l10.544-10.635c.813-.818 1.361-1.677 1.646-2.515.508.674.752 1.308.752 1.922-.02.859-.508 1.78-1.504 2.781Z"})))),Vt||(Vt=r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_60_1330"},r.createElement("path",{fill:"#fff",d:"M0 0h94v36H0z"})),r.createElement("clipPath",{id:"clip1_60_1330"},r.createElement("path",{fill:"#fff",transform:"translate(.02 .206)",d:"M0 0h35.959v35.79H0z"})))));a.p;a(10667);const qt=e=>{var t="modal"===e.location?"local-callout-export-modal":"local-callout-migrate-tab";return r.createElement("div",{className:"local-callout migrate-notice"},r.createElement($t,{className:"local-logo"}),r.createElement("p",{className:"callout-content"},r.createElement("span",{className:"question"},(0,u.__)("Need to work on this site in a local development environment?","wp-migrate-db"))," ",r.createElement("span",{className:"answer"},(0,u.__)("Drag and drop an exported ZIP archive into Local. It's that easy!","wp-migrate-db"))),r.createElement(pe,{link:"https://deliciousbrains.com/wp-migrate-db-pro/doc/importing-wordpress-local-development-environment/",content:(0,u.__)("Learn More","wp-migrate-db"),utmContent:t,utmCampaign:"wp-migrate-documentation",screenReaderText:(0,u.__)("about importing into Local","wp-migrate-db")}))};const Kt=e=>{var t=(0,l.I0)(),a=t((0,Ct.J)()),n=(0,l.v9)((e=>e.migrations.current_migration)).status,i=e.match,o=(0,l.v9)((e=>e.panels)),c=o.panelsToDisplay,p=o.panelTitles,d=o.panelsOpen,m=(0,l.v9)((e=>(0,h._P)("this_uploads_dir",e))),_=(0,l.v9)((e=>e.profiles)),f=(0,l.v9)((e=>(0,lt.d)("status",e))).profile_loading,b=(0,l.v9)((e=>e.migrations.current_migration)),E=b.intent,w=b.migration_enabled,y=b.running,O=b.selectedComboOption,T=(0,r.useState)(!1),S=(0,g.Z)(T,2),N=S[0],Z=S[1],P=(0,C.fX)(_.loaded_profile),k=i.params.hasOwnProperty("id"),x=!1;return(!(0,C.aE)()&&null===f&&!1===k||!1===f&&k)&&(x=!0),r.createElement(r.Fragment,null,null!==_.current_profile&&r.createElement(r.Fragment,null,P&&0!==P.length&&r.createElement(gt,{outdatedSettings:P}),r.createElement(Rt,{profiles:e.match.path.includes("unsaved")?r.createElement("profiles",{className:"recent"}):_.saved,recentProfiles:e.match.path.includes("unsaved"),profileID:e.current_profile})),x&&r.createElement(Xe,(0,s.Z)({connecting:a,title:p.action_buttons,panelName:"action_buttons",panelsToShow:c,panelHandler:a=>{if(a.intent===E)return!1;"/migrate"!==e.match.path&&e.history.push({pathname:"/migrate"}),t((0,At.$f)(a))},baseTitle:(0,u.__)("Action","wp-migrate-db"),updateOpenPanels:e.updateOpenPanels,panelState:d,panelSummary:xe[E]},e)),""===E&&x&&r.createElement(qt,{location:"migrate-tab"}),e.children,"backup_local"===E&&r.createElement("div",{className:"migration-message"},(0,u.__)("An SQL file will be saved to ".concat(m," on your server"),"wp-migrate-db")),E&&r.createElement(r.Fragment,null,(0,ct.a)(n,"EMPTY_MIGRATION_STAGES")&&r.createElement(pt.Z,{type:"danger"},(0,u.__)("Select at least one type of content to be migrated.","wp-migrate-db")),w&&!a&&r.createElement("div",{className:"migration-buttons"},r.createElement(zt,{onClick:async e=>y?(e.preventDefault(),!1):(t({type:"WPMDB_PRE_MIGRATION"}),!!t((0,ct.b)())&&void t((0,v.Bq)()).then((e=>{!1===e&&(t({type:"MIGRATION_STARTED"}),t((0,v.Cy)()))}))),intent:E,selectedOption:O})," ",!(0,C.aE)()&&r.createElement(ut,(0,s.Z)({title:"Save Profile",intent:E,saveProfileOpen:N,setSaveProfileOpen:Z,panelName:"save_profile",baseTitle:(0,u.__)("Save Profile","wp-migrate-db")},e)))))};var Yt,Jt=["ChildPanels"],Xt=(0,m.ZP)(W.Q)(Yt||(Yt=(0,d.Z)(["\n  position: relative;\n  top: 5px;\n  #el_6X7lquFKkl {\n    fill: #b3aeae;\n  }\n"]))),Qt=e=>{var t=e.ChildPanels,a=(0,p.Z)(e,Jt),n=(0,l.I0)(),i=a.match,s=a.current_migration,o=a.profileData,c=a.backgroundMigrationRunning,d=o.profile_loading,m=o.profile_load_error,g=s.running,f=!0;return window.wpmdb_data.last_migration&&(f=window.wpmdb_data.last_migration.dismissed),(0,r.useEffect)((()=>{i.params.id&&!c&&f&&n((0,_.g5)(i))}),[]),c||g?r.createElement(ye,null):d?r.createElement("div",{className:"padded-container"},m?r.createElement("h2",null,m):r.createElement("h2",null,(0,u.__)("Loading profile... ","wp-migrate-db"),r.createElement("span",null,r.createElement(Xt,null)))):r.createElement(r.Fragment,null,!g&&r.createElement(Kt,a,t))};const ea=(0,l.$j)((e=>({current_migration:e.migrations.current_migration,profileData:e.profiles,backgroundMigrationRunning:e.migrations.migration_progress.backgroundMigrationRunning})))(r.memo(Qt));function ta(e){var t="",a=[],n=e.items,l=e.selected,i=e.defaultTitle,s=e.panelsOpen,o=e.showDefault,c=e.panelName;if(B()(s,e.type))return r.createElement(Nt,null);var p=", ";e.hasOwnProperty("separator")&&(p=e.separator),l.forEach((e=>{a.push(e)}));var d=n.length,m=l.length,_="(<b>".concat(m," of ").concat(d,"</b>)");return m>0&&!o?(t="".concat(_," ").concat(a.join(p)),e.hideCount&&(t="".concat(a.join(p)))):0===m&&["tables","backups","post_types"].includes(c)&&(t="<em>"+(0,u.__)("Empty selection","wp-migrate-db")+"</em>"),o&&(t=i),r.createElement(Nt,{className:e.panelName},(0,f.ZP)(t))}var aa,na=a(9712),ra=a(29950),la=(0,m.ZP)(na.r)(aa||(aa=(0,d.Z)(["\n  position: absolute;\n  top: -4px;\n  right: -30px;\n"])));var ia=e=>{var t=e.advancedOption,a=e.advancedOptions;return r.createElement("input",{type:"checkbox",className:t,checked:B()(a,t),onChange:()=>{((e,t)=>{e.updateAdvancedOptions(t)})(e,t)}})},sa={replace_guids:(0,u.__)("Replace GUIDs","wp-migrate-db"),exclude_spam:(0,u.__)("Exclude spam comments","wp-migrate-db"),exclude_transients:(0,u.__)("Exclude transients","wp-migrate-db"),keep_active_plugins:(0,u.__)("Keep active plugins","wp-migrate-db"),compatibility_older_mysql:(0,u.__)("Compatible with older versions of MySQL (pre-5.5)","wp-migrate-db"),gzip_file:(0,u.__)("Compress file with gzip","wp-migrate-db"),exclude_post_revisions:(0,u.__)("Exclude revisions","wp-migrate-db")};const oa=(0,l.$j)((function(e){return{panelsOpen:(0,mt.O)("panelsOpen",e),intent:(0,h.r5)("intent",e),current_migration:e.migrations.current_migration}}),{updateAdvancedOptions:E.vq})((e=>{var t=e.current_migration.advanced_options_selected,a=[];return Object.keys(sa).forEach((function(e){B()(t,e)&&a.push(sa[e])})),r.createElement(Se.Z,(0,s.Z)({title:e.title,panelName:e.panelName,className:"advanced-options",isOpen:!0,selected:t,panelSummary:r.createElement(ta,(0,s.Z)({},e,{items:ra.Zz,selected:a,type:e.panelName,panelsOpen:e.panelsOpen,hideCount:!0,separator:" | "}))},e),r.createElement("fieldset",{className:"options-wrap","aria-label":e.title},r.createElement("div",{className:"options-list"},"import"!==e.intent&&r.createElement(r.Fragment,null,"backup_local"!==e.intent&&r.createElement("div",null,r.createElement("label",{style:{position:"relative"}},r.createElement(ia,(0,s.Z)({advancedOption:"replace_guids",advancedOptions:t},e)),sa.replace_guids,r.createElement(ee.Z,{effect:"solid",place:"right",type:"light",delayUpdate:500,delayHide:500,border:!0,className:"action-tooltip",id:"wpmdb-replace-guids-tip"},(0,u.__)("Although the WordPress Codex emphasizes that GUIDs should not be changed, this is limited to sites that are already live. If the site has never been live, we recommend replacing the GUIDs. For example, you may be developing a new site locally at dev.somedomain.com and want to migrate the site live to somedomain.com.","wp-migrate-db")),r.createElement(la,{"data-tip":!0,"data-for":"wpmdb-replace-guids-tip",className:"question-mark"}))),r.createElement("div",null,r.createElement("label",null,r.createElement(ia,(0,s.Z)({advancedOption:"exclude_spam",advancedOptions:t},e)),sa.exclude_spam)),r.createElement("div",null,r.createElement("label",null,r.createElement(ia,(0,s.Z)({advancedOption:"exclude_transients",advancedOptions:t},e)),(0,f.ZP)((0,u.gB)((0,u.__)('Exclude <a href="%s" target="_blank" rel="noopener noreferrer">transients</a>',"wp-migrate-db"),"https://developer.wordpress.org/apis/handbook/transients/"))," ",r.createElement("span",{className:"dark"},(0,u.__)("(temporary cached data)","wp-migrate-db"))))),B()(["push","pull","import"],e.intent)&&r.createElement("div",null,r.createElement("label",null,r.createElement(ia,(0,s.Z)({advancedOption:"keep_active_plugins",advancedOptions:t},e)),(0,u.gB)((0,u.__)("Do not %s the 'active_plugins' setting","wp-migrate-db"),e.intent),r.createElement("br",null),r.createElement("small",null,(0,u.__)("(i.e. which plugins are activated/deactivated)","wp-migrate-db")))),"savefile"===e.intent&&r.createElement("div",null,r.createElement("label",null,r.createElement(ia,(0,s.Z)({advancedOption:"compatibility_older_mysql",advancedOptions:t},e)),(0,u.__)("Compatible with older versions of MySQL","wp-migrate-db")," ",r.createElement("span",{className:"dark"},(0,u.__)("(pre-5.5)","wp-migrate-db")))),B()(["savefile","backup_local"],e.intent)&&r.createElement("div",null,r.createElement("label",null,r.createElement(ia,(0,s.Z)({advancedOption:"gzip_file",advancedOptions:t},e)),sa.gzip_file)),r.createElement("div",null,r.createElement("label",null,r.createElement(ia,(0,s.Z)({advancedOption:"exclude_post_revisions",advancedOptions:t},e)),sa.exclude_post_revisions)))))}));a(35049);var ca,pa=m.ZP.section(ca||(ca=(0,d.Z)(["\n  display: grid;\n"])));const da=e=>{var t=e.intent,a=e.className,n=e.children;return r.createElement(pa,{className:a||""},r.createElement("div",{className:"header-row row"},r.createElement("div",{className:"header-2"},(0,u.__)("Find","wp-migrate-db")),r.createElement("div",{className:"header-4"},"savefile"===t&&(0,u.__)("Replace (Optional)","wp-migrate-db"),"savefile"!==t&&(0,u.__)("Replace","wp-migrate-db"))),n)};var ua,ma,_a,ga=a(4669),fa=a(69479),ha=m.ZP.span(ua||(ua=(0,d.Z)(["\n  padding: 0 0.5rem;\n  border-left: 1px solid ",";\n\n  &.first {\n    border-left: none;\n    padding-left: 0;\n  }\n"])),Tt.Qp),va=(0,m.ZP)(fa.r)(ma||(ma=(0,d.Z)(["\n  margin: 0 0.3rem;\n"]))),ba=m.ZP.span(_a||(_a=(0,d.Z)(["\n  position: relative;\n  top: 4px;\n"])));function Ea(e){var t="",a=e.fields,n=e.panelsOpen,l=e.searchKeys;if(B()(n,e.type))return r.createElement(Nt,null);var i=[];return a.forEach((e=>{e[l.search].length&&i.push(r.createElement(r.Fragment,null,e[l.search],r.createElement(ba,null,r.createElement(va,null)),e[l.replace]))})),i.length>0&&(t=r.createElement(r.Fragment,null,i.map(((e,t)=>r.createElement(ha,{key:t,className:0===t?"first":""},e))))),r.createElement(Nt,null,t)}var wa=e=>e.migrations.search_replace;function ya(e,t){return(0,h.fX)(wa,"search_replace",e,t)}var Oa=e=>{var t=e.count,a=e.panelsOpen,n=e.title,l=e.panelKey,i=e.panelName;return t>0&&!a.includes(l)?r.createElement("h4",{id:"panel-title-".concat(i),className:"panel-title"},n," ",r.createElement("b",{className:"count"},"(",t,")")):r.createElement("h4",{id:"panel-title-".concat(i),className:"panel-title"},n)},Ta=a(95402),Sa=a(22497);const Na=e=>{var t=e.enabled,a=e.screenReaderText,n=e.onClick;return t?r.createElement("button",{onClick:n},r.createElement(fa.r,{"aria-hidden":"true"}),r.createElement("span",{className:"screen-reader-text"},a)):r.createElement(fa.r,{"aria-hidden":"true"})};var Za=(e,t)=>{e.toggleStandardSearchReplace(t)};const Pa=(0,l.$j)((function(e){var t=(0,mt.O)("panelsOpen",e),a=(0,h.NR)("search_replace",e),n=ya("standard_search_replace",e),r=ya("standard_options_enabled",e),l=(0,h.r5)("selected_existing_profile",e),i=e.multisite_tools;return{search_replace:a,standard_search_replace:n,standard_options_enabled:r,panelsOpen:t,migrations:e.migrations,existingProfile:l,mst:i}}),{updateStandardSearchReplace:ga.mX,toggleStandardSearchReplace:ga.rL})((e=>{var t,a,n=e.standard_search_replace,i=e.standard_options_enabled,o=e.panelsOpen,c=e.migrations,p=e.existingProfile,d=e.mst,m=c.current_migration.intent,_=n.domain,h=n.path,v=(0,r.useState)(""),b=(0,g.Z)(v,2),E=b[0],w=b[1],y=(0,r.useState)(null!==(t=_.replace)&&void 0!==t?t:""),O=(0,g.Z)(y,2),T=O[0],S=O[1],N=(0,r.useState)(null!==(a=h.replace)&&void 0!==a?a:""),Z=(0,g.Z)(N,2),P=Z[0],k=Z[1],x=(0,l.I0)(),R=[];return(0,r.useEffect)((()=>{if("savefile"===m&&null===p){var t=[...e.panelsOpen];t.push("standard_fields"),x((0,At.G7)(t))}}),[]),(0,r.useEffect)((()=>{if("savefile"===m){var e=(0,Ta.F)({intent:m,remote_site:{url:T,path:P},local_site:c.local_site});e=x((0,Sa.O)("wpmdb_standard_replace_values",e)),x((0,ga.mX)(e))}}),[T,P,d]),B()(i,"domain")&&("savefile"===m?_.replace&&R.push(_):R.push(_)),B()(i,"path")&&("savefile"===m?h.replace&&R.push(h):R.push(h)),r.createElement(Se.Z,(0,s.Z)({title:e.title,panelName:e.panelName,isOpen:!0,header:r.createElement(Oa,(0,s.Z)({count:i.length,panelsOpen:o,title:e.title,panelKey:"standard_fields"},e)),selected:i,panelSummary:r.createElement(Ea,(0,s.Z)({},e,{fields:R,enabled:i,type:e.panelName,searchKeys:{search:"search",replace:"replace"},panelsOpen:e.panelsOpen})),bodyClass:"standard-search-replace search-replace"},e),r.createElement(da,{intent:m},r.createElement("div",{className:"content-row-wrap"},r.createElement("div",{className:"row content-row"},r.createElement("div",{className:"cell"},"savefile"!==m&&r.createElement("input",{type:"checkbox",onChange:()=>{Za(e,"domain")},checked:B()(i,"domain"),"aria-label":(0,u.__)("Find and replace URLs","wp-migrate-db")})),r.createElement("div",{className:"cell search"},_.search),r.createElement("div",{className:"cell custom-search-arrow"},r.createElement(Na,{screenReaderText:(0,u.__)("Copy find field to replace field","wp-migrate-db"),enabled:"savefile"===m,onClick:()=>{S(_.search)}})),r.createElement("div",{className:"cell replace"},"savefile"===m&&r.createElement("input",{type:"text","aria-label":(0,u.__)("Replace","wp-migrate-db"),onChange:e=>{S(e.target.value?e.target.value.trim():"")},defaultValue:T}),"savefile"!==m&&_.replace),r.createElement("div",{className:"question cell"},r.createElement(ee.Z,{effect:"solid",place:"left",type:"light",delayHide:500,delayUpdate:500,border:!0,className:"action-tooltip",id:"wpmdb-search-replace-url-tip",getContent:()=>"url"!==E?null:(0,f.ZP)((0,u.gB)((0,u.__)('This find & replace updates the domain of all the matching URLs in\n                  your database. You may wonder why we have double slashes in front\n                  of the domain name. If we excluded those, it could replace your\n                  domain in unwanted places like email addresses. You probably don\'t\n                  want to replace joe@yourdomain.com with\n                  joe@staging.yourdomain.com. More details in our\n                  <a\n                    href="%s"\n                    target="_blank"\n                    rel="noopener noreferrer"\n                  >\n                    Find & Replace Doc \u2192\n                  </a>',"wp-migrate-db"),"https://deliciousbrains.com/wp-migrate-db-pro/doc/find-and-replace/?utm_campaign=support%2Bdocs&utm_source=MDB%2BFree&utm_medium=insideplugin&utm_content=new%2Burl%2Bhelp%2Bbubble"))}),r.createElement(na.r,{"data-tip":!0,"data-for":"wpmdb-search-replace-url-tip",onMouseOver:()=>w("url")})))),r.createElement("div",{className:"content-row-wrap"},r.createElement("div",{className:"row content-row"},r.createElement("div",{className:"cell"},"savefile"!==m&&r.createElement("input",{type:"checkbox",onChange:()=>{Za(e,"path")},checked:B()(i,"path"),"aria-label":(0,u.__)("Find and replace web root path","wp-migrate-db")})),r.createElement("div",{className:"cell search"},h.search),r.createElement("div",{className:"cell custom-search-arrow"},r.createElement(Na,{screenReaderText:(0,u.__)("Copy find field to replace field","wp-migrate-db"),enabled:"savefile"===m,onClick:()=>{k(h.search)}})),r.createElement("div",{className:"cell replace"},"savefile"===m&&r.createElement("input",{type:"text","aria-label":(0,u.__)("Replace","wp-migrate-db"),onChange:e=>{k(e.target.value?e.target.value.trim():"")},defaultValue:P}),"savefile"!==m&&h.replace),r.createElement("div",{className:"question cell"},r.createElement(ee.Z,{effect:"solid",place:"left",type:"light",delayHide:500,delayUpdate:500,border:!0,className:"action-tooltip",id:"wpmdb-search-replace-path-tip",getContent:()=>"path"!==E?null:(0,f.ZP)((0,u.gB)((0,u.__)('The web root paths differ between your two sites. We\'ll update any\n                              matching file paths that exist in your database. More details in\n                              our<br /><a href="%s" target="_blank" rel="noopener noreferrer">Find & Replace Doc \u2192</a>',"wp-migrate-db"),"https://deliciousbrains.com/wp-migrate-db-pro/doc/find-and-replace/?utm_campaign=support%2Bdocs&utm_source=MDB%2BFree&utm_medium=insideplugin&utm_content=new%2Burl%2Bhelp%2Bbubble"))}),r.createElement(na.r,{"data-tip":!0,"data-for":"wpmdb-search-replace-path-tip",onMouseOver:()=>w("path")}))))),i.length<2&&"savefile"!==m&&r.createElement(pt.Z,{type:"warning"},(0,u.__)("Turning off these standard find & replace operations\n          could break this site. Only disable them if you are confident in\n          what you're doing.","wp-migrate-db")))}));const ka=e=>{var t=e.intent;return r.createElement(pt.Z,{type:"warning"},r.createElement("h4",null,(0,u.__)("Mixed Case Table Name","wp-migrate-db")),r.createElement("p",null,(0,f.ZP)((0,u.gB)((0,u.__)("Whoa! We've detected that your <b>%s</b> site has the MySQL setting <code>lower_case_table_names</code> set to <code>1</code>.","wp-migrate-db"),"push"===t?(0,u.__)("remote","wp-migrate-db"):(0,u.__)("local","wp-migrate-db")))),r.createElement("p",null,(0,u.__)("As a result, uppercase characters in table names will be converted to lowercase during the migration.","wp-migrate-db")),r.createElement("p",null,(0,f.ZP)((0,u.gB)((0,u.__)('You can read more about this in <a href="%s" target="_blank" rel="noopener noreferrer">our documentation</a>, proceed with caution.',"wp-migrate-db"),"https://deliciousbrains.com/wp-migrate-db-pro/doc/mixed-case-table-names/?utm_campaign=error%2Bmessages&utm_source=MDB%2BPaid&utm_medium=insideplugin"))))};const xa=e=>{var t=[],a=e.status,n=void 0===a?{}:a,l=e.intent;return n.mixed_case_table_name_warning&&t.push(r.createElement(ka,(0,s.Z)({intent:l},e))),t};var Ra=a(78677),Aa=a(18832),Ca={push:{all:(0,u.__)("Push all tables with prefix","wp-migrate-db"),selected:(0,u.__)("Push only the selected tables below","wp-migrate-db"),backup:(0,u.__)("Backup the remote database before replacing it","wp-migrate-db")},pull:{all:(0,u.__)("Pull all tables with prefix","wp-migrate-db"),selected:(0,u.__)("Pull only the selected tables below","wp-migrate-db"),backup:(0,u.__)("Backup the local database before replacing it","wp-migrate-db")},import:{all:(0,u.__)("Import all tables with prefix","wp-migrate-db"),selected:(0,u.__)("Import only selected tables below","wp-migrate-db"),backup:(0,u.__)("Backup the database before running the import","wp-migrate-db"),backup_selected:(0,u.__)("Backup only the tables that will be replaced during the import","wp-migrate-db")},savefile:{all:(0,u.__)("Export all tables with prefix","wp-migrate-db"),selected:(0,u.__)("Export only selected tables below","wp-migrate-db"),post_types_all:(0,u.__)("Export all post types","wp-migrate-db"),post_types_selected:(0,u.__)("Export only post types selected below","wp-migrate-db")},backup_local:{all:(0,u.__)("Backup all tables with prefix","wp-migrate-db"),selected:(0,u.__)("Backup only selected tables below","wp-migrate-db"),post_types_all:(0,u.__)("Backup all post types","wp-migrate-db"),post_types_selected:(0,u.__)("Backup only post types selected below")},find_replace:{all:(0,u.__)("Search in all tables with prefix","wp-migrate-db"),selected:(0,u.__)("Search only in selected tables below","wp-migrate-db"),backup:(0,u.__)("Backup the database before running the find & replace","wp-migrate-db"),post_types_all:(0,u.__)("Search in all post types","wp-migrate-db"),post_types_selected:(0,u.__)("Search in only post types selected below","wp-migrate-db")}};const Ia=e=>{var t=e.intent,a="find_replace"===t?(0,u.__)("The post types you <em>don't</em> select will not be included in the find & replace.","wp-migrate-db"):(0,u.__)("The post types you <em>don't</em> select will be absent in the destination posts table after migration.","wp-migrate-db");return r.createElement("div",{className:"options-list"},r.createElement("div",null,r.createElement("input",{type:"radio",name:"post-types[]",checked:"all"===e.postTypesOption,onChange:()=>e.togglePostTypesSelector("all"),id:"posttypes-all"}),r.createElement("label",{htmlFor:"posttypes-all"},["push","pull"].includes(t)?(0,u.__)("Migrate all post types","wp-migrate-db"):Ca[t].post_types_all)),r.createElement("div",null,r.createElement("input",{type:"radio",name:"post-types[]",checked:"selected"===e.postTypesOption,onChange:()=>e.togglePostTypesSelector("selected"),id:"posttypes-selected"}),r.createElement("label",{htmlFor:"posttypes-selected"},["push","pull"].includes(t)?(0,u.__)("Migrate only selected post types below","wp-migrate-db"):Ca[t].post_types_selected),"selected"===e.postTypesOption&&r.createElement(pt.Z,{type:"warning"},(0,f.ZP)(a))))};const Da=(0,l.$j)((function(e){var t=(0,mt.O)("panelsOpen",e),a=(0,h.r5)("post_types_option",e),n=(0,h.r5)("post_types_selected",e),r=(0,h.r5)("advanced_options_selected",e);return{panelsOpen:t,post_types_selected:n,post_types_option:a,status:(0,h.r5)("status",e),advanced_options_selected:r}}),{updatePostTypesOption:E.t9,updatePostTypesSelected:E.gy})((e=>{var t=e.postTypes,a=e.post_types_option,n=e.post_types_selected,l=e.intent,i=t.filter((e=>"revision"!==e)),o=t=>{e.updatePostTypesOption(t,i)};return r.createElement(Se.Z,(0,s.Z)({title:e.title,panelName:e.panelName,isOpen:!0,selected:n,hasDefault:!0,panelSummary:r.createElement(ta,(0,s.Z)({},e,{items:i,selected:n,title:e.title,type:e.panelName,panelsOpen:e.panelsOpen,defaultTitle:["push","pull"].includes(l)?(0,u.__)("Migrate all post types","wp-migrate-db"):Ca[l].post_types_all,showDefault:"selected"!==a}))},e),r.createElement(Ra.Z,{id:"post-type-multiselect",options:i,stateManager:t=>{e.updatePostTypesSelected(t)},selected:n,handleToggle:o,visible:"selected"===a,updateSelected:e.updatePostTypesSelected,selectInverse:()=>(0,Aa.Z)(e.updatePostTypesSelected,i,n),ToggleButtons:r.createElement(Ia,{postTypesOption:a,togglePostTypesSelector:o,intent:l})}),(0,ct.a)(e.status,"POST_TYPES_SELECTED_EMPTY")&&r.createElement(pt.Z,{type:"danger"},(0,u.__)("Please select post types to exclude or migrate all post types","wp-migrate-db")))}));const Ma=e=>r.createElement("div",{className:"options-list",role:"radiogroup","aria-label":(0,u.__)("Tables migration options","wp-migrate-db")},r.createElement("div",null,r.createElement("input",{type:"radio",name:"tables",checked:"all"===e.tablesOption,onChange:()=>e.toggleTableSelector("all"),id:"all-tables"}),r.createElement("label",{htmlFor:"all-tables"},Ca[e.intent].all,' "',e.prefix,'"')),r.createElement("div",null,r.createElement("input",{type:"radio",name:"tables",checked:"selected"===e.tablesOption,onChange:()=>e.toggleTableSelector("selected"),id:"selected-tables"}),r.createElement("label",{htmlFor:"selected-tables"},Ca[e.intent].selected)));const La=(0,l.$j)((function(e){var t=(0,mt.O)("panelsOpen",e),a=(0,h.r5)("tables_option",e),n=(0,h.r5)("tables_selected",e),r=(0,h.r5)("databaseEnabled",e);return{panelsOpen:t,tablesOption:a,tablesSelected:n,status:(0,h.r5)("status",e),databaseEnabled:r,remotePrefixedTables:(0,h.FY)("prefixed_tables",e),localPrefixedTables:(0,h._P)("this_prefixed_tables",e)}}),{updateSelectedTables:E.E2,updateTablesOption:E.S5})((e=>{var t=e.intent,a=e.tables,n=e.prefix,l=e.tablesSelected,i=e.tablesOption,o=e.tableSizes,c=e.databaseEnabled,p=e.localPrefixedTables,d=e.remotePrefixedTables,m=n=>{if(e.disabled)return!1;var r=a;"all"===n&&(r="pull"===t?d:p),e.updateTablesOption(n,r)},_=(0,Te.Z)({},o);for(var g in o)_[g]=' <span class="table-size">('.concat(o[g],")</span>");var f=()=>c?(0,ct.a)(e.status,"TABLES_SELECTED_EMPTY")&&r.createElement(pt.Z,{type:"danger"},(0,u.__)("Please select at least one table to migrate","wp-migrate-db")):null;return r.createElement(Se.Z,(0,s.Z)({title:e.title,selected:l,hasDefault:!0,panelSummary:r.createElement(ta,(0,s.Z)({},e,{items:a,selected:l,type:e.panelName,panelsOpen:e.panelsOpen,defaultTitle:"".concat(Ca[t].all,' "').concat(e.prefix,'"'),showDefault:"selected"!==i})),panelName:e.panelName,isOpen:!0},e),r.createElement(Ra.Z,{id:"tables-multiselect",options:a,extraLabels:_,stateManager:t=>{e.updateSelectedTables(t)},selected:l,handleToggle:m,visible:"selected"===i,updateSelected:e.updateSelectedTables,selectInverse:()=>(0,Aa.Z)(e.updateSelectedTables,a,l),ToggleButtons:r.createElement(Ma,{tablesOption:i,toggleTableSelector:m,intent:t,prefix:n})}),r.createElement(f,null))}));const Fa=e=>{var t=e.uploads_dir;return r.createElement(pt.Z,{type:"danger"},r.createElement("strong",null,(0,u.__)("Migration disabled","wp-migrate-db"))," \u2014",(0,f.ZP)((0,u.gB)((0,u.__)("This migration type has been disabled because the local uploads directory is not writable: <code>%s</code>. Please update the permissions of this directory and try again.","wp-migrate-db"),t))," ",r.createElement("a",{href:"https://deliciousbrains.com/wp-migrate-db-pro/doc/uploads-folder-permissions/",target:"_blank",rel:"noopener noreferrer"},(0,u.__)("More information.","wp-migrate-db")))};var Ba=a(47895);const Ua=e=>{var t=e.prefix,a=(0,l.v9)((e=>e.migrations.import_data)).status;return r.createElement("div",{className:"options-list"},r.createElement("div",null,r.createElement("input",{type:"radio",name:"backup[]",checked:"none"===e.backupOption,onChange:()=>e.toggleBackupsSelector("none"),id:"no-backup"}),r.createElement("label",{htmlFor:"no-backup"},"No backup")),r.createElement("div",null,r.createElement("input",{type:"radio",name:"backup[]",checked:"backup_only_with_prefix"===e.backupOption,onChange:()=>e.toggleBackupsSelector("backup_only_with_prefix"),id:"prefix-backup"}),r.createElement("label",{htmlFor:"prefix-backup"},(0,u.gB)((0,u.__)('Backup all tables with "%s" prefix',"wp-migrate-db"),t))),"NON_MDB_IMPORT_ERROR"!==a&&r.createElement("div",null,r.createElement("input",{type:"radio",name:"backup[]",checked:"backup_selected"===e.backupOption,onChange:()=>e.toggleBackupsSelector("backup_selected"),id:"backup-selected"}),r.createElement("label",{htmlFor:"backup-selected"},"import"===e.intent?Ca.import.backup_selected:(0,u.__)("Backup only tables selected for migration","wp-migrate-db"))),r.createElement("div",null,r.createElement("input",{type:"radio",name:"backup[]",checked:"backup_manual_select"===e.backupOption,onChange:()=>e.toggleBackupsSelector("backup_manual_select"),id:"manual-backup"}),r.createElement("label",{htmlFor:"manual-backup"},(0,u.__)("Backup only selected tables below","wp-migrate-db"))))};var ja=["tables_selected","backup_option","status","tables","tableSizes","prefix","local_site","remote_site","backup_tables_selected","intent"];var Ga=e=>({none:(0,u.__)("No backup","wp-migrate-db"),backup_only_with_prefix:(0,u.gB)((0,u.__)('Backup all tables with "%s" prefix',"wp-migrate-db"),e.prefix),backup_selected:(0,u.__)("Backup tables selected for migration","wp-migrate-db"),backup_manual_select:(0,u.__)("Backup selected tables","wp-migrate-db")});const za=(0,l.$j)((function(e){var t=(0,mt.O)("panelsOpen",e),a=(0,h.r5)("backup_tables_selected",e),n=(0,h.r5)(["tables_selected","backup_option","status"],e),r=(0,g.Z)(n,3);return{panelsOpen:t,backup_tables_selected:a,tables_selected:r[0],backup_option:r[1],status:r[2],remote_site:e.migrations.remote_site,local_site:e.migrations.local_site,panels:e.panels}}),{updateBackupsTables:E.qg,updateBackupsOption:E.P_,updatePanelTitle:At.H5})((e=>{e.tables_selected;var t=e.backup_option,a=e.status,n=e.tables,l=e.tableSizes,i=e.prefix,o=e.local_site,c=e.remote_site,d=e.backup_tables_selected,m=e.intent,_=(0,p.Z)(e,ja),g=(0,Te.Z)({},_),f=i;"import"!==m&&"pull"!==m||(f=o.this_prefix),"push"===m&&(f=c.prefix),g.prefix=f;var h=(0,C.qu)(m,o,c),v=h.disabled,b=h.uploads_dir,E=e=>{if(v)return null;_.updateBackupsOption(e,Ga(g))},w=(0,Te.Z)({},l);for(var y in l)w[y]='  <span class="table-size">('.concat(l[y],")</span>");return r.createElement(r.Fragment,null,r.createElement(Se.Z,(0,s.Z)({title:_.title,panelName:_.panelName,isOpen:!0,disabled:v,selected:d,hasDefault:!0,panelSummary:r.createElement(ta,(0,s.Z)({},_,{items:n,selected:d,title:_.title,type:_.panelName,panelsOpen:_.panelsOpen,defaultTitle:Ga(g)[t],showDefault:"backup_manual_select"!==t}))},_),r.createElement(Ra.Z,{id:"backups-multiselect",options:n,extraLabels:w,visible:"backup_manual_select"===t,stateManager:e=>{_.updateBackupsTables(e)},selected:d,handleToggle:E,updateSelected:_.updateBackupsTables,selectInverse:()=>(0,Aa.Z)(_.updateBackupsTables,n,d),ToggleButtons:r.createElement(Ua,{backupOption:t,toggleBackupsSelector:E,prefix:f,intent:m,disabled:v})}),r.createElement(pt.Z,{type:"info",className:"backup-dir"},r.createElement("p",null,(0,u.gB)((0,u.__)("A file will be saved to %s","wp-migrate-db"),b))),(0,ct.a)(a,"BACKUP_TABLES_SELECTED_EMPTY")&&r.createElement(pt.Z,{type:"danger"},r.createElement("p",null,(0,u.__)("Please select at least one table to backup","wp-migrate-db")))))}));var Ha=a(2474),Va=a.n(Ha),Wa=a(41919);const $a=(e,t,a)=>{var n=Array.from(e),r=n.splice(t,1),l=(0,g.Z)(r,1)[0];return n.splice(a,0,l),n};var qa;function Ka(){return Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ka.apply(this,arguments)}const Ya=e=>r.createElement("svg",Ka({height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg"},e),qa||(qa=r.createElement("g",{fill:"#0777ef",fillRule:"evenodd",transform:"translate(3 3)"},r.createElement("rect",{height:10,rx:1,width:2,x:4}),r.createElement("rect",{height:10,rx:1,transform:"rotate(-90 5 5)",width:2,x:4}))));a.p;var Ja;function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Xa.apply(this,arguments)}const Qa=e=>r.createElement("svg",Xa({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),Ja||(Ja=r.createElement("g",{fill:"#999",fillRule:"evenodd"},r.createElement("path",{d:"M4 5h16v2H4zM4 9h16v2H4zM4 13h16v2H4zM4 17h16v2H4z"}))));a.p;var en;function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},tn.apply(this,arguments)}const an=e=>r.createElement("svg",tn({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24"},e),en||(en=r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("circle",{cx:12,cy:12,r:8,fill:"#999"}),r.createElement("path",{fill:"#EEE",fillRule:"nonzero",d:"m13.5 12 2.252-2.251c.33-.33.33-.87 0-1.201l-.3-.3a.851.851 0 0 0-1.2 0L12 10.5 9.748 8.248a.851.851 0 0 0-1.2 0l-.3.3c-.33.33-.33.87 0 1.2L10.497 12l-2.25 2.252c-.33.33-.33.87 0 1.2l.3.3c.33.33.87.33 1.2 0L12 13.502l2.251 2.25c.33.33.871.33 1.201 0l.3-.3c.33-.33.33-.87 0-1.2L13.501 12Z"}))));a.p;var nn,rn=a(48462),ln=a.n(rn),sn=(e,t)=>async a=>{if(e){var n=await a((e=>async(t,a)=>{var n=(0,h.NR)("search_replace",a()).custom_search_replace[e];if(n){var r=n.replace_old;if(""===r)return!0;try{var l=await(0,C.op)("/regex-validate",{pattern:ln()(r)});return l.success&&!0===l.data}catch(i){return!1}}return!1})(t));return a((0,ga.zf)({key:t,option:"isValidRegex",value:n})),n}return a((0,ga.zf)({key:t,option:"isValidRegex",value:null})),!0},on=(e,t)=>t["regex"===e?"case_sensitive":"regex"];function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},cn.apply(this,arguments)}const pn=e=>r.createElement("svg",cn({width:20,height:12,viewBox:"0 0 20 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),nn||(nn=r.createElement("path",{d:"M.942 12.474c.542 0 .845-.259 1.058-.932l.836-2.432h4.39l.836 2.432c.205.665.525.932 1.067.932.578 0 .96-.328.96-.845 0-.216-.054-.449-.151-.734L6.604 1.742C6.302.871 5.867.5 5.058.5c-.81 0-1.245.38-1.556 1.242L.17 10.895c-.116.328-.169.553-.169.76 0 .5.382.82.942.82ZM3.316 7.61l1.67-4.978h.098l1.663 4.978H3.316ZM18.009 11.189h.098v.405c.044.544.39.863.933.863.613 0 .96-.38.96-1.035v-5.22c0-1.984-1.324-3.088-3.698-3.088-.977 0-1.724.164-2.293.466-.791.414-1.165.931-1.165 1.458 0 .414.285.699.72.699.338 0 .57-.087.81-.311.542-.535 1.057-.794 1.804-.794 1.2 0 1.849.535 1.849 1.562v.81H15.68c-2.098.01-3.36 1.036-3.36 2.718 0 1.657 1.236 2.778 3.067 2.778 1.164 0 2.106-.466 2.622-1.311Zm-3.707-1.562c0-.837.605-1.311 1.654-1.311h2.07v.983c0 .984-.88 1.743-2.026 1.743-1.013 0-1.698-.57-1.698-1.415Z",fill:"#30578C"})));a.p;var dn,un;function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},mn.apply(this,arguments)}const _n=e=>r.createElement("svg",mn({width:16,height:12,viewBox:"0 0 16 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),dn||(dn=r.createElement("path",{d:"m15.735 7.569-3.03-1.652 3.03-1.653a.506.506 0 0 0 .196-.699l-.415-.714a.513.513 0 0 0-.708-.18l-2.956 1.78.074-3.432a.51.51 0 0 0-.51-.519h-.831a.51.51 0 0 0-.511.519l.074 3.432-2.956-1.78a.513.513 0 0 0-.708.18l-.415.714a.506.506 0 0 0 .196.7l3.03 1.652-3.03 1.652a.506.506 0 0 0-.196.7l.415.713a.513.513 0 0 0 .708.18l2.956-1.78-.074 3.433a.51.51 0 0 0 .51.518h.831a.51.51 0 0 0 .511-.518l-.074-3.432 2.956 1.78a.513.513 0 0 0 .708-.181l.415-.714a.506.506 0 0 0-.196-.699Z",fill:"#30578C"})),un||(un=r.createElement("circle",{cx:1.5,cy:11,r:1.5,fill:"#30578C"})));a.p;var gn=e=>{var t=e.Icon,a=e.onChange,n=e.tooltip,l=e.index,i=e.className,s=e.value,o=e.disabled,c=e.type,p=e.isDisabled,d=(0,r.useState)(null!==s&&void 0!==s&&s),u=(0,g.Z)(d,2),m=u[0],_=u[1],h=(0,r.useState)(""),v=(0,g.Z)(h,2),b=v[0],E=v[1],w="search-replace-tooltip-".concat(l+c);return r.createElement("div",{className:"search-replace-option ".concat(i)},r.createElement(ee.Z,{effect:"solid",place:"top",type:"light",delayUpdate:500,delayHide:50,border:!0,className:"action-tooltip search-replace-option-tooltip",id:w,getContent:()=>b!==w?null:(0,f.ZP)(n)}),r.createElement("input",{"data-for":w,"data-tip":n,className:p?"option-disabled":"",id:c+l,type:"checkbox",value:m,checked:m,disabled:null!==o&&void 0!==o&&o,onChange:e=>{_(e.target.checked),a&&a(e.target.checked)},onFocus:()=>E(w)}),r.createElement("label",{"data-for":w,"data-tip":n,htmlFor:c+l,className:"toggle ".concat(m?"active":""),onMouseOver:()=>E(w)},r.createElement(t,{className:"option-icon","aria-hidden":"true"}),r.createElement("span",{className:"screen-reader-text"},(0,f.ZP)(n))))},fn=e=>{var t=e.index,a=e.item,n=a.regex,i=(0,C.Yu)(),s=(0,C.ME)(),o=s||on("regex",a),c=(0,l.I0)(),p=(0,r.useState)(n),d=(0,g.Z)(p,2),m=d[0],_=d[1],f=(0,u.gB)((0,u.__)("Run a <b>find and replace</b> using a <b>regular expression</b>. Delimiters required and modifiers accepted. <br> <a class='semibold underline' href='%s' target='_blank'>Learn more about Regex</a>"),"https://deliciousbrains.com/wp-migrate-db-pro/doc/find-and-replace/?utm_campaign=support%2Bdocs&utm_source=%7B$tracking_base%7D&utm_medium=insideplugin&utm_content=new%2Burl%2Bvalidation#regex-find-replace");o&&s&&(f=(0,C.mF)("regex",i));var h=(0,r.useCallback)((0,R.debounce)(((e,t)=>{c(sn(e,t))}),300),[]);return(0,r.useEffect)((()=>{a.case_sensitive&&_(!1)}),[a]),(0,r.useEffect)((()=>{h(m,t),m?(c((0,ga.zf)({key:t,option:"replace_old_placeholder",value:'/\\[foo id="([0-9]+)"/'})),c((0,ga.zf)({key:t,option:"replace_new_placeholder",value:'[bar id="$1"'}))):(c((0,ga.zf)({key:t,option:"replace_old_placeholder",value:null})),c((0,ga.zf)({key:t,option:"replace_new_placeholder",value:null})))}),[a.replace_old,m]),r.createElement(gn,{Icon:_n,type:"regex",tooltip:f,index:t,value:m,isDisabled:o,disabled:s,onChange:e=>{_(e),c((0,ga.zf)({key:t,option:"regex",value:e})),e&&c((0,ga.zf)({key:t,option:"case_sensitive",value:!1}))}})},hn=e=>{var t=e.index,a=e.item,n=a.case_sensitive,i=(0,l.I0)(),s=(0,r.useState)(n),o=(0,g.Z)(s,2),c=o[0],p=o[1];return(0,r.useEffect)((()=>{a.regex&&p(!1)}),[a]),(0,r.useEffect)((()=>{i((0,ga.zf)({key:t,option:"case_sensitive",value:c})),c&&i((0,ga.zf)({key:t,option:"regex",value:!1}))}),[c]),r.createElement(gn,{Icon:pn,type:"case-sensitive",tooltip:(0,u.__)("Run a case-sensitive find and replace.","wp-migrate-db"),className:"case-sensitive",index:t,value:n,isDisabled:on("case_sensitive",a),onChange:e=>{p(e)}})};const vn=(0,l.$j)((e=>({local_site:e.migrations.local_site})))((e=>{var t=e.index,a=e.item,n=e.local_site,l=n.this_url,i=n.this_path;return(0,C.Ph)(l)===a.replace_old||i===a.replace_old?null:r.createElement("fieldset",{"aria-label":(0,u.__)("Find and replace row options","wp-migrate-db")},r.createElement(fn,{index:t,item:a}),r.createElement(hn,{index:t,item:a}))}));var bn=(e,t,a,n)=>{e.updateCustomSearchReplace({key:t,option:a,value:n})},En=(e,t)=>{t.preventDefault();var a="keypress"===t.type;e.addItemCustomSearchReplace(a)};const wn=(0,l.$j)((function(e){var t=(0,h.r5)("status",e),a=(0,mt.O)("panelsOpen",e),n=(0,h.NR)("search_replace",e);return{status:t,panelsOpen:a,custom_search_replace:n.custom_search_replace,search_replace:n,existingProfile:(0,h.r5)("selected_existing_profile",e),intent:(0,h.r5)("intent",e)}}),{updateCustomSearchReplace:ga.zf,reorderCustomSearchReplace:ga.GJ,addItemCustomSearchReplace:ga.FL,deleteItemCustomSearchReplace:ga.Px,setCustomSearchReplace:ga.EX})((e=>{var t=e.custom_search_replace,a=e.panelsOpen,n=e.status,i=e.search_replace,o=e.intent,c=e.existingProfile,p=(0,l.I0)();(0,r.useEffect)((()=>{if("savefile"===o&&null!==c){var e=a.filter((e=>"custom_fields"!==e));p((0,At.G7)(e))}}),[]);var d=i.custom_search_domain_locked,m=t.map(((t,a)=>r.createElement(Wa._l,{key:t.id,draggableId:t.id,index:a},((n,l)=>{var i,o="custom-search custom-search-row row".concat(l.isDragging?" dragging":"");return r.createElement("fieldset",(0,s.Z)({key:a,ref:n.innerRef},n.dragHandleProps,n.draggableProps,{style:(i=n.draggableProps.style,l.isDragging,(0,Te.Z)({userSelect:"none"},i)),className:o,"aria-label":(0,u.__)("Find and replace row","wp-migrate-db")}),r.createElement("div",{className:"handle cell"},r.createElement(Qa,{"aria-hidden":"true"})),r.createElement("div",{className:"cell"},r.createElement("input",{type:"text",onChange:t=>{bn(e,a,"replace_old",t.target.value)},value:t.replace_old,placeholder:t.replace_old_placeholder,className:"consolas replace-old".concat(d&&0===a?" disabled":""," ").concat(!1===t.isValidRegex&&!0===t.regex?"invalid-expression":""),disabled:d&&0===a,"aria-label":(0,u.__)("Find","wp-migrate-db"),autoFocus:t.focus})),r.createElement("div",{className:"custom-search-arrow cell"},r.createElement("button",{onClick:()=>((e,t,a)=>{e.updateCustomSearchReplace({key:t,option:"replace_new",value:a})})(e,a,t.replace_old)},r.createElement(fa.r,{"aria-hidden":"true"}),r.createElement("span",{className:"screen-reader-text"},(0,u.__)("Copy find field to replace field","wp-migrate-db")))),r.createElement("div",{className:"cell"},r.createElement("input",{type:"text",onChange:t=>{bn(e,a,"replace_new",t.target.value)},value:t.replace_new,placeholder:t.replace_new_placeholder,className:"consolas","aria-label":(0,u.__)("Replace","wp-migrate-db")})),r.createElement("div",{className:"close cell"},r.createElement("button",{onClick:()=>{((e,t)=>{e.deleteItemCustomSearchReplace(t)})(e,a)}},r.createElement(an,{"aria-hidden":"true"}),r.createElement("span",{className:"screen-reader-text"},(0,u.__)("Remove row","wp-migrate-db")))),r.createElement("div",{className:"cell search-replace-row-options"},r.createElement(vn,{index:a,item:t})))})))),_=Va()(t,(function(e){return e.replace_old.length>0}));return r.createElement(Se.Z,(0,s.Z)({title:e.title,panelName:e.panelName,isOpen:!0,selected:_,header:r.createElement(Oa,(0,s.Z)({count:t.length,panelsOpen:a,title:e.title,panelKey:"custom_fields"},e)),panelSummary:r.createElement(Ea,(0,s.Z)({},e,{fields:t,type:e.panelName,searchKeys:{search:"replace_old",replace:"replace_new"},panelsOpen:e.panelsOpen})),bodyClass:"custom-search-replace search-replace free"},e),r.createElement(da,{className:"custom-search"},r.createElement(Wa.Z5,{onDragEnd:a=>{if(a.destination){var n=$a(t,a.source.index,a.destination.index);e.reorderCustomSearchReplace(n)}}},r.createElement(Wa.bK,{droppableId:"droppable"},((e,t)=>r.createElement("fieldset",(0,s.Z)({ref:e.innerRef,style:(t.isDraggingOver,{}),"aria-label":(0,u.__)("Custom Find & Replace","wp-migrate-db")},e.droppableProps),m,e.placeholder))))),(0,ct.a)(n,"COMMON_SEARCH_REPLACE_EMPTY")&&r.createElement(pt.Z,{type:"danger"},(0,f.ZP)((0,u.gB)((0,u.__)('Please make sure all find & replace fields have values above. More information about these fields can be found in <a href="%s" target="_blank" rel="noopener roreferrer">our documentation.</a>',"wp-migrate-db"),"https://deliciousbrains.com/wp-migrate-db-pro/doc/find-and-replace/?utm_campaign=support%2Bdocs&utm_source={$tracking_base}&utm_medium=insideplugin&utm_content=new%2Burl%2Bvalidation"))),(0,ct.a)(n,"COMMON_SEARCH_REPLACE_INVALID_REGEX")&&r.createElement(pt.Z,{type:"danger"},(0,f.ZP)((0,u.gB)((0,u.__)("Please make sure all 'Regular Expression' find & replace patterns are valid. <a href='%s'>Learn more about Regex</a>","wp-migrate-db"),"https://deliciousbrains.com/wp-migrate-db-pro/doc/find-and-replace/?utm_campaign=support%2Bdocs&utm_source=%7B$tracking_base%7D&utm_medium=insideplugin&utm_content=new%2Burl%2Bvalidation#regex-find-replace"))),r.createElement("p",null,r.createElement("button",{className:"btn btn-sm btn-stroke",onClick:t=>En(e,t),onKeyPress:t=>En(e,t)},r.createElement("div",{className:"flex-container"},r.createElement("div",{className:"btn-sm-icon icon-16"},r.createElement(Ya,{"aria-hidden":"true"})),(0,u.__)("Add Row","wp-migrate-db")))))}));const yn=r.forwardRef(((e,t)=>{var a=e.panelsOpen,n=void 0===a?[]:a,l=e.registeredPanels,i=void 0===l?[]:l,s=e.onClick,o=n.some((e=>At.$z.includes(e)&&i.includes(e)))?(0,u.__)("Collapse All","wp-migrate-db"):(0,u.__)("Expand All","wp-migrate-db");return r.createElement("button",{ref:t,className:"link",onClick:s,"aria-label":(0,u.gB)("%s %s",o,(0,u.__)("database panels.","wp-migrate-db"))},o)}));var On,Tn=a(66055),Sn=(0,C.aE)()?"1":"repeat(2, 1fr)",Nn=m.ZP.div(On||(On=(0,d.Z)(["\n  display: grid;\n  grid-template-columns: ",";\n  align-items: start;\n  column-gap: 1.35rem;\n"])),Sn);const Zn=(0,l.$j)((function(e){var t,a=null!==(t=e.migrations.connection_info)&&void 0!==t?t:{},n=a.connecting,r=void 0!==n&&n,l=a.status,i=e.migrations,s=i.local_site,o=i.remote_site,c=e.migrations.current_migration.intent,p=e.profiles.current_profile;return{connecting:r,status:l,local_site:s,remote_site:o,intent:c,current_migration:e.migrations.current_migration,panels:e.panels,search_replace:e.migrations.search_replace,current_profile:p}}),{updateSelectedTables:E.E2,updatePanelTitle:At.H5,setCustomSearchReplace:ga.EX,setMigrationEnabled:E.I8})((e=>{var t=(0,l.I0)(),a=e.current_migration,n=a.intent,i=a.databaseEnabled,s=e.local_site,o=e.remote_site,c=void 0===o?{}:o,p=s.this_tables,d=s.this_table_sizes_hr,m=c.tables,_=c.table_sizes_hr,g=c.prefixed_tables,f=s.this_prefixed_tables,h=(0,C.qu)(n,s,c),v=h.disabled,b=h.uploads_dir,E=(0,Ba.Lk)(n,{tables:p,tableSizes:d},{tables:m,tableSizes:_},"migration"),w=E.tables,y=E.tableSizes,O=(0,r.useRef)(),T=p,S=d;"push"===n&&(T=m,S=_);var N=e.current_migration.tables_option,Z=B()(["savefile","backup_local"],n)&&v;if((0,r.useEffect)((()=>{Z&&e.setMigrationEnabled(!1),"import"!==n&&null===e.current_profile&&"all"===N&&e.updateSelectedTables("pull"===n?g:f)}),[]),Z)return r.createElement(Fa,{uploads_dir:b});var P=e.local_site.this_prefix,k=e.local_site.this_post_types,x=e.search_replace.standard_search_visible;if("pull"!==n&&"import"!==n||(P=e.remote_site.prefix,k=e.remote_site.post_types),e.connecting)return null;var R=xa(e),A=["push","pull","savefile"].includes(n),I=i||!A,D=()=>{t((0,Tn.m)(ra.AV))};return r.createElement("div",null,r.createElement(Se.Z,{title:e.panels.panelTitles.database,panelName:"database",enabled:i,hasInput:A,hideArrow:!0,panelOpen:i,panelSummary:I&&r.createElement(yn,{ref:O,onClick:()=>{t((0,At.Xl)())},panelsOpen:e.panels.panelsOpen,registeredPanels:e.panels.registeredPanels}),toggle:()=>{D()},callback:e=>{if("checkbox"!==e.target.type&&(!O.current||O.current!==e.target)){if(!i)return D();t((0,At.Xl)())}},className:A?"database_panel_has_controls":"database_panel_no_controls"},r.createElement(Nn,null,r.createElement("div",null,"import"!==n&&r.createElement(La,{title:(0,u.__)("Tables","wp-migrate-db"),tables:w,tableSizes:y,prefix:P,intent:n,panelName:"tables",childPanel:!0}),r.createElement(oa,{title:(0,u.__)("Advanced Options","wp-migrate-db"),intent:n,panelName:"advanced_options",childPanel:!0})),r.createElement("div",null,!B()(["savefile","backup_local"],n)&&!(0,C.aE)()&&r.createElement(za,{title:Ca[n].backup,tables:T,tableSizes:S,prefix:P,intent:n,panelName:"backups",childPanel:!0}),"import"!==n&&!(0,C.aE)()&&r.createElement(Da,{title:(0,u.__)("Post Types","wp-migrate-db"),postTypes:k,intent:n,panelName:"post_types",childPanel:!0}))),B()(["push","pull","import","savefile"],n)&&x&&r.createElement(Pa,{title:(0,u.__)("Standard Find & Replace","wp-migrate-db"),panelName:"standard_fields",childPanel:!0}),"backup_local"!==n&&r.createElement(wn,{title:(0,u.__)("Custom Find & Replace","wp-migrate-db"),prefix:P,intent:n,panelName:"custom_fields",childPanel:!0}),R.map(((e,t)=>r.createElement(r.Fragment,{key:t},e)))))}));var Pn=a(26547),kn=a(66441),xn=a(39881),Rn=e=>async(t,a)=>{if(e.target.readyState!==FileReader.DONE)return!1;var n;try{n=await(0,C.op)("/get-import-info",{file_data:e.target.result})}catch(r){throw console.error(r),new Error(r)}if(t((e=>(t,a)=>{var n=(0,h.NR)("local_site",a());return"import"===(0,h.r5)("intent",a())&&"undefined"!==typeof e.data.multisite&&"undefined"!==typeof e.data.subsite_export&&("false"===n.is_multisite&&"true"===e.data.multisite&&"true"!==e.data.subsite_export||"true"===n.is_multisite&&"false"===e.data.multisite)})(n)))throw new Error("mst-error");if("undefined"!==typeof n.wpmdb_error&&1===n.wpmdb_error)throw new Error(n.body);return n},An=e=>(t,a)=>t((0,Tn.m)(Pn.Ej,e)),Cn=e=>(t,a)=>t((0,Tn.m)(Pn.EL,e)),In=(e,t,a)=>(n,r)=>{var i,s=(0,h.r5)("intent",r());n((i={upload_file:t,file_uploaded:!0,file_size:a},(e,t)=>(e((0,Tn.m)(kn.S_)),e((0,Tn.m)(Pn.ci,i)))));var o=!0;e.data.tables||(o=!1,n(An("NON_MDB_IMPORT_ERROR")),n((0,ga.EX)("import",!0))),(0,l.dC)((()=>{n((0,Tn.m)(Pn.WH,e.data.tables)),n((0,ga.CN)(o)),n((0,E.E2)(e.data.tables||[])),n((0,xn.G9)(e,!1,s))}));var c="PREFIX_MISMATCH";if((0,C.Ol)(e.data.prefix)&&e.data.tables)return n(An(c)),c};const Dn=e=>{var t=e.migrations.local_site.is_multisite,a=(0,u.gB)((0,u.__)('It looks like the file you are trying to import is from a multisite install and this install is a single site. To run this type of import you\'ll need to use the <a href="%1$s" target="_blank" rel="noopener noreferrer">Multisite tools addon</a> to export a subsite as a single site. <a href="%2$s" target="_blank">Learn more \xbb</a>',"wp-migrate-db"),"https://deliciousbrains.com/wp-migrate-db-pro/doc/multisite-tools-addon/","https://deliciousbrains.com/wp-migrate-db-pro/doc/multisite-tools-addon/#export-subsite");return"true"===t&&(a=(0,u.gB)((0,u.__)('It looks like the file you are trying to import is from a single site install and this install is a multisite. This type of migration isn\'t currently supported. <a href="%s" target="_blank" rel="noopener noreferrer">Learn more \xbb</a>',"wp-migrate-db"),"https://deliciousbrains.com/wp-migrate-db-pro/doc/multisite-tools-addon/")),r.createElement(pt.Z,{type:"danger"},(0,f.ZP)(a))};var Mn=a(67821),Ln=e=>{var t=e.panels.panelsOpen,a=e.panelName,n=e.fileUploaded,l=e.uploadFile;return t.includes(a)?null:r.createElement("div",{className:"panel-summary"},n?l:"")};const Fn=(0,l.$j)((e=>{var t=(0,Mn.selectFromImportData)("status",e),a=(0,h.r5)("intent",e),n=(0,h.NR)("import_data",e),r="LOADING"===t,l=(0,Mn.selectFromImportData)("error",e),i=(0,h.FY)("prefix",e),s=e.migrations;return{intent:a,import_status:t,loading:r,import_error:l,remote_prefix:i,import_data:n,panels:e.panels,migrations:s}}),{updateOpenPanels:At.G7,updateMigrationPanels:At.rC,updatePanelTitle:At.H5,addAdditionalPanel:At.qb,removePanel:At.WJ,setFileUploadFilePath:e=>(t,a)=>t((0,Tn.m)(Pn.Dx,e)),updateImportStatus:An,resetImportData:()=>(e,t)=>e((0,Tn.m)(Pn.yQ)),initialFileUpload:(e,t,a)=>async(t,a)=>{var n;try{(await(async(e,t)=>{var a=new FileReader,n=(0,g.Z)(t,1)[0];if(!t.length)throw new Error(window.wpmdb_strings.please_select_sql_file);if(".sql"!==n.name.slice(-4)&&".sql.gz"!==n.name.slice(-7))throw new Error(window.wpmdb_strings.invalid_sql_file);var r=t[0].slice(0,1024e3);return a.readAsDataURL(r),a})(0,e.current.files)).addEventListener("loadend",(async a=>{t(An("LOADING"));try{n=await t(Rn(a))}catch(p){var r=p.message;return t("mst-error"===r?An("MST_WARNING"):Cn({error:!0,message:p.message})),t((0,At.WJ)("database")),!1}t(An(""));var l,i=e.current.files[0].name,s=e.current.files[0].size;t((l=e.current.files[0],(e,t)=>{e((0,Tn.m)(Pn.Qy,l))}));var o=t(In(n,i,s));t((0,E.I8)(!0));var c=["database","custom_fields","standard_fields"];return n.data.tables&&"PREFIX_MISMATCH"!==o||c.push("import"),t((0,At.G7)(c)),t((0,At.qb)("database","import"))}))}catch(r){t(Cn({error:!0,message:r.message})),t((0,At.WJ)("database")),t((0,E.I8)(!1))}}})((e=>{var t=e.import_status,a=e.loading,n=e.import_error,l=e.remote_prefix,i=e.import_data,o=e.panels.panelsOpen,c=(0,r.useState)((0,u.__)("No file selected","wp-migrate-db")),p=(0,g.Z)(c,2),d=p[0],m=p[1],_=(0,r.useRef)(),h=()=>r.createElement(r.Fragment,null,(0,f.ZP)((0,u.__)("<strong>Unrecognized File</strong> &mdash; This file does not appear to have been generated by WP Migrate. Importing files generated by phpMyAdmin, WP-CLI, etc. should work, but we recommend using WP Migrate's Export feature.","wp-migrate-db"))," ",r.createElement("a",{href:"https://deliciousbrains.com/wp-migrate-db-pro/doc/why-use-our-export/",target:"blank"},(0,u.__)("Why?","wp-migrate-db")));if((0,C.ME)())return null;var v=!1,b=["import-panel"];return o.includes("import")||(v=!0,b.push("has-divider")),r.createElement(Se.Z,(0,s.Z)({title:e.panels.panelTitles.import,panelName:"import",panelSummary:r.createElement(Ln,(0,s.Z)({},e,{fileUploaded:i.file_uploaded,uploadFile:i.upload_file,panelName:"import"})),forceDivider:v,bodyClass:"import-panel",className:b.join(" ")},e),r.createElement("div",{className:"flex-container import-message"},r.createElement("input",{type:"file",ref:_,id:"import-file",onChange:t=>{e.resetImportData(),_.current.files[0]&&m(_.current.files[0].name),e.initialFileUpload(_,t,e.baseTitle)},className:"input-button"}),r.createElement("label",{htmlFor:"import-file",className:"btn btn-stroke btn-sm"},"choose file"),r.createElement("span",{className:"muted"},d)),a&&r.createElement("h3",null,"Loading file..."),n.error&&r.createElement(pt.Z,{type:"danger"},n.message),"PREFIX_MISMATCH"===t&&r.createElement(pt.Z,{type:"danger"},r.createElement("h4",{style:{color:Tt.qP}},(0,u.__)("Warning: Different Table Prefixes","wp-migrate-db")),(0,u.gB)((0,u.__)('Whoa! We\'ve detected that the database table prefix in the import file does not match the database prefix of this install. Clicking the Import button below will create new database tables with the prefix "%s"',"wp-migrate-db"),l)),"NON_MDB_IMPORT_ERROR"===t&&r.createElement(pt.Z,{type:"danger"},r.createElement(h,null)),"MST_WARNING"===t&&r.createElement(Dn,e))}));var Bn=a(34363),Un=e=>{var t=e.e,a=e.field,n=e.dispatch,r=e.authState,l=e.connectionState,i=(0,Te.Z)({},r);i[a]=t.target.value,n((0,Bn.setConnectionStatus)("auth_form",i));var s=(0,Te.Z)({},l);if(s.value){var o=((e,t)=>{var a=(0,Te.Z)({},e),n=t.username,r=t.password,l=e.url,i=new URL(l),s=i.host+i.pathname;return a.url="".concat(i.protocol,"//").concat(n,":").concat(r,"@").concat(s),0===n.length&&0===r.length&&(a.url="".concat(i.protocol,"//").concat(s)),a.value=a.url+"\n"+a.key,a})(s,{username:encodeURIComponent(i.username),password:encodeURIComponent(i.password)});n((0,Bn.updateConnectionState)(o))}};const jn=e=>{var t=(0,l.I0)(),a=(0,l.v9)((e=>e.migrations.current_migration.connected)),n=(0,l.v9)((e=>e.migrations.connection_info.status)).auth_form,i=(0,l.v9)((e=>e.migrations.connection_info)).connection_state;return a?null:r.createElement("div",{className:"grid-container auth-form"},r.createElement("input",{type:"text",placeholder:(0,u.__)("Username"),onChange:e=>Un({e:e,field:"username",dispatch:t,authState:n,connectionState:i}),value:n.username,key:"username"}),r.createElement("input",{type:"text",placeholder:(0,u.__)("Password"),onChange:e=>Un({e:e,field:"password",dispatch:t,authState:n,connectionState:i}),value:n.password,key:"password"}))};const Gn=e=>r.createElement(pt.Z,{type:"warning"},r.createElement("strong",null,(0,u.__)("HTTPS Disabled","wp-migrate-db"))," \u2014"," ",(0,u.__)("We couldn't connect over HTTPS but regular HTTP appears to be working so we've switched to that. If you run a push or pull, your data will be transmitted unencrypted. Most people are fine with this, but just a heads up.","wp-migrate-db"));var zn=a(81690),Hn=a.n(zn),Vn=a(53273),Wn=a(96480),$n=a.n(Wn),qn=a(91490);const Kn=e=>{var t=e.shortName,a=e.success,n=(0,r.useState)(!1),i=(0,g.Z)(n,2),s=i[0],o=i[1],c=(0,l.v9)((e=>e.theme_plugin_files)),p=null;return c&&(p=c.remotePluginUpdated),(0,r.useEffect)((()=>{t===Vn.LD?o(p):o(a),setTimeout((()=>{o(!1)}),1500)}),[p,a]),r.createElement(qn.Z,{in:s,timeout:500,classNames:"settings-node",id:$n()(),unmountOnExit:!0},r.createElement("div",null,(0,u.__)("Updated Successfully","wp-migrate-db"),r.createElement("div",{className:"blue-check"},r.createElement(W.en,null))))};var Yn="SET_UPDATE_ERROR",Jn="SET_UPDATING",Xn="SET_UPDATE_SUCCESS",Qn="SET_WILL_ENABLE_BETA_UPDATES",er="SET_PLUGIN_CHECK_AGAIN_TEXT",tr=(e,t)=>{switch(t.type){case Yn:return(0,Te.Z)((0,Te.Z)({},e),{},{updateError:t.payload});case Jn:return(0,Te.Z)((0,Te.Z)({},e),{},{updating:t.payload});case Xn:return(0,Te.Z)((0,Te.Z)({},e),{},{updateSuccess:t.payload});case Qn:return(0,Te.Z)((0,Te.Z)({},e),{},{willEnableBetaUpdates:t.payload});case er:return(0,Te.Z)((0,Te.Z)({},e),{},{checkAgainText:t.payload});default:return e}};const ar=(0,l.$j)((e=>({remote_site:e.migrations.remote_site,intent:e.migrations.current_migration.intent,theme_plugin_files:e.theme_plugin_files})))((e=>{var t=(0,r.useReducer)(tr,{updateError:"",checkAgainText:"",updating:!1,updateSuccess:!1,willEnableBetaUpdates:!1}),a=(0,g.Z)(t,2),n=a[0],i=a[1],s=n.updateError,o=n.updating,c=n.updateSuccess,p=n.checkAgainText,d=n.willEnableBetaUpdates,m=e.intent,h=e.remote_site,v=e.shortName,b=e.pluginSlug,E=e.remoteUpgradable,w=e.theme_plugin_files,y=null;w&&(y=w.remotePluginUpdated);var O=h.beta_optin,T=(0,l.I0)(),S=b?(0,u.__)("<b>Could not update addon on remote site &mdash;</b> %s","wp-migrate-db"):(0,u.__)("<b>Could not update plugin on remote site &mdash;</b> %s","wp-migrate-db");(0,r.useEffect)((()=>{i((0,Tn.m)(Yn,e.message)),!Hn()(h)&&e.version.includes("b")&&!O&&E&&(i((0,Tn.m)(Qn,!0)),i((0,Tn.m)(er,(0,u.gB)((0,u.__)("Enable beta updates on remote and upgrade to version %s","wp-migrate-db"),e.version))))}),[e]);var N=async()=>{i((0,Tn.m)(Jn,!0));var e=await T((0,Bn.updatePluginOnRemote)(b));if(i((0,Tn.m)(Jn,!1)),!e.success){var t=(0,J.Y)(e);return i((0,Tn.m)(Yn,(0,u.gB)(S,t))),i((0,Tn.m)(er,(0,u.__)("Try again","wp-migrate-db"))),void i((0,Tn.m)(Xn,!1))}i((0,Tn.m)(Xn,!0)),setTimeout((()=>{(T((0,Bn.setConnectionStatus)("update_plugin_on_remote",!1)),(0,C.aE)())?T((0,Bn.connectToRemote)(m)):T((0,_.J2)()).then((e=>{!1!==e&&T((0,Bn.connectToRemote)(m))}))}),0)},Z=e=>{var t=e.initialError,a=e.updateError;if(!E||c||!a)return null;var n=a!==t||d?p:(0,u.__)("Update plugin on remote","wp-migrate-db");return r.createElement("button",{onClick:N,className:"link"},n)},P=c||y&&Vn.LD===v,k=r.createElement("div",null,!P&&r.createElement(r.Fragment,null,(0,f.ZP)(s)," ",b?"":" ",r.createElement(Z,{updateError:s,initialError:e.message,remoteUpgradable:E}),o&&r.createElement(W.Q,{className:"remote-update-spinner"})),r.createElement(Kn,{shortName:v,success:c}));return Hn()(b)&&E?r.createElement(pt.Z,{type:"danger"},k):r.createElement("div",{className:"full flex-container version-mismatch-error"},k)}));const nr=e=>{var t=e.message,a=e.intent,n=(0,r.useState)(t),i=(0,g.Z)(n,2),s=i[0],o=i[1],c=(0,r.useState)(!1),p=(0,g.Z)(c,2),d=p[0],m=p[1],_=(0,l.I0)(),h=async()=>{m(!0);var e=await _((0,Bn.copyLicenseToRemote)());if(!e.success){var t=(0,J.Y)(e);return o("".concat((0,u.__)("Could not copy license to remote site &mdash;","wp-migrate-db")," ").concat(t)),m(!1),null}m(!1),_((0,Bn.setConnectionStatus)("copy_to_remote",!1)),_((0,Bn.connectToRemote)(a))},v=e=>{var t=e.initialError,a=e.copyError,n=a!==t&&a?(0,u.__)("Try again.","wp-migrate-db"):(0,u.__)("Copy license to remote.","wp-migrate-db");return r.createElement("button",{onClick:h,className:"link"},n)};return r.createElement(r.Fragment,null,r.createElement(pt.Z,{type:"danger"},(0,f.ZP)(s||t),"\xa0",r.createElement(v,{initialError:t,copyError:s}),d&&r.createElement("div",{className:"relative"},r.createElement(W.Q,{className:"svg-spinner"}))))};const rr=e=>{var t=e.connection_info.status,a=t.auth_form,n=t.show_auth_form,l=t.error,i=t.error_msg,o=t.ssl_notice,c=t.update_plugin_on_remote,p=t.copy_to_remote,d=t.connecting,u=e.connection_info.connection_state,m=e.current_migration,_=m.connected,g=m.intent,h=[];return o&&(_||l)&&h.push(r.createElement(Gn,null)),n&&h.push(r.createElement(jn,{authState:a,connectionState:u,updateConnectionState:e.updateConnectionState})),d||(p&&h.push(r.createElement(nr,{message:i,intent:g})),!l||_||p||(c?h.push(r.createElement(ar,(0,s.Z)({message:i},e,{intent:g,remoteUpgradable:"true"}))):""!==i&&h.push(r.createElement(pt.Z,{type:"danger"},(0,f.ZP)(i))))),h};const lr=()=>{var e=(0,l.I0)(),t=(0,l.v9)((e=>e)),a=e((0,Sa.O)("wpmdb_post_connection_errors",{warning:[],info:[],danger:[]},t));return r.createElement(r.Fragment,null,Object.keys(a).filter((e=>a[e].length>0)).map(((e,t)=>r.createElement(pt.Z,{key:t,type:e},r.createElement("ul",null,a[e].map((e=>r.createElement("li",{key:t},(0,f.ZP)(e)))))))))};var ir,sr=a(38906),or=(0,m.ZP)(Se.Z)(ir||(ir=(0,d.Z)(["\n  h2 {\n    margin: 15px 0;\n  }\n\n  textarea {\n    margin-bottom: 10px;\n  }\n\n  button.btn-sm {\n    margin-top: 10px;\n  }\n\n  &.disabled {\n    opacity: 0.6;\n  }\n"])));var cr=e=>{var t=e.panelsOpen,a=e.connected,n=e.connection_info.connection_state.url;return t.includes(e.panelName)?null:r.createElement("div",{className:"panel-summary"},a?n:"")};const pr=(0,l.$j)((function(e){var t=(0,h.NR)("current_migration",e),a=e.panels.panelsOpen,n=(0,h.NR)("local_site",e),r=(0,h.NR)("connection_info",e);return{current_migration:t,status:r.status,panels:e.panels,connection_info:r,panelsOpen:a,local_site:n}}))((e=>{var t=(0,l.I0)(),a=(0,C.ME)(),n=!1,i=["connect-panel"];e.panels.panelsOpen.includes("connect")||(n=!0,i.push("has-divider"));var o,c,p=(o=h.NR,c="current_migration",(0,l.v9)((e=>o(c,e)))),d=p.intent,m=p.connected;(0,r.useEffect)((()=>{m||t((0,Sa.ku)("wpmdb_post_connection_errors"))}),[m]);var _=e.connection_info.connection_state,g=e.connection_info.status,v=g.connecting,b=g.button_status,E=(0,r.useRef)(),w=(0,l.v9)((e=>e.api.abort_controller));(0,r.useEffect)((()=>()=>{w.hasOwnProperty("connect_to_remote")&&w.connect_to_remote.abort()}),[]);var y=rr(e),O=(e=>{var t="",a=e.connection_info.status,n=a.connecting,r=a.button_status;return(n||"disabled"===r)&&(t=" btn-disabled"),t})(e);return r.createElement(r.Fragment,null,r.createElement(or,(0,s.Z)({title:e.panels.panelTitles.connect,panelName:"connect",panelSummary:r.createElement(cr,(0,s.Z)({panelName:"connect"},e,{connected:m})),bodyClass:"connect-panel",className:i.join(" "),forceDivider:n},e),(0,C.aE)()&&r.createElement("p",null,(0,f.ZP)((0,u.gB)((0,u.__)("Enter connection information for the WP Engine or Flywheel site that you are migrating to.","wp-migrate-db"),"#","#"))),r.createElement("div",{className:"connect-to-remote"},r.createElement("textarea",{placeholder:(0,u.__)("Connection Info - Site URL & Secret Key","wp-migrate-db"),autoFocus:(0,C.aE)(),onChange:e=>(e=>{if(v)return!1;t((0,Bn.changeConnection)(e.target.value))})(e),onPaste:e=>{t((0,Bn.setConnectionStatus)("pasted",!0))},onFocus:e=>(()=>{if(!m)return null;var e=void 0;if(m&&"hidden"===b&&(e=window.confirm((0,u.__)("If you change the connection details, you will lose any replaces and table selections you have made below. Do you wish to continue?","wp-migrate-db"))),e)return t((0,Bn.setConnectionStatusBatch)({button_status:"",show_auth_form:!1,error_msg:""})),t((0,Bn.resetMigration)(["connect"])),!1;!1===e&&E.current.blur()})(),value:_.value||"",className:v?"disabled consolas":"consolas",ref:E,spellCheck:!1}),y.map(((e,t)=>r.createElement(r.Fragment,{key:t},e))),v&&r.createElement("div",{className:"full connecting-message"},r.createElement("p",null,r.createElement("span",null,"Establishing connection to remote server, please wait...")),r.createElement(W.Q,null))),"hidden"!==b&&!a&&r.createElement("div",null,r.createElement("button",{onClick:()=>{t((0,sr.Bq)()).then((e=>{!1===e&&function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(v||""!==b||a)return!1;t((0,Bn.connectToRemote)(d,e))}()}))},className:"btn btn-sm".concat(O)},(0,u.__)("Connect","wp-migrate-db")))),r.createElement(lr,null))}));var dr=a(20188),ur=a(82886),mr=(a(74352),a(52089)),_r={files:[],status:{backups_loading:!0,backup_deleting:!1,backup_downloading:!1,backups_error:""},ui:{backups_location:window.wpmdb_data.this_upload_dir_long}};const gr=(0,mr.Lq)(_r,{BACKUPS_LOADING:(e,t)=>(e.status=(0,Te.Z)((0,Te.Z)({},e.status),{},{backups_loading:!0,backup_deleting:!1,backup_downloading:!1,backups_error:""}),e),GET_BACKUPS:(e,t)=>(e.files=t.payload,e.status=(0,Te.Z)((0,Te.Z)({},e.status),{},{backups_loading:!1,backups_error:!1}),e),BACKUP_DELETING:(e,t)=>(e.status=(0,Te.Z)((0,Te.Z)({},e.status),{},{backup_deleting:!0,backups_error:""}),e),DELETE_BACKUP:(e,t)=>(e.files.splice(t.payload,1),e.status.backup_deleting=!1,e),BACKUP_DOWNLOADING:(e,t)=>(e.status=(0,Te.Z)((0,Te.Z)({},e.status),{},{backup_downloading:!0,backups_error:""}),e),DOWNLOAD_BACKUP:(e,t)=>(e.status.backup_downloading=!1,e),BACKUPS_ERROR:(e,t)=>(e.status=(0,Te.Z)((0,Te.Z)({},e.status),{},{backups_loading:!1,backup_deleting:!1,backup_downloading:!1,backups_error:t.payload}),e)});var fr=a(31998),hr=a(22973),vr=a(666),br=a(9106),Er=a(19826),wr=a(26429),yr={polling:!1};const Or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;return(0,wr.ZP)(e,(t=>e))};var Tr=(0,mr.Lq)({abort_controller:{},AJAX_RUNNING:!1,AJAX_SUCCESS:!1,AJAX_ERROR:!1},{SET_ABORT_CONTROLLER:(e,t)=>(e.abort_controller[t.payload.key]=t.payload.controller,e)}),Sr=a(59299),Nr=a(18066),Zr={mdb_rest_active:!0};const Pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr,t=arguments.length>1?arguments[1]:void 0;return(0,wr.ZP)(e,(a=>"MDB_REST_NOT_ACTIVE"===t.type?{mdb_rest_active:!1}:e))};var kr=a(15265),xr={backups:gr,profiles:hr.ZP,migrations:fr.ZP,panels:_t.ZP,notifications:vr.ZP,addons:br.Z,settings:Er.ZP,global_status:Or,api:Tr,dbi_api_data:Sr.ZP,mdb_filters:Nr.ZP,mdb_rest:Pr,dry_run:kr.xN};function Rr(e,t){if("RESET_APP"===e.type){var a=t;t={profiles:a.profiles,settings:a.settings,global_status:a.global_status,notifications:a.notifications,dbi_api_data:a.dbi_api_data,mdb_filters:a.mdb_filters,mdb_rest:a.mdb_rest}}return t}function Ar(e){return(0,dr.UY)((0,Te.Z)((0,Te.Z)({},xr),e))}var Cr=Ar(void 0);const Ir=(e,t)=>(e=Rr(t,e),Cr(e,t));var Dr=[ur.Z];var Mr=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,dr.qC)((0,dr.md)(...Dr)),Lr=(0,dr.MT)(Ir,{},Mr);window.WPMDBStore=Lr,Lr.asyncReducers={};const Fr=Lr;var Br=a(64533),Ur=a(51645),jr=a(65730);function Gr(e,t,a){e.asyncReducers[t]=a;var n=Ar(e.asyncReducers);e.replaceReducer(((e,t)=>(e=Rr(t,e),n(e,t))))}var zr={local_site:window.wpmdb_data,remote_site:{}};const Hr=(0,dr.UY)({local_site:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr.local_site},remote_site:{},current_migration:ra.S_,migration_progress:ge.D$,search_replace:kn.jC,dry_run:kr.xN});var Vr={profiles:hr.ZP,migrations:Hr,panels:_t.ZP,notifications:vr.ZP,settings:Er.ZP,global_status:Or,mdb_filters:Nr.ZP,mdb_rest:Pr,dry_run:kr.xN};var Wr,$r=(0,dr.UY)((0,Te.Z)((0,Te.Z)({},Vr),Wr));const qr=(e,t)=>(e=function(e,t){if("RESET_APP"===e.type){var a=t;t={profiles:a.profiles,settings:a.settings,global_status:a.global_status,notifications:a.notifications,mdb_filters:a.mdb_filters,mdb_rest:a.mdb_rest,dry_run:a.dry_run}}return t}(t,e),$r(e,t));var Kr=[ur.Z];var Yr=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,dr.qC)((0,dr.md)(...Kr)),Jr=(0,dr.MT)(qr,{},Yr);window.WPMDBStore=Jr,Jr.asyncReducers={};const Xr=Jr;var Qr=a(87439),el=a(41221),tl={full:(0,u.__)("Migrate the full site","wp-migrate-db"),custom:(0,u.__)("Customize the migration","wp-migrate-db")},al={full:[(0,u.__)("Copy all WordPress database tables and site files","wp-migrate-db"),(0,u.__)("Update all instances of the site path and URL in the database, including serialized data","wp-migrate-db")],custom:[(0,u.__)("Take full control over the database tables and site files included in the migration","wp-migrate-db"),(0,u.__)("Run custom find and replace operations in the database","wp-migrate-db")]};const nl=()=>{var e=(0,l.v9)((e=>e.site_migration)).migrationOption;return r.createElement(r.Fragment,null,r.createElement("div",{className:"action-panel migration-option"},r.createElement("div",{className:"panel-body shadow-div"},r.createElement(Qr.Z,{ariaLabel:(0,u.__)("Migration option","wp-migrate-db"),optionChoices:tl,optionDescriptions:al,intent:"push",type:"migration_option",value:e,updateOption:el.r_,focus:"full",boxed:!0,className:"boxed-options"}))))};var rl,ll;function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},il.apply(this,arguments)}const sl=e=>r.createElement("svg",il({width:65,height:65,viewBox:"0 0 65 65",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),rl||(rl=r.createElement("g",{id:"glyph-64x64/rocket"},r.createElement("g",{id:"Vector",filter:"url(#filter0_di_648_93214)",fill:"#D9EAFA"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.17 48.48c.535.358 1.09.693 1.665 1.007l-3.281 11.72a1 1 0 0 0 1.376 1.18c5.72-2.6 9.112-6.509 11.07-9.771a23.222 23.222 0 0 0 1.975-4.165c.189-.534.318-.97.4-1.275l.003-.013c16.146-6.73 27.139-23.308 27.139-43.686a1 1 0 0 0-1-1c-20.38 0-36.956 10.992-43.687 27.138l-.013.003c-.305.083-.74.211-1.275.4a23.211 23.211 0 0 0-4.165 1.976c-3.262 1.958-7.17 5.349-9.77 11.069a1 1 0 0 0 1.18 1.377l11.719-3.282c.31.57.642 1.119.995 1.649-1.52 1.763-2.92 3.71-3.978 5.49-.588.993-1.08 1.95-1.428 2.807-.339.834-.578 1.664-.578 2.373a1 1 0 0 0 1 1c.703 0 1.527-.244 2.354-.584.852-.35 1.805-.844 2.795-1.435 1.778-1.06 3.729-2.462 5.504-3.977Zm14.347-26.003a6 6 0 1 1 12 0 6 6 0 0 1-12 0Z"}),r.createElement("path",{d:"M7.724 49.77a1 1 0 1 1-1.414 1.414 1 1 0 0 1 1.414-1.415ZM4.224 53.27a1 1 0 1 1-1.414 1.414 1 1 0 0 1 1.414-1.415ZM7.724 57.77a1 1 0 1 1-1.414 1.414 1 1 0 0 1 1.414-1.415ZM4.224 61.27a1 1 0 1 1-1.414 1.414 1 1 0 0 1 1.414-1.415ZM15.724 59.184a1 1 0 1 0-1.414-1.415 1 1 0 0 0 1.414 1.415ZM12.224 62.684a1 1 0 1 0-1.414-1.415 1 1 0 0 0 1.414 1.415Z"})),r.createElement("g",{id:"Vector_2",fill:"#0076DC"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.517 14.477a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm-6 8a6 6 0 1 1 12 0 6 6 0 0 1-12 0Z"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.17 48.48c.535.358 1.09.693 1.665 1.007l-3.281 11.72a1 1 0 0 0 1.376 1.18c5.72-2.6 9.112-6.509 11.07-9.771a23.222 23.222 0 0 0 1.975-4.165c.189-.534.318-.97.4-1.275l.003-.013c16.146-6.73 27.139-23.308 27.139-43.686a1 1 0 0 0-1-1c-20.38 0-36.956 10.992-43.687 27.138l-.013.003c-.305.083-.74.211-1.275.4a23.211 23.211 0 0 0-4.165 1.976c-3.262 1.958-7.17 5.349-9.77 11.069a1 1 0 0 0 1.18 1.377l11.719-3.282c.31.57.642 1.119.995 1.649-1.52 1.763-2.92 3.71-3.978 5.49-.588.993-1.08 1.95-1.428 2.807-.339.834-.578 1.664-.578 2.373a1 1 0 0 0 1 1c.703 0 1.527-.244 2.354-.584.852-.35 1.805-.844 2.795-1.435 1.778-1.06 3.729-2.462 5.504-3.977Zm-4.262-7.18c-.303-.48-.588-.977-.856-1.493C19.448 23.916 30.982 11.25 47.127 6.5l11.365 11.366C53.745 34.012 41.078 45.545 25.188 47.94c-.521-.27-1.023-.558-1.505-.863l.176-.178a27.177 27.177 0 0 0 2.186-2.514c.731-.966 1.442-2.088 1.79-3.187.35-1.102.396-2.424-.61-3.43-1.006-1.005-2.328-.96-3.43-.613-1.1.347-2.223 1.056-3.19 1.786a27.15 27.15 0 0 0-2.696 2.358ZM59.09 15.636l-9.734-9.733a51.248 51.248 0 0 1 11.15-1.417 51.248 51.248 0 0 1-1.416 11.15ZM31.284 51.587a21.4 21.4 0 0 0 1.7-3.511 42.042 42.042 0 0 1-7.179 1.793l-2.71 9.682c4.09-2.329 6.635-5.373 8.19-7.964ZM13.406 33.71c1.35-.81 2.577-1.35 3.511-1.7a42.053 42.053 0 0 0-1.793 7.179l-9.682 2.71c2.329-4.09 5.373-6.635 7.964-8.189Zm.837 15.61c1.11-1.869 2.633-3.952 4.27-5.77l.97-.992a25.18 25.18 0 0 1 2.325-2.018c.906-.683 1.813-1.231 2.588-1.475.773-.244 1.169-.125 1.413.12.245.244.364.639.119 1.41-.245.774-.794 1.68-1.48 2.586-.673.89-1.429 1.715-2.021 2.322l-.994.968c-1.836 1.63-3.926 3.157-5.792 4.27a23.725 23.725 0 0 1-2.809 1.413c.3-.738.857-1.9 1.411-2.835Z"}),r.createElement("path",{d:"M7.724 51.184a1 1 0 1 0-1.414-1.415 1 1 0 0 0 1.414 1.415ZM4.224 54.684a1 1 0 1 0-1.414-1.415 1 1 0 0 0 1.414 1.415ZM7.724 57.77a1 1 0 1 1-1.414 1.414 1 1 0 0 1 1.414-1.415ZM4.224 62.684a1 1 0 1 0-1.414-1.415 1 1 0 0 0 1.414 1.415ZM15.724 59.184a1 1 0 1 0-1.414-1.415 1 1 0 0 0 1.414 1.415ZM12.224 61.27a1 1 0 1 1-1.414 1.414 1 1 0 0 1 1.414-1.415Z"})))),ll||(ll=r.createElement("defs",null,r.createElement("filter",{id:"filter0_di_648_93214",x:2.517,y:2.477,width:62,height:62.5,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:2,dy:2}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_648_93214"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_648_93214",result:"shape"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:4,dy:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),r.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),r.createElement("feBlend",{in2:"shape",result:"effect2_innerShadow_648_93214"})))));a.p;const ol=()=>{var e=(0,r.useState)(!1),t=(0,g.Z)(e,2),a=t[0],n=t[1],i=(0,l.v9)((e=>e.site_migration)).notificationEmail,s=(0,r.useState)(i),o=(0,g.Z)(s,2),c=o[0],p=o[1],d=(0,l.I0)(),m=()=>0===c.length||c.match(/[^\s@]+@[^\s@]+\.[^\s@]+/)?(n(!1),!0):(n(!0),!1),_=Y()("notification-email",{error:a});return r.createElement("form",{className:"email-form",onSubmit:e=>(e=>{e.preventDefault(),m()&&d((0,el.hr)(c))})(e)},r.createElement("div",{className:"field"},r.createElement("label",{htmlFor:"notification-email"},(0,u.__)("Email address (optional)","wp-migrate-db")),r.createElement("input",{id:"notification-email",type:"email",value:c,onChange:e=>p(e.target.value),className:_}),a&&r.createElement(pt.Z,{type:"danger"},r.createElement("p",null,(0,u.__)("Please enter a valid email address","wp-migrate-db")))),r.createElement("input",{type:"submit",className:"btn email-submit",value:(0,u.__)("Continue","wp-migrate-db")}))};const cl=()=>r.createElement("div",{className:"action-panel pre-migration-panel"},r.createElement("div",{className:"panel-body"},r.createElement(sl,{alt:(0,u.__)("Launching rocket illustration","wp-migrate-db")}),r.createElement("h2",null,(0,u.__)("Let's get your site migrated!","wp-migrate-db")),r.createElement("p",null,(0,u.__)("We\u2019ll use your email to keep you informed about the status of your migration.","wp-migrate-db")),r.createElement(ol,null)));var pl,dl,ul,ml;function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_l.apply(this,arguments)}const gl=e=>r.createElement("svg",_l({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),pl||(pl=r.createElement("g",{filter:"url(#filter0_di_2349_9658)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 19c0-9.389 7.611-17 17-17s17 7.611 17 17v4h2a5 5 0 0 1 5 5v21c0 7.18-5.82 13-13 13H21c-7.18 0-13-5.82-13-13V28a5 5 0 0 1 5-5h2v-4Zm26-.095V23H23v-4.095C23 13.995 27.02 10 32 10s9 3.996 9 8.905ZM32 36a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z",fill:"#D9EAFA"}))),dl||(dl=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 39a5.002 5.002 0 0 1-4 4.9V51a1 1 0 1 1-2 0v-7.1a5.002 5.002 0 0 1 1-9.9 5 5 0 0 1 5 5Zm-5-3a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z",fill:"#0076DC"})),ul||(ul=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 2c-9.389 0-17 7.611-17 17v4h-2a5 5 0 0 0-5 5v21c0 7.18 5.82 13 13 13h22c7.18 0 13-5.82 13-13V28a5 5 0 0 0-5-5h-2v-4c0-9.389-7.611-17-17-17Zm15 21v-4c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15v4h4v-4.095C21 12.873 25.934 8 32 8s11 4.873 11 10.905V23h4Zm-6 0v-4.095C41 13.995 36.98 10 32 10s-9 3.996-9 8.905V23h18Zm-31 5a3 3 0 0 1 3-3h38a3 3 0 0 1 3 3v21c0 6.075-4.925 11-11 11H21c-6.075 0-11-4.925-11-11V28Z",fill:"#0076DC"})),ml||(ml=r.createElement("defs",null,r.createElement("filter",{id:"filter0_di_2349_9658",x:8,y:2,width:50,height:62,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:2,dy:2}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2349_9658"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_2349_9658",result:"shape"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),r.createElement("feOffset",{dx:4,dy:4}),r.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),r.createElement("feColorMatrix",{values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),r.createElement("feBlend",{in2:"shape",result:"effect2_innerShadow_2349_9658"})))));a.p;const fl=()=>r.createElement("div",{className:"action-panel pre-migration-panel shadow-div"},r.createElement("div",{className:"panel-body"},r.createElement(gl,{alt:(0,u.__)("Closed padlock","wp-migrate-db")}),r.createElement("h2",null,(0,u.__)("Private site detected","wp-migrate-db")),r.createElement("p",null,(0,u.__)("This plugin cannot currently start migrations from sites using basic authentication, commonly known as \u201cpassword protection\u201d or \u201cprivacy mode.\u201d","wp-migrate-db")),r.createElement("p",{style:{paddingTop:"20px"}},(0,u.__)("Disable basic authentication and refresh this page to proceed with a migration.","wp-migrate-db"))));var hl=(()=>{var e,t,n,l="free"===(0,C.w6)()?Xr:Fr;return e=r.lazy((()=>Promise.all([a.e(532),a.e(358),a.e(135),a.e(406)]).then(a.bind(a,36890)))),Gr(l,"media_files",Br.ZP),t=r.lazy((()=>Promise.all([a.e(532),a.e(135),a.e(220)]).then(a.bind(a,72220)))),Gr(l,"theme_plugin_files",Ur.ZP),n=r.lazy((()=>Promise.all([a.e(532),a.e(605)]).then(a.bind(a,79605)))),Gr(l,"multisite_tools",jr.ZP),{MediaFiles:e,ThemePluginFiles:t,MultisiteTools:n}})(),vl=hl.MediaFiles,bl=hl.ThemePluginFiles,El=hl.MultisiteTools;const wl=e=>{var t=(0,l.I0)(),a=(0,l.v9)((e=>e.panels)).panelsToDisplay,n=(0,l.v9)((e=>e)),i=n.media_files,s=n.theme_plugin_files,o=n.multisite_tools,c=(0,l.v9)((e=>e.migrations.current_migration)).intent,p=t((0,Ba.C)()),d=(e,t)=>!(!e||!t)&&!(["push","pull"].includes(c)&&(0,C.Yu)()&&!t.is_licensed);return r.createElement(r.Fragment,null,a.map(((t,a)=>{switch(t){case"connect":return r.createElement(pr,{key:a});case"multisite_tools":return El&&"backup_local"!==c&&(!["push","pull"].includes(c)||p)&&o.available&&o.is_licensed?r.createElement(r.Suspense,{fallback:r.createElement("div",null,"Loading..."),key:a},r.createElement(El,e)):null;case"migration_option":return r.createElement(nl,{key:a});case"basic_auth_warning":return r.createElement(fl,{key:a});case"email":return r.createElement(cl,{key:a});case"database":return r.createElement(Zn,{key:a});case"import":return r.createElement(Fn,{key:a,baseTitle:(0,u.__)("SQL File","wp-migrate-db")});case"media_files":return d(vl,i)?r.createElement(r.Suspense,{fallback:r.createElement("div",null,"Loading..."),key:a},r.createElement(vl,e)):null;case"theme_plugin_files":return d(bl,s)?r.createElement(r.Suspense,{fallback:r.createElement("div",null,"Loading..."),key:a},r.createElement(bl,e)):null;default:return null}})))};var yl;function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ol.apply(this,arguments)}const Tl=e=>r.createElement("svg",Ol({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16"},e),yl||(yl=r.createElement("path",{fill:"none",stroke:"#236DE7",strokeWidth:2,d:"M4 8.5 7.2 11 12 5"})));a.p;var Sl=a(46415),Nl=a(15925);const Zl=e=>{var t=e.settings,a=t.key,n=t.status,l=t.errors,i=t.key_expires_sql_datetime,o=e.url,c=(0,r.useRef)(),p=(0,r.useState)(!1),d=(0,g.Z)(p,2),m=d[0],_=d[1];return(0,r.useEffect)((()=>{var e=e=>{if("api-key"!==e.target.id)return!1;var t=c.current.value.split("\n");e.clipboardData.setData("text/plain",t.join(" ")),e.preventDefault()};return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}}),[]),r.createElement("div",{className:"flex-col connection-info"},r.createElement("h2",{id:"connection-info-title",className:"section-title"},(0,u.__)("Connection Information","wp-migrate-db")),r.createElement("p",null,(0,u.__)("Connection information allows another WordPress site to initialize a migration with this site.","wp-migrate-db")),i&&r.createElement("p",null,(0,f.ZP)((0,u.gB)((0,u.__)("These credentials will expire on <code>%s</code>.","wp-migrate-db"),i))),r.createElement("textarea",{rows:"2",name:"",className:"text-black consolas",value:"".concat(o.includes("https")?o:o.replace("http","https"),"\n").concat(a)||"",readOnly:!0,ref:c,id:"api-key","aria-labelledby":"connection-info-title"}),r.createElement("div",{className:"flex-container"},r.createElement("button",{className:"btn btn-stroke btn-sm".concat(m?" copied":""),onClick:e=>{c.current.select(),c.current.focus(),document.execCommand("copy"),_(!0),setTimeout((()=>{_(!1)}),1500)}},m?r.createElement(r.Fragment,null,r.createElement(Tl,{className:"styled-check"}),"\xa0\xa0\xa0",r.createElement("span",null,(0,u.__)("COPIED","wp-migrate-db"))):r.createElement("span",null,(0,u.__)("COPY TO CLIPBOARD","wp-migrate-db"))),r.createElement("button",{className:"btn btn-stroke btn-sm",onClick:()=>{e.resetAPIKey()}},(0,u.__)("RESET SECRET KEY","wp-migrate-db")),r.createElement("div",{className:"spinner-wrap"},n.reset_api_key&&"errored"!==n.reset_api_key&&r.createElement(W.Q,{className:"settings-spinner"})),r.createElement(Nl.u,{in:"errored"===n.reset_api_key},r.createElement(Sl.Uj,(0,s.Z)({error:l.reset_api_key},e)))))};var Pl=a(27325),kl=a(87326);(0,l.$j)((e=>{var t=(0,Pl.u)("whitelist_plugins",e);return{settings:e.settings,whitelist_plugins:t}}),{updateSetting:kl.m7,saveWhitelistPlugins:function(){return async(e,t)=>{var a="save-whitelist-plugins",n=(0,Pl.u)("whitelist_plugins",t());e((0,kl.c9)(a,!0)),e((0,kl.rT)(a));var r=await(0,C.op)("/whitelist-plugins",{whitelist_plugins:n});if(!r.success)return e((0,kl.nE)(a,r));e((0,kl.c9)(a,"success")),setTimeout((()=>{e((0,kl.c9)(a,!1))}),1500)}}})((e=>{var t=e.settings,a=t.plugins,n=t.status,l=t.errors,i=e.whitelist_plugins,o=(0,r.useState)(),c=(0,g.Z)(o,2),p=c[0],d=c[1],m=(0,r.useCallback)((e=>{null!==e&&d(e.getBoundingClientRect())}),[]),_=e=>Object.entries(e).map((e=>(0,g.Z)(e,1)[0])),f=t=>{e.updateSetting("whitelist_plugins",t),e.saveWhitelistPlugins()};function h(e){var t=(0,C.XV)(i,e.target.value);f(t)}return r.createElement("div",{className:"compatibility-mode-block"},r.createElement("div",{className:"flex-container"},r.createElement("h3",{className:"title",ref:m},(0,u.__)("Load Select Plugins for Migration Requests","wp-migrate-db")),r.createElement("div",{className:"relative"},!0===n["save-whitelist-plugins"]&&r.createElement(W.Q,{className:"settings-spinner"}))),r.createElement(Nl.u,{in:"success"===n["save-whitelist-plugins"]},r.createElement(Sl.X2,(0,s.Z)({locationInfo:p,classNames:"toggle-success"},e))),r.createElement(Nl.u,{in:"errored"===n["save-whitelist-plugins"]},r.createElement(Sl.Uj,(0,s.Z)({error:l["save-whitelist-plugins"],locationInfo:p,classNames:"toggle-error"},e))),r.createElement("span",null,(0,u.__)("By default, plugins are not loaded for migration requests. This enhances performance and reduces the likelihood of a third-party plugin interfering with migrations.","wp-migrate-db"),r.createElement("br",null),r.createElement("br",null),(0,u.__)("To load certain plugins for migration requests, select the plugins below.","wp-migrate-db")),r.createElement(Ra.Z,{id:"compatibility-multiselect",options:_(a),iterator:()=>Object.entries(a).map((e=>{var t=(0,g.Z)(e,2),a=t[0],n=t[1];return r.createElement("li",{key:a},r.createElement("input",{id:"checkbox-".concat(a),type:"checkbox",value:a,onChange:h,checked:i.includes(a)}),r.createElement("label",{htmlFor:"checkbox-".concat(a),key:$n()()},n[0].name))})),className:"wpmdb-form compat-plugin-list",visible:!0,updateSelected:f,selectInverse:()=>{var e=i,t=_(a);return(0,Aa.Z)((e=>{f(e)}),t,e)}}))}));a(88140);const xl=e=>{var t=e.status,a=e.children,n=e.errors,l=(0,r.useState)(),i=(0,g.Z)(l,2),o=i[0],c=i[1],p=(0,r.useCallback)((e=>{null!==e&&c(e.getBoundingClientRect())}),[]);return a?r.createElement(r.Fragment,null,r.createElement("span",{ref:p},a),!0===t&&r.createElement(W.Q,null),r.createElement(Nl.u,{in:"success"===t},r.createElement(Sl.X2,(0,s.Z)({locationInfo:o,classNames:"toggle-success"},e))),r.createElement(Nl.u,{in:"errored"===t},r.createElement(Sl.Uj,(0,s.Z)({error:n,locationInfo:o,classNames:"toggle-error"},e)))):null};var Rl=(0,r.forwardRef)(((e,t)=>{var a=e.children,n=e.callback,l=e.classNames,i=e.ajaxData,s=i.endpoint,o=i.args,c=(0,r.useState)(),p=(0,g.Z)(c,2),d=p[0],u=p[1],m=(0,r.useState)(),_=(0,g.Z)(m,2),f=_[0],h=_[1];return r.createElement(xl,{status:d,errors:f},r.createElement("button",{className:l,onClick:e=>{u(!0),(0,C.op)(s,o).then((e=>{if(!e.success)throw new Error("AJAX error: ".concat(e.data));n(e.data),u("success"),setTimeout((()=>{u()}),800)})).catch((e=>{u(!1),h(e.message),console.error(e),console.error(e.message)}))}},a))}));const Al=()=>{var e=(0,l.I0)(),t=(0,r.useState)("Loading..."),a=(0,g.Z)(t,2),n=a[0],i=a[1];return(0,r.useEffect)((()=>{(0,C.op)("/get-log",{},!1,e).then((e=>{if(!e.success)throw new Error("Unable to retrieve diagnostic log");i(e.data)})).catch((e=>{console.error(e.message)}))}),[]),r.createElement(r.Fragment,null,r.createElement("h2",{id:"diagnostic-log-title"},(0,u.__)("Diagnostic Info & Error Log","wp-migrate-db")),r.createElement("textarea",{"aria-labelledby":"diagnostic-log-title",value:n||"",readOnly:!0}),r.createElement("div",{className:"flex-container"},r.createElement("a",{href:window.wpmdb_data.diagnostic_log_download_url,className:"btn btn-sm btn-stroke"},(0,f.ZP)((0,u.__)('Download <span class="screen-reader-text">error log</span>',"wp-migrate-db"))),r.createElement(Rl,{callback:()=>{i("")},classNames:"btn btn-sm btn-stroke clear-log-btn",ajaxData:{endpoint:"/clear-log",args:{}}},(0,u.__)("Clear Error Log","wp-migrate-db"))))};const Cl=(0,l.$j)((e=>{var t=(0,Pl.u)("allow_connection",e),a=(0,h._P)("connection_info",e),n=(0,Pl.u)("license_errors",e),r=(0,h._P)("firewall_plugins",e);return{allow_connection:t,settings:e.settings,license_errors:n,url:a[0],firewall_plugins:r}}),{resetAPIKey:kl.NV})((e=>r.createElement("div",{className:"wpmdb-settings"},r.createElement("div",{className:"wpmdb-settings-page"},e.allow_connection&&r.createElement("div",{className:"settings-row connection-key-wrap flex"},r.createElement(Zl,e)),r.createElement("div",{className:"settings-row diagnostic-log-wrap ".concat(e.allow_connection?"":"no-padding")},r.createElement("div",{className:"diagnostic-log"},r.createElement(Al,null)))))));const Il=()=>(e,t)=>{e(((e,t)=>{e((0,Sa.KJ)("intiateMigrationPostData",(e=>{var a=t().site_migration;return a&&(e.site_migration=a),e})))}))};var Dl,Ml,Ll,Fl=m.ZP.div(Dl||(Dl=(0,d.Z)(["\n  a,\n  button {\n    &:hover {\n      cursor: pointer;\n    }\n  }\n"]))),Bl=a(19063);function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ul.apply(this,arguments)}const jl=e=>r.createElement("svg",Ul({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ml||(Ml=r.createElement("g",{clipPath:"url(#clip0_2425_8873)"},r.createElement("g",{clipPath:"url(#clip1_2425_8873)"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.361a.764.764 0 0 0-.764.764v.133A2.024 2.024 0 0 1 8.01 5.11a.764.764 0 0 1-.202.056 2.024 2.024 0 0 1-2.084-.464l-.006-.006-.046-.045a.766.766 0 0 0-1.081 0 .764.764 0 0 0 0 1.08l.051.053a2.024 2.024 0 0 1 .415 2.21 2.024 2.024 0 0 1-1.844 1.303H3.125a.764.764 0 1 0 0 1.528h.133a2.024 2.024 0 0 1 1.85 1.223 2.024 2.024 0 0 1-.406 2.23l-.006.005-.045.046a.767.767 0 0 0 0 1.081.764.764 0 0 0 1.08 0l.053-.051a2.025 2.025 0 0 1 2.21-.415 2.024 2.024 0 0 1 1.303 1.844V16.875a.764.764 0 1 0 1.528 0v-.133a2.025 2.025 0 0 1 1.223-1.85 2.024 2.024 0 0 1 2.23.406l.005.005.046.046a.767.767 0 0 0 1.081 0 .763.763 0 0 0 0-1.08l-.051-.053a2.025 2.025 0 0 1-.407-2.229 2.025 2.025 0 0 1 1.851-1.223H16.875a.764.764 0 1 0 0-1.528h-.133A2.025 2.025 0 0 1 14.89 8.01a.764.764 0 0 1-.055-.202 2.024 2.024 0 0 1 .464-2.084l.005-.006.046-.046a.766.766 0 0 0 0-1.081.764.764 0 0 0-1.08 0l-.053.051a2.024 2.024 0 0 1-2.23.407 2.024 2.024 0 0 1-1.222-1.851V3.125A.764.764 0 0 0 10 2.361Zm-1.62-.856a2.292 2.292 0 0 1 3.912 1.62v.067a.497.497 0 0 0 .3.453l.008.003a.496.496 0 0 0 .545-.097l.042-.042a2.291 2.291 0 1 1 3.243 3.242l-.043.042a.497.497 0 0 0-.096.546c.021.049.037.1.048.152a.497.497 0 0 0 .408.217h.128a2.291 2.291 0 1 1 0 4.584h-.067a.497.497 0 0 0-.453.3l-.003.008a.497.497 0 0 0 .097.545l.041.042a2.293 2.293 0 0 1 0 3.243l-.54-.54.541.54a2.29 2.29 0 0 1-3.242 0l-.043-.043a.496.496 0 0 0-.545-.096l-.007.003a.497.497 0 0 0-.301.453v.128a2.291 2.291 0 0 1-4.584 0v-.058a.497.497 0 0 0-.324-.447.795.795 0 0 1-.045-.018.497.497 0 0 0-.545.097l-.042.041a2.293 2.293 0 1 1-3.242-3.242l.041-.041a.496.496 0 0 0 .097-.546l-.003-.007a.497.497 0 0 0-.453-.301h-.128a2.292 2.292 0 0 1 0-4.584h.058a.497.497 0 0 0 .447-.324.766.766 0 0 1 .018-.045.497.497 0 0 0-.097-.545l-.042-.042A2.292 2.292 0 1 1 6.752 3.57l.041.041a.497.497 0 0 0 .546.097.763.763 0 0 1 .152-.048.497.497 0 0 0 .217-.408v-.128c0-.608.242-1.19.672-1.62ZM10 8.472a1.528 1.528 0 1 0 0 3.056 1.528 1.528 0 0 0 0-3.056ZM6.944 10a3.056 3.056 0 1 1 6.112 0 3.056 3.056 0 0 1-6.112 0Z",fill:"#fff"})))),Ll||(Ll=r.createElement("defs",null,r.createElement("clipPath",{id:"clip0_2425_8873"},r.createElement("path",{d:"M0 0h20v20H0z"})),r.createElement("clipPath",{id:"clip1_2425_8873"},r.createElement("path",{d:"M0 0h20v20H0z"})))));a.p;var Gl,zl;function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Hl.apply(this,arguments)}const Vl=e=>r.createElement("svg",Hl({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Gl||(Gl=r.createElement("path",{d:"M16.675 5.333 9.592 9.267a.817.817 0 0 0-.325 1.125c.216.4.725.541 1.125.316l7.083-3.941a.833.833 0 0 0 .317-1.134.828.828 0 0 0-1.134-.325l.017.025ZM10.4 9.267 3.308 5.325a.829.829 0 0 0-1.133.317.821.821 0 0 0 .317 1.125L9.575 10.7c.4.217.908.075 1.125-.325a.839.839 0 0 0-.325-1.133l.025.025Zm-1.242.725v7.916a.83.83 0 0 0 .834.834.836.836 0 0 0 .833-.834V9.992a.83.83 0 0 0-.833-.834.825.825 0 0 0-.834.834Zm9.167 3.375V6.6c0-.467-.008-.592-.092-.825a1.727 1.727 0 0 0-.358-.608c-.167-.184-.275-.25-.675-.475l-6.167-3.434c-.391-.216-.491-.266-.716-.316a1.676 1.676 0 0 0-.675-.009c-.025 0-.025 0-.05.009-.209.05-.309.091-.675.291L2.742 4.658c-.275.15-.359.192-.475.284-.075.05-.142.108-.209.175a1.52 1.52 0 0 0-.358.6c-.083.225-.092.35-.092.816v6.759c0 .458 0 .583.084.816.066.225.191.425.35.6.158.175.266.242.666.467L8.875 18.6c.375.208.483.258.708.308.217.042.45.042.667-.008.225-.05.333-.1.708-.317l6.159-3.433c.4-.225.5-.292.666-.475.159-.175.275-.383.35-.608.075-.234.084-.359.084-.825l.108.125Zm-1.667 0c0 .25-.008.3 0 .291 0-.008-.041.017-.258.142l-6.175 3.425c-.208.108-.258.133-.25.133 0-.008 0-.008 0 0 .008 0-.042-.025-.25-.141L3.55 13.783c-.225-.125-.267-.158-.258-.15l-.009-.008V6.258c-.008 0-.008 0 0 0-.016.009-.016.009-.025.017.025-.025.084-.058.275-.167L9.7 2.675c.2-.117.25-.142.25-.142h-.008c0-.008-.009-.008 0 0-.017-.008.033.017.241.134l6.167 3.425c.217.116.258.15.25.141l-.008-.008c-.009-.017 0 .042 0 .292v6.758l.066.092Z",fill:"#fff"})),zl||(zl=r.createElement("path",{d:"m14.15 7.183-7.5-4.166a.829.829 0 0 0-1.133.316.821.821 0 0 0 .316 1.125l7.5 4.167c.4.217.909.075 1.125-.325a.839.839 0 0 0-.325-1.133l.017.016Z",fill:"#fff"})));a.p;var Wl;function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$l.apply(this,arguments)}const ql=e=>r.createElement("svg",$l({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Wl||(Wl=r.createElement("g",{id:"message-text-square-02"},r.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M6.466 1.667h7.068c.671 0 1.225 0 1.676.037.468.038.899.12 1.303.326.627.32 1.137.83 1.457 1.457.206.404.288.835.327 1.303.036.451.036 1.005.036 1.676v4.568c0 .671 0 1.225-.036 1.676-.039.468-.12.899-.327 1.303a3.333 3.333 0 0 1-1.457 1.457c-.404.206-.835.288-1.303.326-.451.037-1.005.037-1.676.037h-2.13c-.554 0-.716.004-.862.034-.147.03-.29.08-.423.149-.134.068-.262.166-.694.511l-2.011 1.609c-.153.123-.31.247-.446.338-.131.087-.386.242-.717.242-.38 0-.74-.172-.978-.47-.206-.258-.244-.554-.258-.71C5 17.371 5 17.171 5 16.976v-1.15a3.818 3.818 0 0 1-.863-.106 3.333 3.333 0 0 1-2.357-2.357c-.114-.427-.114-.919-.113-1.582V6.466c0-.671 0-1.225.036-1.676.039-.468.12-.899.327-1.303.32-.627.83-1.137 1.457-1.457.404-.206.835-.288 1.303-.326.451-.037 1.005-.037 1.676-.037ZM6.666 15v1.6l1.718-1.374.056-.045c.352-.282.617-.495.92-.65.268-.136.553-.236.847-.296.333-.069.674-.069 1.124-.068H13.5c.714 0 1.199-.001 1.574-.032.366-.03.552-.084.683-.15.313-.16.568-.415.728-.728.066-.13.12-.317.15-.683.031-.375.032-.86.032-1.574V6.5c0-.714-.001-1.199-.032-1.574-.03-.365-.084-.552-.15-.683a1.667 1.667 0 0 0-.728-.728c-.13-.066-.317-.12-.683-.15-.375-.031-.86-.032-1.574-.032h-7c-.714 0-1.2.001-1.574.032-.365.03-.552.084-.683.15-.313.16-.568.415-.728.728-.066.13-.12.318-.15.683-.031.375-.032.86-.032 1.574v5.167c0 .828.007 1.08.057 1.264A1.667 1.667 0 0 0 4.57 14.11c.185.05.436.057 1.264.057.46 0 .834.373.834.833ZM5 7.083c0-.46.373-.833.833-.833H10a.833.833 0 0 1 0 1.667H5.833A.833.833 0 0 1 5 7.083Zm.833 2.084a.833.833 0 1 0 0 1.666H12.5a.833.833 0 0 0 0-1.666H5.833Z",fill:"#fff",fillOpacity:.65}))));a.p;var Kl,Yl,Jl,Xl,Ql,ei,ti,ai;function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ni.apply(this,arguments)}const ri=e=>r.createElement("svg",ni({width:104,height:20,viewBox:"0 0 104 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Kl||(Kl=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.53 1.53 0H6.43v6.431H0V1.53ZM6.784 0h6.432v4.902l-1.569 1.53H8.314l-1.53-1.53V0Zm8.314 6.784-1.53 1.53v3.372l1.53 1.53H20V6.784h-4.902ZM6.784 20h6.432v-4.902l-1.569-1.53H8.314l-1.53 1.53V20ZM20 20v-4.902l-1.53-1.53H13.57V20H20ZM13.569 0v4.902l1.529 1.53H20V0h-6.431ZM9.098 10c0 .47.392.902.902.902s.902-.392.902-.902A.912.912 0 0 0 10 9.098a.912.912 0 0 0-.902.902ZM6.431 6.784H0v6.432h4.863l1.568-1.53V6.784ZM4.863 13.57l1.568 1.529v3.373L4.863 20H0v-6.431h4.863Z",fill:"#0ECAD4"})),Yl||(Yl=r.createElement("path",{d:"M79.554 3.117c-.116 0-.193-.077-.193-.193v-.808c0-.116.077-.193.193-.193h.462c.115 0 .192.077.192.193v.808c0 .116-.077.193-.192.193h-.462ZM79.708 15.403c-.116 0-.193-.077-.193-.192V6.237c0-.116.077-.193.193-.193h.192c.116 0 .193.077.193.193v8.974c0 .115-.077.192-.193.192h-.192ZM32.97 15.596c-.116 0-.154-.039-.193-.154L31.2 9.857h-.039l-1.578 5.585c-.039.115-.077.154-.193.154h-1.848c-.115 0-.154-.039-.192-.154l-2.734-9.706c0-.077 0-.154.116-.154h2.425c.116 0 .193.077.193.154l1.309 5.816h.038l1.54-5.816c.039-.116.077-.154.193-.154h1.501c.116 0 .154.038.193.154l1.617 5.816h.038l1.232-5.816c0-.077.077-.154.193-.154h2.425c.077 0 .116.077.116.154l-2.695 9.706c-.039.115-.077.154-.193.154H32.97Z",fill:"#fff"})),Jl||(Jl=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.669 15.596a.166.166 0 0 1-.154-.154V5.736c0-.077.077-.154.154-.154h4.004c2.425 0 3.695 1.386 3.695 3.312s-1.27 3.351-3.696 3.351H42.21c-.078 0-.078.039-.078.077v3.081a.166.166 0 0 1-.154.154h-2.31v.039Zm5.12-6.663c0-.694-.462-1.117-1.27-1.117h-1.31c-.077 0-.077.038-.077.077v2.118c0 .077.039.077.078.077h1.309c.808 0 1.27-.462 1.27-1.155ZM50.525 10.666c0 1.31.077 1.964.27 2.503.539 1.618 1.694 2.427 3.426 2.427 1.463 0 2.58-.655 3.234-1.58.077-.076.077-.192-.038-.269l-.116-.115c-.077-.077-.192-.077-.27.038-.577.77-1.54 1.348-2.848 1.348-1.386 0-2.426-.616-2.888-2.041-.154-.5-.23-1.079-.23-2.119 0-.077.038-.154.115-.154h6.275c.154 0 .231-.077.231-.192 0-1.194-.077-1.81-.27-2.35-.5-1.579-1.693-2.387-3.31-2.387-1.579 0-2.81.808-3.311 2.387-.154.54-.27 1.233-.27 2.504Zm6.622-.616c0 .077-.038.115-.115.115h-5.775c-.077 0-.116-.038-.116-.115 0-.694.077-1.194.231-1.656.424-1.387 1.425-2.042 2.772-2.042 1.348 0 2.349.694 2.772 2.042.154.462.231 1 .231 1.656Z",fill:"#fff"})),Xl||(Xl=r.createElement("path",{d:"M66.618 15.403c-.115 0-.192-.077-.192-.192V9.587c0-2.233-.924-3.196-2.734-3.196-1.578 0-2.887 1.078-2.887 2.927v5.931c0 .116-.077.193-.193.193h-.192c-.116 0-.193-.077-.193-.193V6.275c0-.115.077-.192.193-.192h.192c.116 0 .193.077.193.192v1.31h.038c.462-1.079 1.54-1.733 2.888-1.733 2.117 0 3.31 1.194 3.31 3.62v5.777c0 .116-.076.193-.192.193h-.23v-.039Z",fill:"#fff"})),Ql||(Ql=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M69.89 17.56c-.115.039-.115.154-.038.27.462.731 1.578 1.348 2.926 1.386 2.156 0 3.542-1.155 3.542-3.736V6.275c0-.115-.077-.192-.193-.192h-.192c-.116 0-.193.077-.193.192v1.348h-.038c-.462-1.04-1.27-1.771-2.926-1.771-1.579 0-2.657.847-3.119 2.233-.192.655-.308 1.502-.308 2.658 0 1.155.078 2.003.308 2.657.462 1.387 1.54 2.234 3.119 2.234 1.655 0 2.464-.732 2.926-1.771h.038v1.579c0 2.31-1.155 3.196-2.925 3.196-1.155 0-1.964-.423-2.503-1.117-.077-.115-.154-.154-.27-.077l-.153.116Zm5.852-6.856c0 1.194-.077 1.888-.27 2.465-.423 1.387-1.462 1.887-2.617 1.81-1.27 0-2.156-.616-2.58-1.848-.192-.578-.308-1.387-.308-2.465 0-1.079.116-1.887.308-2.465.385-1.233 1.31-1.849 2.58-1.849 1.155 0 2.156.5 2.618 1.887.192.578.27 1.31.27 2.465Z",fill:"#fff"})),ei||(ei=r.createElement("path",{d:"M89.487 15.21c0 .116.077.193.192.193v.039h.231c.116 0 .193-.077.193-.193V9.472c0-2.426-1.194-3.62-3.311-3.62-1.348 0-2.426.654-2.888 1.733h-.038v-1.31c0-.115-.077-.192-.193-.192h-.192c-.116 0-.193.077-.193.192v8.974c0 .116.077.193.193.193h.192c.116 0 .193-.077.193-.193V9.318c0-1.849 1.309-2.927 2.887-2.927 1.81 0 2.734.963 2.734 3.196v5.624Z",fill:"#fff"})),ti||(ti=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.72 13.17c-.192-.54-.269-1.195-.269-2.504 0-1.271.116-1.964.27-2.504.5-1.579 1.732-2.387 3.31-2.387 1.617 0 2.811.808 3.311 2.387.193.54.27 1.156.27 2.35 0 .115-.077.192-.231.192h-6.237c-.077 0-.115.077-.115.154 0 1.04.077 1.618.23 2.119.463 1.425 1.502 2.041 2.888 2.041 1.309 0 2.271-.578 2.849-1.348.077-.115.193-.115.27-.038l.115.115c.115.077.115.193.038.27-.654.924-1.77 1.579-3.233 1.579-1.772 0-2.965-.81-3.465-2.427Zm6.199-3.005c.077 0 .115-.038.115-.115 0-.655-.077-1.194-.23-1.656-.424-1.348-1.425-2.042-2.773-2.042-1.347 0-2.348.655-2.771 2.042-.154.462-.231.962-.231 1.656 0 .077.038.115.115.115h5.775ZM101.498 7.546c0 .039 0 .039.039.039h.077s.038 0 .038-.039v-.462h.27l.269.5c.02 0 .029.01.039.02.01.01.019.02.038.02h.116c.038 0 .077-.04.038-.078l-.269-.5c.192-.039.269-.193.269-.347 0-.231-.154-.385-.423-.385h-.462c-.019 0-.029 0-.034.005-.005.004-.005.014-.005.033v1.194Zm.501-1.04c.154 0 .231.077.231.193 0 .115-.077.192-.231.192h-.308v-.385h.308Z",fill:"#fff"})),ai||(ai=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.922 5.813c-.655 0-1.155.5-1.155 1.155s.5 1.156 1.155 1.156c.654 0 1.155-.5 1.155-1.156 0-.654-.501-1.155-1.155-1.155Zm0 .193c.539 0 .962.385.962.962 0 .54-.423.963-.962.963-.539 0-.963-.385-.963-.963 0-.539.385-.962.963-.962Z",fill:"#fff"})));a.p;var li=a(94213);const ii=(0,c.EN)((e=>{var t=e.location,a=e.isPro,n=(0,l.I0)(),i=(0,l.v9)((e=>e.migrations.migration_progress)).backgroundMigrationRunning,s=function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?t.pathname===e?"nav-item-active":"":-1!==t.pathname.indexOf("unsaved")&&"/migrate"===e||-1!==t.pathname.indexOf(e)?"nav-item-active":""},c=()=>r.createElement(r.Fragment,null,r.createElement("li",{className:s("/")},r.createElement(o.OL,{to:"/",replace:!0,exact:!0,strict:!0,onClick:()=>{"wpe"===(0,C.w6)()&&i||n((0,E.oA)())}},r.createElement(Vl,{className:"icon","aria-hidden":"true"}),(0,u.__)("Migrate","wp-migrate-db"))),r.createElement("li",{className:s("/settings",!1)},r.createElement(o.OL,{to:"/settings",replace:!0},r.createElement(jl,{className:"icon","aria-hidden":"true"}),(0,u.__)("Settings","wp-migrate-db"))),r.createElement("li",{className:"feedback"},r.createElement("a",{href:"https://wpengine-product.canny.io/wpe-site-migration/",target:"_blank ",rel:"NOFOLLOW"},r.createElement(ql,{className:"icon","aria-hidden":"true"}),(0,u.__)("Feedback","wp-migrate-db"),r.createElement("span",{className:"screen-reader-text"}," ",(0,u.__)("(opens in a new tab)","wp-migrate-db")),r.createElement(li.r,{className:"new-tab","aria-hidden":!0}))),r.createElement("li",{className:"wpe-logo"},r.createElement("a",{href:"https://wpengine.com/?utm_source=wpesm_plugin&utm_medium=referral&utm_campaign=bx_prod_referral&utm_content=wpesm_plugin_topbar_logo",target:"_blank ",rel:"NOFOLLOW"},r.createElement(ri,{"aria-label":"WP Engine"})))),p=()=>r.createElement(r.Fragment,null,r.createElement("li",{className:s("/")},r.createElement(o.OL,{to:"/",replace:!0,exact:!0,strict:!0,onClick:()=>{n((0,E.oA)())}},(0,u.__)("Profiles","wp-migrate-db"))),r.createElement("li",{className:s("/migrate",!1)},r.createElement(o.OL,{to:"/migrate",replace:!0,onClick:()=>{i||n((0,E.oA)())}},(0,u.__)("Migrate","wp-migrate-db"))),a&&r.createElement("li",{className:s("/backups")},r.createElement(o.OL,{to:"/backups",replace:!0,exact:!0},(0,u.__)("Backups","wp-migrate-db"))),r.createElement("li",{className:s("/settings",!1)},r.createElement(o.OL,{to:"/settings",replace:!0},(0,u.__)("Settings","wp-migrate-db"))),r.createElement("li",{className:s("/addons")},r.createElement(o.OL,{to:"/addons",replace:!0,exact:!0},(0,u.__)("Upgrades","wp-migrate-db"))),r.createElement("li",{className:s("/help")},r.createElement(o.OL,{to:"/help",replace:!0,exact:!0},(0,u.__)("Help","wp-migrate-db"))),r.createElement("li",{className:s("/whats-new")},r.createElement(o.OL,{to:"/whats-new",replace:!0,exact:!0},(0,u.__)("What's New","wp-migrate-db")))),d=()=>"wpe"===(0,C.w6)()?r.createElement(c,null):r.createElement(p,null),m=Y()("nav",{"bg-white":"wpe"!==(0,C.w6)()},"flex-container");return r.createElement("ul",{className:m},r.createElement(d,null))}));const si=()=>r.createElement("div",{className:"header-wrap"},r.createElement("h1",null,(0,u.__)("WP Engine Site Migration","wp-migrate-db")),r.createElement(ii,{isPro:!1}));const oi=e=>0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")?r.createElement(pt.Z,{type:"danger"},(0,f.ZP)((0,u.__)("<strong>Internet Explorer Not Supported</strong> &mdash; Less than 2% of our customers use IE, so we've decided not to spend time supporting it. We ask that you use Firefox or a Webkit-based browser like Chrome or Safari instead. If this is a problem for you, please let us know.","wp-migrate-db"))):0<=navigator.userAgent.indexOf("Edge")?r.createElement(pt.Z,{type:"danger"},(0,f.ZP)((0,u.__)("<strong>Microsoft Edge Not Supported</strong> &mdash; Less than 2% of our customers use Microsoft Edge, so we've decided not to spend time supporting it. We ask that you use Firefox or a Webkit-based browser like Chrome or Safari instead. If this is a problem for you, please let us know.","wp-migrate-db"))):null;var ci=a(68424),pi=e=>e.notifications;function di(e,t){return(0,h.fX)(pi,"notifications",e,t)}var ui=(0,r.lazy)((()=>(0,C.Yu)()?a.e(513).then(a.bind(a,76513)):Promise.resolve(null)));const mi=(0,c.EN)((0,l.$j)((e=>({notifications:e.notifications,errors:di("errors",e),status:di("status",e),settingsStatus:(0,Pl.u)("status",e),dbi_api_data:e.dbi_api_data})),{handleNoticeLink:ci.Rp,toggleSetting:kl.Xn,setAction:Tn.m})((e=>{var t=[],a=e.status,n=e.errors,l=e.notifications,i=e.dbi_api_data,s={settings:["licence_expired","wpmdb_invalid_license"],addons:["licence_expired","wpmdb_invalid_license"],help:["wpmdb_invalid_license"]},o=e.location.pathname.replace("/","");return Object.entries(l.messages).forEach((c=>{var p=(0,g.Z)(c,2),d=p[0],m=p[1],_=!1;if((0,R.includes)(l.hidden,d)&&(_=!0),Object.entries(s).forEach((t=>{var a=(0,g.Z)(t,2),n=a[0],r=a[1];(0,R.includes)(r,d)&&e.location.pathname.includes(n)&&(_=!0)})),_)return null;if(i&&i.dbi_down_status&&"wpmdb_invalid_license"===d)return null;var h=m.message,v=null;m.link&&(v=((t,a)=>{var n=[],l=Object.entries(t),i=0;return l.forEach((s=>{var o,c,p=(0,g.Z)(s,2),d=p[0],m=p[1];"dismiss"===d&&(o=(0,u.__)("Dismiss","wp-migrate-db")),"reminder"===d&&(o=(0,u.__)("Remind Me Later","wp-migrate-db"),c=t.reminder_time),n.push(r.createElement(r.Fragment,null,r.createElement("button",{className:"link",onClick:()=>{e.handleNoticeLink(m,d,c,a)}},o),0===i&&l.length>1?" | ":"")),i++})),r.createElement(r.Fragment,null,n.map(((e,t)=>r.createElement(r.Fragment,{key:t},e))))})(m.link,d)),m.custom_link&&"usage_tracking"===m.custom_link&&(v=(e=>{var t=e.settingsStatus,a=async t=>{await e.toggleSetting("allow_tracking",t,"allow_tracking")};return r.createElement("div",{className:"flex-container"},r.createElement("button",{className:"link",onClick:()=>{a(!0)}},(0,u.__)("Yes, I'd Like to Help","wp-migrate-db"))," ","\xa0|\xa0",r.createElement("button",{className:"link",onClick:()=>{a(!1)}},(0,u.__)("No","wp-migrate-db")),r.createElement("div",{className:"relative"},!0===t.allow_tracking&&r.createElement(W.HW,null)))})(e)),"wpmdb_invalid_license"===d&&(h=m.message[o]||m.message.default||m.message,v=r.createElement(ui,null));var b=m.error?"danger":"warning";t.push(r.createElement(pt.Z,{type:b},(0,f.ZP)(h),r.createElement(xl,{status:a[d],errors:n[d]},(0,C.Yu)()&&r.createElement(r.Suspense,{fallback:r.createElement("div",null,(0,u.__)("Loading...","wp-migrate-db"))},v),!(0,C.Yu)()&&v)))})),t.map(((e,t)=>r.createElement("div",{key:t}," ",e)))})));var _i,gi=e=>{var t=e.componentStack,a=e.error;return r.createElement(pt.Z,{type:"danger"},r.createElement("p",null,r.createElement("strong",null,"Oops! An error occured!")),r.createElement("p",null,"Here\u2019s what we know\u2026"),r.createElement("p",null,r.createElement("strong",null,"Error:")," ",a.toString()),r.createElement("p",null,r.createElement("strong",null,"Stacktrace:")," ",t))},fi=m.ZP.div(_i||(_i=(0,d.Z)(["\n  display: grid;\n"]))),hi=(0,r.lazy)((()=>"free"===(0,C.w6)()?a.e(613).then(a.bind(a,3613)):"wpe"===(0,C.w6)()?a.e(909).then(a.bind(a,69909)):Promise.resolve(null))),vi=e=>{var t=e.isPro,a=Y()("wrapper",{"wrapper-wpe":"wpe"===(0,C.w6)(),"wrapper-free":"free"===(0,C.w6)()},(0,c.TH)().pathname.replace("/",""));return r.createElement(r.Fragment,null,"wpe"===(0,C.w6)()&&r.createElement(si,null),r.createElement("div",{className:"nav-wrap"},r.createElement("div",{className:"wrapper"},"wpe"!==(0,C.w6)()&&r.createElement(ii,{isPro:t}),r.createElement(oi,null))),r.createElement(Bl.ErrorBoundary,{FallbackComponent:gi},r.createElement("div",{className:a},r.createElement(fi,null,r.createElement("div",{className:"wrapper global-notifications-wrapper"},r.createElement(mi,null)),r.createElement("div",null,e.children)),"pro"!==(0,C.w6)()&&r.createElement(r.Suspense,{fallback:r.createElement("div",null,(0,u.__)("Loading...","wp-migrate-db"))},r.createElement(hi,e)))))},bi=a(78052);a(10778),a(25615);const Ei=()=>{var e=(0,l.I0)();return Gr(Fr,"site_migration",bi.ZP),(0,r.useEffect)((()=>{e((async(e,t)=>{window.hasOwnProperty("wpmdbmf")&&Promise.resolve().then(a.bind(a,33686)).then((t=>{e(t.default())})),window.hasOwnProperty("wpmdbtp")&&Promise.resolve().then(a.bind(a,18213)).then((t=>{e(t.default())})),window.hasOwnProperty("wpmdbmst")&&Promise.resolve().then(a.bind(a,85562)).then((t=>{e(t.default())}))})),e((0,sr.$$)()),e(Il())}),[]),r.createElement(o.UT,{hashType:"noslash"},r.createElement(Fl,{className:"wpmdb wpe"},r.createElement("div",{style:{display:"none"}},r.createElement("h2",{style:{display:"none"}}),r.createElement("div",{id:"nag-container"})),r.createElement(vi,{isPro:!1},r.createElement(c.AW,{path:"/:tab(wpbody-content)?",exact:!0,render:e=>r.createElement(ea,(0,s.Z)({},e,{ChildPanels:r.createElement(wl,e)}))}),r.createElement(c.AW,{path:"/settings",render:()=>r.createElement(Cl,null)}))))};window.wpmdb_abort_controller=new AbortController;var wi=document.getElementById("root");(0,i.s)(wi).render(r.createElement(l.zt,{store:Fr},r.createElement(Ei,null)))},33686:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(62295),r=a(22497),l=a(78579),i=a(4516),s=a(66055),o=a(64533);const c=()=>(e,t)=>{e(((e,t)=>{e((0,r.KG)("afterFinalizeMigration",(()=>{e((0,s.m)(o.F1,Date.now()))})))})),e(((e,t)=>{(0,n.dC)((()=>{e((0,r.KJ)("wpmdbPreMigrationCheck",(t=>e((0,l.xO)(t))))),e((0,r.KJ)("addMigrationStages",(t=>e((0,l.h2)(t))))),e((0,r.KJ)("mdbAddonActions",(async a=>t().media_files.enabled?await e((0,l.B0)()):a))),e((0,r.KJ)("wpmdbFinalizeMigration",(e=>{if(!t().media_files.enabled)return e;var a=t().profiles.current_profile,n=(0,i.r5)("profile_type",t());return e.profileID=a,e.profileType=n,e})))}))}))}},78579:(e,t,a)=>{"use strict";a.d(t,{$0:()=>f,AN:()=>b,B0:()=>O,D0:()=>g,K4:()=>w,Lm:()=>h,Um:()=>v,h2:()=>y,nv:()=>_,rM:()=>E,xO:()=>Z});var n=a(42233),r=a(64533),l=a(66055),i=a(4516),s=a(36601),o=a(66866),c=a(42714),p=a(10304),d=a(29816),u=a(98135),m=a(73264),_=((0,n.__)("Media Files addon","wp-migrate-db"),()=>(0,n.__)("<b>Addon Missing</b> - The Media Files addon is inactive on the <strong>remote site</strong>. Please install and activate it to enable media file migration.","wp-migrate-db")),g=()=>e=>e((0,l.m)(r.ll)),f=()=>(e,t)=>e((0,l.m)(r.h6)),h=e=>(0,l.m)(r.U4,e),v=(e,t)=>a=>{a({type:r.vL,payload:{available:e,message:t}})},b=e=>t=>{t({type:r.F_,payload:e})},E=(e,t)=>t=>t((0,l.m)(r.bv,e)),w=e=>t=>t((0,l.m)(r.Xx,e));function y(e){return(t,a)=>(a().media_files.enabled&&e.push("media_files"),e)}var O=()=>async(e,t)=>{var a=t().media_files,n=(0,i.r5)("intent",t());return!(!["push","pull","savefile"].includes(n)||!a.enabled)&&await e((0,s.Z6)("ADDONS_STAGE",[{fn:S,args:["media_files"]}]))},T=()=>(e,t)=>{var a=(0,i.r5)("intent",t()),n=(0,i._P)("this_wp_upload_dir",t()),r=(0,i.FY)("wp_upload_dir",t());return["push","savefile"].includes(a)?n:r},S=function e(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(n,r)=>{a||n((0,m.F)(t));var l=(0,i.r5)("migration_id",r()),o=(0,i.r5)("stages",r()),c=r().media_files,d=n(T()),u=c.excludes,_=c.option,g=c.date,f=c.last_migration,h={stage:"media_files",stages:o,folder:d,migration_state_id:l,excludes:JSON.stringify(u)};"new"===_&&(h.date=g,h.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),"new_subsequent"===_&&""!==f&&(h.date=new Date(f).toISOString(),h.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone);var v=await n((0,p.A)("/mf-initiate-file-migration",h));return!!v&&(v.data.recursive_queue?await n((0,m.T)(t,v,e)):void await n((0,s.Z6)("ADDONS_STAGE",[{fn:N,args:[t,v]}])))}},N=function e(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return async(a,m)=>{a((0,l.m)(o.V$,(0,n.__)("Loading queue...","wp-migrate-db")));var _=(0,i.r5)("migration_id",m()),g={stage:"media_files",offset:r,migration_state_id:_},f=await a((0,p.A)("/mf-get-queue-items",g));if(f){var h=f.data;if("complete"!==h.status){if(!h.hasOwnProperty("queue_status"))return a((0,u.Qc)()),!1;a((0,c.I6)(h.queue_status.size/1e3)),await a((0,s.Z6)("ADDONS_STAGE",[{fn:e,args:[t,f]}]))}else{var v={currentStage:t,stage:"media_files",migration_state_id:_,folder:a(T())};await a((0,s.Z6)("ADDONS_STAGE",[{fn:d.e5,args:[t,"/mf-transfer-files",v]}]))}}}};function Z(e){return(t,a)=>{var n=a().media_files,r=n.date,l=n.enabled,s=(0,i.r5)("intent",a());if(!l||!["push","pull"].includes(s))return e;var o=[...e],c=new Date(Date.now());if(new Date(r)>c){o.push({name:"MF_INVALID_DATE",panel:"media_files"})}return"undefined"!==typeof n.option&&null!==n.option||o.push({name:"MF_OPTION_NULL",panel:"media_files"}),o}}},64533:(e,t,a)=>{"use strict";a.d(t,{F1:()=>g,F_:()=>u,U4:()=>p,Xx:()=>_,ZP:()=>h,bv:()=>m,h6:()=>c,ll:()=>o,vL:()=>d});var n=a(86552),r=a(26429),l=a(29950),i=a(9106),s=a(31998),o="ENABLE_MEDIA_FILES",c="TOGGLE_MEDIA_FILES",p="SET_MEDIA_FILES_OPTION",d="SET_MF_AVAILABLE",u="SET_MF_LICENSED",m="UPDATE_MF_EXCLUDES",_="UPDATE_MF_DATE",g="UPDATE_MF_LAST_MIGRATION",f={enabled:!1,option:"all",available:!1,is_licensed:!1,message:"",excludes:"*.sql\n*.log\n*backup*/\n*cache*/",last_migration:"",date:new Date(Date.now()).toISOString()};const h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;return(0,r.ZP)(e,(a=>{switch(t.type){case"RESET_APP":return a.date=new Date(Date.now()).toISOString(),a;case i.$:return(0,n.Z)((0,n.Z)({},a),{},{available:1===window.wpmdb_data.mf_available,message:""});case o:return a.enabled=!0,a;case c:return a.enabled=!a.enabled,a;case u:return a.is_licensed=t.payload,a;case p:return a.option=t.payload,a;case l.Ld:var r=t.payload.profile.value;return r.hasOwnProperty("media_files")&&(a.enabled=r.media_files.enabled,a.option=r.media_files.option,a.date=r.media_files.date,a.excludes=r.media_files.excludes,a.last_migration=r.media_files.last_migration),r.current_migration.hasOwnProperty("media_migration_option")&&!0===t.payload.profile.imported&&(a.option=null,a.enabled=!0),a;case d:var f=t.payload.available;return a.available=f,t.payload.hasOwnProperty("message")&&(a.message=t.payload.message),f||(a.enabled=!1),a;case m:return(0,n.Z)((0,n.Z)({},a),{},{excludes:t.payload});case _:return(0,n.Z)((0,n.Z)({},a),{},{date:t.payload});case g:return(0,n.Z)((0,n.Z)({},a),{},{last_migration:t.payload});case s.dN:return(0,n.Z)((0,n.Z)({},a),{},{available:"1"===t.payload.mf_available});default:return e}}))}},85562:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(62295),r=a(22497),l=a(47895),i=a(22633),s=a(27056);const o=function(){return(e,t)=>{e(((e,t)=>{(0,n.dC)((()=>{e((0,r.KG)("addonActions",(()=>{}))),e((0,r.KG)("postConnectionPanels",(()=>{e((0,i.qb)("multisite_tools"))})))}))})),e(((e,t)=>{(0,n.dC)((()=>{e((0,r.KJ)("wpmdbBackupTables",((e,a)=>{if("backup_selected"!==a)return e;var n=t(),r=n.multisite_tools,l=n.migrations,i=r.selected_subsite,o=l.current_migration,c=l.local_site,p=l.remote_site,d="push"===o.intent?p.site_details.prefix:c.this_prefix;if(0===i)return e;var u=t().migrations;return(0,s.yR)(i,d,u,"backup")}))),e((0,r.KJ)("addonPanels",((t,a)=>(e((0,l.C)(a))&&["savefile","find_replace","backup_local"].includes(a)&&t.push("multisite_tools"),t)))),e((0,r.KJ)("addonPanelsOpen",((e,t)=>(["savefile","find_replace","backup_local"].includes(t)&&e.push("multisite_tools"),e)))),e((0,r.KJ)("intiateMigrationPostData",(e=>{var a=t().multisite_tools;return a.enabled&&(e.mst_select_subsite="1"),a.selected_subsite>0&&(e.mst_selected_subsite=Number(a.selected_subsite),e.new_prefix=a.new_prefix),a.destination_subsite>0&&(e.mst_destination_subsite=Number(a.destination_subsite)),e}))),e((0,r.KJ)("wpmdb_standard_replace_values",(a=>{if(!t().multisite_tools.enabled)return a;var n=e((0,s.xU)());return a.domain.search=n.search,a.domain.replace=n.replace,a}))),e((0,r.KJ)("wpmdbPreMigrationCheck",(t=>e((0,s.Cj)(t)))))}))}))}}},76687:(e,t,a)=>{"use strict";function n(e,t,a){return"pull"===e&&t||"push"===e&&a}function r(e,t){return!!Object.keys(t).includes(e)&&{subsiteName:t[e],subsites:t}}function l(e,t){return Object.keys(t.subsites).includes(e)?t.subsites[e]:t.url}function i(e){var t=e.local_site,a=e.remote_site,n=e.current_migration.localSource;return{sourceSite:n?t:a,destinationSite:n?a:t}}a.d(t,{G2:()=>i,sA:()=>n,ty:()=>l,wn:()=>r})},27056:(e,t,a)=>{"use strict";a.d(t,{Cj:()=>O,Ox:()=>f,Si:()=>h,o:()=>g,wg:()=>w,xL:()=>E,xU:()=>v,yR:()=>y});var n=a(62295),r=a(42233),l=a(4669),i=a(65730),s=a(76687),o=a(47895),c=a(14251),p=a(29950),d=a(29942),u=a(66441),m=a(4516),_=a(66055),g=((0,r.__)("Multisite Tools addon","wp-migrate-db"),()=>(0,r.__)("<b>Addon Missing</b> - The Multisite Tools addon is inactive on the <strong>remote site</strong>. Please install and activate it to enable Multisite Tools migration.","wp-migrate-db")),f=e=>(0,_.m)(i.hA,{available:e}),h=e=>(0,_.m)(i.xv,e),v=()=>(e,t)=>{var a=t(),n=a.migrations,r=a.multisite_tools,l=r.selected_subsite,i=r.destination_subsite,s=r.enabled,o=n.local_site,c=n.remote_site,p=n.current_migration,u=p.twoMultisites,m=p.localSource,_=m?o:c,g=m?c:o,f="true"===_.site_details.is_multisite,h=f&&0!==l?"//"+_.subsites[l]:_.url,v=f?g.url:"//"+g.subsites[l];return u&&(h=0===l?_.url:"//"+_.subsites[l],v=0===i?g.url:"//"+g.subsites[i]),s||(h=_.url,v=g.url),{search:(0,d.Ph)(h),replace:(0,d.Ph)(v)}},b=(e,t)=>(a,r)=>{if(0===e)return!1;var l=r().migrations,i=y(e,t,l,"migration");(0,n.dC)((()=>{a((0,c.E2)(i)),a({type:p.mu,payload:"selected"})}))},E=()=>(e,t)=>{var a=t(),r=a.migrations,s=a.multisite_tools,o=(0,m.r5)("intent",t()),c=s.enabled,p=r.local_site,d=r.current_migration;(0,n.dC)((()=>{e({type:i.pT,payload:!c,data:p,intent:o});var t=e(v());if(e((0,l.Kf)(t)),!c){var a=s.selected_subsite,n=["find_replace","savefile"].includes(o)?p.this_prefix:d.source_prefix;e(b(a,n))}}))},w=e=>{e.selectedSubsite;var t=e.selectedSubsiteID,a=e.type;return(e,n)=>{var r=n().migrations,o=r.current_migration,c=r.local_site,p=o.intent;if(["push","pull"].includes(p)){var d=e(v());e((0,l.Kf)(d))}if(["savefile"].includes(p)&&"savefile"===p&&e({type:u.Dh,payload:!0}),e(((e,t)=>{var a=t(),n=a.multisite_tools,r=a.migrations,l=r.local_site,o=r.remote_site,c=r.current_migration,p=c.intent,d=c.twoMultisites?n.destination_subsite:n.selected_subsite,u=(0,s.sA)(p,"true"===l.is_multisite,"site_details"in o?"true"===o.site_details.is_multisite:void 0),m="push"===p?o.prefix:l.this_prefix;return d&&d>1&&(u||["find_replace","savefile"].includes(p))&&(m=m+d+"_"),e({type:i.GH,payload:m}),m})),"source"===a){var m=["find_replace","savefile"].includes(p)?c.this_prefix:o.source_prefix;e(b(t,m))}}},y=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"migration",r=a.local_site,l=a.remote_site,i=a.current_migration.intent,s=r.this_prefixed_tables,c=r.this_table_sizes_hr,p=l.prefixed_tables,d=l.table_sizes_hr,u="true"===r.is_multisite,m="site_details"in l&&"true"===l.site_details.is_multisite,_=(0,o.Lk)(i,{tables:s,tableSizes:c},{tables:p,tableSizes:d},n).tables,g=["".concat(t,"users"),"".concat(t,"usermeta")],f=["".concat(t,"blog_versions"),"".concat(t,"blogs"),"".concat(t,"blogmeta"),"".concat(t,"registration_log"),"".concat(t,"signups"),"".concat(t,"site"),"".concat(t,"sitemeta")],h=[];return _.forEach(((a,r)=>{if(g.includes(a))h.push(a);else if(!f.includes(a)){if("migration"===n){if("pull"===i&&!m||"push"===i&&!u)return void h.push(a)}else if("pull"===i&&!u||"push"===i&&!m)return void h.push(a);var l=1!==parseInt(e)?"^".concat(t+e,"_"):"^".concat(t,"(?![0-9]+_)");RegExp(l,"i").exec(a)&&h.push(a)}})),h},O=e=>(t,a)=>{var n=(0,m.r5)("intent",a()),r=(0,m.r5)("twoMultisites",a()),l=a().multisite_tools,i=l.enabled,s=l.selected_subsite,o=l.destination_subsite,c=l.new_prefix,p=l.is_licensed,d=l.available;if(!i||!p||!d)return e;var u=[];if(0===s){u.push({name:"MST_NO_SUBSITE",panel:"multisite_tools"})}if(r&&0===o){u.push({name:"MST_NO_DESTINATION",panel:"multisite_tools"})}if("savefile"===n){if(""===c){u.push({name:"MST_EMPTY_PREFIX",panel:"multisite_tools"})}if(!T(c)){u.push({name:"MST_INVALID_PREFIX",panel:"multisite_tools"})}}return u.length>0&&(e=e.concat(u)),e},T=e=>null===new RegExp("[^a-z0-9_]","i").exec(e)},65730:(e,t,a)=>{"use strict";a.d(t,{GH:()=>d,LN:()=>_,YW:()=>o,ZP:()=>f,hA:()=>u,pT:()=>p,w0:()=>c,xv:()=>m});var n=a(86552),r=a(26429),l=a(29950),i=a(31998),s=a(9106),o="UPDATE_SELECTED_SUBSITE",c="UPDATE_DESTINATION_SUBSITE",p="MST_TOGGLE_ENABLED",d="MST_UPDATE_PREFIX",u="SET_MST_AVAILABLE",m="SET_MST_LICENSED",_="SET_MST_SUB_SINGLE",g={enabled:!1,available:!1,is_licensed:!1,selected_subsite:0,destination_subsite:0,new_prefix:"",message:""};const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;return(0,r.ZP)(e,(a=>{switch(t.type){case"RESET_APP":return a;case l.n_:case s.$:return a.available="1"===window.wpmdb_data.mst_available,a;case l.Ld:var r=t.payload.profile.value.multisite_tools;return a=(0,n.Z)({},r);case p:return a.enabled=t.payload,""===a.new_prefix&&(a.new_prefix=t.prefix),a;case o:return a.selected_subsite=t.payload,a;case c:return a.destination_subsite=t.payload,a;case d:return a.new_prefix=t.payload,a;case u:return a.message="",a;case m:return a.is_licensed=t.payload,a;case _:return a.enabled=!0,a;case i.dN:return(0,n.Z)((0,n.Z)({},a),{},{available:"1"===t.payload.mst_available});default:return e}}))}},63708:(e,t,a)=>{"use strict";a.d(t,{n:()=>r,p:()=>n});var n=e=>{var t=e.theme_plugin_files;return"undefined"!==typeof t.available&&!t.available},r=(e,t)=>{if(!e)return"none";if(e&&t)switch(l(e,t)){case-1:return"down";case 0:return"equal";default:return"up"}return"add"},l=(e,t)=>{if(e===t)return 0;for(var a=e.split("."),n=t.split("."),r=a.length>=n.length?a.length:n.length,l=0;l<r;l++){var i=void 0!==a[l]?parseInt(a[l]):0,s=void 0!==n[l]?parseInt(n[l]):0;if(i>s)return 1;if(i<s)return-1}return 0}},18213:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(22497),r=a(53273);const l=()=>(e,t)=>{e(((e,t)=>{})),e(((e,t)=>{e((0,n.KJ)("wpmdbPreMigrationCheck",(t=>e((0,r.DP)(t))))),e((0,n.KJ)("addMigrationStages",(t=>e((0,r.N9)(t))))),e((0,n.KJ)("mdbAddonActions",(async a=>{var n=t(),l=n.theme_plugin_files,i=n.migrations,s=l.theme_files,o=l.plugin_files,c=l.muplugin_files,p=l.other_files,d=l.core_files,u=s?s.enabled:null,m=o?o.enabled:null,_=c?c.enabled:null,g=p?p.enabled:null,f=d?d.enabled:null,h="pull"===i.current_migration.intent?i.remote_site.site_details:i.local_site.site_details,v=Object.keys(h.themes).length>0,b=Object.keys(h.plugins).length>0,E=Object.keys(h.muplugins).length>0,w=Object.keys(h.others).length>0,y=Object.keys(h.core).length>0,O=window.hasOwnProperty("wpmdbmf")&&t().media_files.enabled;return(u&&v||m&&b||_&&E||g&&w||f&&y)&&(!window.hasOwnProperty("wpmdbmf")||window.hasOwnProperty("wpmdbmf")&&!O)?await e((0,r.G_)()):a})))}))}},53273:(e,t,a)=>{"use strict";a.d(t,{BI:()=>E,DP:()=>Z,G_:()=>k,KX:()=>S,LD:()=>g,N9:()=>P,OL:()=>b,RX:()=>T,Vj:()=>h,WZ:()=>y,nL:()=>v,pM:()=>O,q2:()=>R,zk:()=>w});var n=a(42233),r=a(51645),l=a(66055),i=a(36601),s=a(29816),o=a(4516),c=a(66866),p=a(42714),d=a(10304),u=a(98135),m=a(73264),_=a(29942),g=((0,n.__)("Theme & Plugin Files addon","wp-migrate-db"),"TPF"),f={theme_files:"themes",plugin_files:"plugins",muplugin_files:"muplugins",other_files:"others",core_files:"core"},h=()=>(0,n.__)("<b>Addon Missing</b> - The Theme & Plugin Files addon is inactive on the <strong>remote site</strong>. Please install and activate it to enable Theme & Plugin Files migration.","wp-migrate-db"),v=e=>t=>{t({type:r.Dp,payload:e})},b=e=>t=>{t({type:r._5,payload:e})},E=(e,t)=>a=>{a({type:r.bY,payload:{available:e,message:t}})},w=e=>t=>{t({type:r.lJ,payload:e})},y=(e,t)=>{var a={themes:r.fe,plugins:r.Xr,muplugins:r.sW,others:r.Md,core:r.TO};return(0,l.m)(a[t],e)},O=(e,t)=>{var a={themes:r.rR,plugins:r.P,muplugins:r.EJ,others:r.ND,core:r.xE};return(0,l.m)(a[t],e)},T=(e,t)=>{var a={themes:r.HA,plugins:r.CM};return(0,l.m)(a[t],e)},S=(e,t)=>{var a={themes:r.Ni,plugins:r.W3,muplugins:r.vs,others:r.qR,core:r.u8};return(0,l.m)(a[t],e)},N=(e,t)=>{var a=[...t],n={name:{themes:"SELECTED_THEMES_EMPTY",plugins:"SELECTED_PLUGINS_EMPTY",muplugins:"SELECTED_MUPLUGINS_EMPTY",others:"SELECTED_OTHERS_EMPTY",core:"SELECTED_CORE_EMPTY"}[e],panel:{themes:"theme_files",plugins:"plugin_files",muplugins:"muplugin_files",others:"other_files",core:"core_files"}[e]};return a.push(n),a};function Z(e){return(t,a)=>{var n=a().theme_plugin_files,r=n.theme_files,l=n.themes_selected,i=n.themes_excluded,s=n.themes_option,o=n.plugin_files,c=n.plugins_selected,p=n.plugins_excluded,d=n.plugins_option,u=n.muplugin_files,m=n.muplugins_selected,_=n.muplugins_option,g=n.other_files,f=n.others_selected,h=n.others_option,v=n.core_files,b=n.core_selected,E=n.core_option;return r.enabled&&"selected"===s&&0===l.length&&(e=N("themes",e)),r.enabled&&"except"===s&&0===i.length&&(e=N("themes",e)),o.enabled&&"selected"===d&&0===c.length&&(e=N("plugins",e)),o.enabled&&"except"===d&&0===p.length&&(e=N("plugins",e)),u&&u.enabled&&"selected"===_&&0===m.length&&(e=N("muplugins",e)),g&&g.enabled&&"selected"===h&&0===f.length&&(e=N("others",e)),v&&v.enabled&&"selected"===E&&0===b.length&&(e=N("core",e)),e}}function P(e){return(t,a)=>{var n=a(),r=n.theme_plugin_files,l=n.migrations,i=l.local_site,s=l.remote_site,o=l.current_migration,c=o.intent,p=r.theme_files,d=r.plugin_files,u=r.muplugin_files,m=r.other_files,g=r.core_files,f="pull"===c?s.site_details:i.site_details,h="savefile"===c;return p&&p.enabled&&Object.keys(f.themes).length>0&&(!0===h||"true"===(0,_.NR)("theme_files",o,i,s))&&e.push("theme_files"),d&&d.enabled&&Object.keys(f.plugins).length>0&&(!0===h||"true"===(0,_.NR)("plugin_files",o,i,s))&&e.push("plugin_files"),u&&u.enabled&&Object.keys(f.muplugins).length>0&&(!0===h||"true"===(0,_.NR)("muplugin_files",o,i,s))&&e.push("muplugin_files"),m&&m.enabled&&Object.keys(f.others).length>0&&(!0===h||"true"===(0,_.NR)("other_files",o,i,s))&&e.push("other_files"),g&&g.enabled&&e.push("core_files"),e}}var k=()=>async(e,t)=>{var a=e(C()),n=t().theme_plugin_files,r=(0,o.r5)("intent",t());return!!["push","pull","savefile"].includes(r)&&(!!(n.theme_files.enabled||n.plugin_files.enabled||n.muplugin_files.enabled||n.other_files.enabled||n.core_files.enabled)&&(await e((0,i.Z6)("ADDONS_STAGE",[{fn:R,args:[a]}])),!0))},x=(e,t)=>{var a=e.theme_plugin_files,n=(0,o.r5)("intent",e),r="push"===n||"savefile"===n?e.migrations.local_site.site_details[t]:e.migrations.remote_site.site_details[t],l=[];if("all"===a["".concat(t,"_option")])return Object.values(r).forEach((e=>{"savefile"!==n&&e[0].path.includes("wp-migrate-db")||l.push(e[0].path)})),l;if("active"===a["".concat(t,"_option")])return Object.values(r).forEach((e=>{e[0].active&&l.push(e[0].path)})),l;if("selected"===a["".concat(t,"_option")])return a["".concat(t,"_selected")];if("except"===a["".concat(t,"_option")]){var i=a["".concat(t,"_excluded")];return Object.values(r).forEach((e=>{i.includes(e[0].path)||l.push(e[0].path)})),l}},R=function e(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async(r,l)=>{a||r((0,m.F)(t));var s=(0,o.r5)("migration_id",l()),c=(0,o.r5)("stages",l()),p=l().theme_plugin_files,u=x(l(),"plugins"),_=x(l(),"muplugins"),g=x(l(),"themes"),h=x(l(),"others"),v=x(l(),"core"),b=x(l(),f[t]),E=p.excludes,w=p.themes_option,y=p.plugins_option,O=p.muplugins_option,T=p.others_option,S=p.core_option,N=p.plugins_excludes,Z=p.muplugins_excludes,P=p.themes_excludes,k=p.others_excludes,R=p.core_excludes,C={stage:f[t],stages:c,theme_folders:JSON.stringify(g),plugin_folders:JSON.stringify(u),muplugin_folders:JSON.stringify(_),other_folders:JSON.stringify(h),core_folders:JSON.stringify(v),themes_option:w,plugins_option:y,muplugins_option:O,others_option:T,core_option:S,folders:JSON.stringify(b),migration_state_id:s,excludes:JSON.stringify(E),plugins_excludes:JSON.stringify(N),muplugins_excludes:JSON.stringify(Z),themes_excludes:JSON.stringify(P),others_excludes:JSON.stringify(k),core_excludes:JSON.stringify(R)},I=await r((0,d.A)("/tpf-initiate-file-migration",C));if(I){var D={theme_files:(0,n.__)("themes","wp-migrate-db"),plugin_files:(0,n.__)("plugins","wp-migrate-db"),muplugin_files:(0,n.__)("must-use plugins","wp-migrate-db"),other_files:(0,n.__)("others","wp-migrate-db"),core_files:(0,n.__)("core","wp-migrate-db")};if(I.data.recursive_queue)return await r((0,m.T)(t,I,e,D[t]));await r((0,i.Z6)("ADDONS_STAGE",[{fn:A,args:[t,I]}]))}}},A=function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return async(a,r)=>{a((0,l.m)(c.V$,window.wpmdbtp_settings.strings.loading_transfer_queue));var m=(0,o.r5)("migration_id",r()),_={stage:f[t],offset:n,migration_state_id:m},g=await a((0,d.A)("/tpf-get-queue-items",_));if(g){var h=g.data;if("complete"!==h.status){if(!h.hasOwnProperty("queue_status"))return a((0,u.Qc)()),!1;a((0,p.I6)(h.queue_status.size/1e3)),await a((0,i.Z6)("ADDONS_STAGE",[{fn:e,args:[t,g]}]))}else{var v=x(r(),"themes"),b=x(r(),"plugins"),E=x(r(),"muplugins"),w=x(r(),"others"),y=x(r(),"core"),O=x(r(),f[t]),T={currentStage:t,stage:f[t],migration_state_id:m,theme_folders:JSON.stringify(v),plugin_folders:JSON.stringify(b),muplugin_folders:JSON.stringify(E),other_folders:JSON.stringify(w),core_folders:JSON.stringify(y),folders:JSON.stringify(O)};await a((0,i.Z6)("ADDONS_STAGE",[{fn:s.e5,args:[t,"/tpf-transfer-files",T]}]))}}}},C=()=>(e,t)=>{var a=(0,o.r5)("stages",t()),n=["theme_files","plugin_files","muplugin_files","other_files","core_files"];return a.find((e=>n.includes(e)))}},51645:(e,t,a)=>{"use strict";a.d(t,{CM:()=>O,Dp:()=>o,EJ:()=>b,HA:()=>y,Md:()=>g,ND:()=>E,Ni:()=>T,P:()=>v,TO:()=>f,W3:()=>S,Xr:()=>m,ZP:()=>x,_5:()=>c,bY:()=>p,fe:()=>u,lJ:()=>d,qR:()=>Z,rR:()=>h,sW:()=>_,u8:()=>P,vs:()=>N,xE:()=>w});var n=a(86552),r=a(26429),l=a(29950),i=a(9106),s=a(31998),o="ENABLE_THEME_PLUGIN_FILES",c="TOGGLE_THEME_PLUGIN_FILES",p="SET_TPF_AVAILABLE",d="SET_TPF_LICENSED",u="UPDATE_THEMES_OPTION",m="UPDATE_PLUGINS_OPTION",_="UPDATE_MUPLUGINS_OPTION",g="UPDATE_OTHERS_OPTION",f="UPDATE_CORE_OPTION",h="UPDATE_SELECTED_THEMES",v="UPDATE_SELECTED_PLUGINS",b="UPDATE_SELECTED_MUPLUGINS",E="UPDATE_SELECTED_OTHERS",w="UPDATE_SELECTED_CORE",y="UPDATE_EXCLUDED_THEMES",O="UPDATE_EXCLUDED_PLUGINS",T="UPDATE_THEMES_EXCLUDES",S="UPDATE_PLUGINS_EXCLUDES",N="UPDATE_MUPLUGINS_EXCLUDES",Z="UPDATE_OTHERS_EXCLUDES",P="UPDATE_CORE_EXCLUDES",k={available:!1,is_licensed:!1,message:"",theme_files:{enabled:!1},themes_option:"all",themes_selected:[],themes_excluded:[],themes_excludes:".git\nnode_modules",plugin_files:{enabled:!1},plugins_option:"all",plugins_selected:[],plugins_excluded:[],plugins_excludes:".git\nnode_modules",muplugin_files:{enabled:!1},muplugins_option:"selected",muplugins_selected:[],muplugins_excludes:".git\nnode_modules",other_files:{enabled:!1},others_option:"selected",others_selected:[],others_excludes:".git\nnode_modules\n*.sql\n*.log\n*backup*/\n*cache*/\nwflogs/\nupdraft/",core_files:{enabled:!1},core_option:"all",core_selected:[],core_excludes:".git\nnode_modules",state:{status:""}};const x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return(0,r.ZP)(e,(a=>{switch(t.type){case"RESET_APP":return a;case i.$:return(0,n.Z)((0,n.Z)({},a),{},{available:1===window.wpmdb_data.tpf_available,message:""});case s.Pi:return(0,n.Z)((0,n.Z)({},a),{},{state:(0,n.Z)((0,n.Z)({},a.state),{},{status:s.Pi})});case s.wd:return(0,n.Z)((0,n.Z)({},a),{},{state:(0,n.Z)((0,n.Z)({},a.state),{},{status:s.wd})});case o:return a[t.payload].enabled=!0,a;case c:return a[t.payload].enabled=!a[t.payload].enabled,a;case l.Ld:return t.payload.profile.value.theme_plugin_files;case d:return a.is_licensed=t.payload,a;case p:var r=t.payload.available;return a.available=r,t.payload.hasOwnProperty("message")&&(a.message=t.payload.message),r||(a.theme_files.enabled=!1,a.plugin_files.enabled=!1,a.muplugin_files.enabled=!1,a.other_files.enabled=!1,a.core_files.enabled=!1),a;case h:return a.themes_selected=t.payload,a;case v:return a.plugins_selected=t.payload,a;case b:return a.muplugins_selected=t.payload,a;case E:return a.others_selected=t.payload,a;case w:return a.core_selected=t.payload,a;case y:return a.themes_excluded=t.payload,a;case O:return a.plugins_excluded=t.payload,a;case u:return a.themes_option=t.payload,a;case m:return a.plugins_option=t.payload,a;case _:return a.muplugins_option=t.payload,a;case g:return a.others_option=t.payload,a;case f:return a.core_option=t.payload,a;case S:return(0,n.Z)((0,n.Z)({},a),{},{plugins_excludes:t.payload});case N:return(0,n.Z)((0,n.Z)({},a),{},{muplugins_excludes:t.payload});case T:return(0,n.Z)((0,n.Z)({},a),{},{themes_excludes:t.payload});case Z:return(0,n.Z)((0,n.Z)({},a),{},{others_excludes:t.payload});case P:return(0,n.Z)((0,n.Z)({},a),{},{core_excludes:t.payload});case s.dN:return(0,n.Z)((0,n.Z)({},a),{},{available:"1"===t.payload.tpf_available});default:return e}}))}},73264:(e,t,a)=>{"use strict";a.d(t,{F:()=>p,T:()=>d});var n=a(42233),r=a(66055),l=a(29950),i=a(66866),s=a(82174),o=a(42714),c=a(36601),p=e=>t=>{t((0,r.m)(l.f7,e)),t((0,r.m)(i.V$,(0,n.gB)((0,n.__)("Starting file transfer of %s files...","wp-migrate-db"),s.r[e]))),t((0,o.v_)())},d=function(e,t,a){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,n.__)("media library","wp-migrate-db");return async s=>(s((0,r.m)(i.V$,(0,n.gB)((0,n.__)("Scanning %s - %s files found...","wp-migrate-db"),l,parseInt(t.data.items_count||0).toLocaleString()))),await s((0,c.Z6)("ADDONS_STAGE",[{fn:a,args:[e,!0]}])))}},98135:(e,t,a)=>{"use strict";a.d(t,{Qc:()=>s,SF:()=>i,Tu:()=>c,g6:()=>o});var n=a(42233),r=(a(98487),a(4516),a(42714),a(62457)),l=a(66866),i=(e,t,a,n,r,l,i,s)=>{var o=e.target.tagName.toLowerCase();return!r&&("input"!==o&&"label"!==o&&(a?i(t):n?l(t):(l(t),s()),!1))},s=()=>e=>{e((0,r.m)({error_type:l.gF,error_message:(0,n.__)("Queue status not returned from remote.","wp-migrate-db")}))},o=function(e,t,a,r,l){return e?arguments.length>5&&void 0!==arguments[5]&&arguments[5]?(0,n.__)("stepping up failed","wp-migrate-db"):null===t||a||r?null!==t&&a&&!r?(0,n.__)("stepping down","wp-migrate-db"):null!==t&&!a&&r?(0,n.__)("maintaining","wp-migrate-db"):null!==t&&l?(0,n.__)("max reached","wp-migrate-db"):(0,n.__)("initializing","wp-migrate-db"):(0,n.__)("stepping up","wp-migrate-db"):(0,n.__)("static","wp-migrate-db")},c=e=>Object.keys(e).map((t=>e[t][0].path))},29816:(e,t,a)=>{"use strict";a.d(t,{e5:()=>h});var n=a(86552),r=a(42233),l=a(4516),i=a(10304),s=a(36601),o=a(53273),c=a(66055),p=a(66866),d=a(29950),u=a(42714),m=a(82174),_=a(29942),g=a(98135),f=["media_files","theme_files","plugin_files","muplugin_files","other_files","core_files"];function h(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,f=arguments.length>4&&void 0!==arguments[4]&&arguments[4],b=arguments.length>5&&void 0!==arguments[5]&&arguments[5],E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,w=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return async(y,O)=>{var T=!0;null!==o||w||(o=(0,l.r5)("currentMaxPayloadSize",O())),!1===w&&null!==o&&E>=5&&(o=null,w=!0,b=!1,f=!1),y((0,c.m)(p.V$,(0,r.gB)((0,r.__)("Migrating %s files..."),m.r[e]))),y((0,c.m)(d.b4));var S=E<=5,N=await y((0,i.A)(t,(0,n.Z)((0,n.Z)({},a),{},{payloadSize:o,stabilizePayloadSize:f,stepDownSize:b,retries:E,forceHighPerformanceTransfers:!0}),S)),Z=!1;if(!N){if(!S)return;Z=!0}var P=N.data;if(!N||!N.data||"complete"!==N.data.status){var k,x,R=o;if(!Z)if(!0!==N.success)Z=!0;else{var A=Object.keys(P.status),C=P.status.error,I=P.status[A[0]].total_transferred,D=P.status,M=D.current_payload_size,L=D.reached_max_payload_size,F=D.fallback_payload_size;R=M,k=b||L||f,x=I/1e3,!I||C?Z=!0:(y((0,c.m)(d.sr,I)),y((0,c.m)(d.IJ,I)),y((0,c.m)(d.X4,null!==M&&void 0!==M?M:F))),setTimeout((()=>{var t=(0,l.xg)("timer",O());y((0,c.m)(d.NL,{currentStage:e,status:(0,g.g6)(T,o,b,f,L,Z),maxPayloadSize:(0,_.lL)(null!==M&&void 0!==M?M:0),currRequestSize:(0,_.lL)(null!==I&&void 0!==I?I:0),time:Math.floor(t.time/1e3)}))}),0)}return!0===Z?await y((0,s.Z6)("ADDONS_STAGE",[{fn:h,args:[e,t,a,R,!1,!0,E+1,w]}])):(x&&y((0,u.gF)(x)),await y((0,s.Z6)("ADDONS_STAGE",[{fn:h,args:[e,t,a,R,k,!1,0,w]}])))}await y((0,s.Z6)("ADDONS_STAGE",[{fn:v,args:[e,N.data.status]}]))}}function v(e,t){return async(a,n)=>{var r=(0,l.r5)("stages",n());if(a((0,c.m)(d.sP,e)),f.includes(e)){var i=f.indexOf(e),p=f.slice(i+1).find((e=>r.includes(e)));if(p)return await a((0,s.Z6)("ADDONS_STAGE",[{fn:o.q2,args:[p]}]));if("complete"===t)return a((0,s.Z6)(s.ly))}}}},10304:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(29942),r=a(62457),l=a(66866),i=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return async i=>{var s;try{s=await(0,n.op)(e,t)}catch(o){return a||i((0,r.m)({error_type:l.gF,error_message:o})),!1}return s.success?s:(a||(i((0,r.m)({error_type:l.gF,error_message:s.data})),i((0,r.U)())),!1)}}},82174:(e,t,a)=>{"use strict";a.d(t,{r:()=>r});var n=a(42233),r={theme_files:(0,n.__)("theme","wp-migrate-db"),plugin_files:(0,n.__)("plugin","wp-migrate-db"),muplugin_files:(0,n.__)("must-use plugin","wp-migrate-db"),media_files:(0,n.__)("media","wp-migrate-db"),other_files:(0,n.__)("other","wp-migrate-db"),core_files:(0,n.__)("WordPress core","wp-migrate-db")}},95402:(e,t,a)=>{"use strict";a.d(t,{F:()=>r});var n=a(29942),r=e=>{var t,a=e.remote_site,r=e.local_site;switch(e.intent){case"pull":t={domain:{search:(0,n.Ph)(a.url),replace:(0,n.Ph)(r.this_url)},path:{search:a.path,replace:r.this_path}};break;case"push":case"savefile":t={domain:{search:(0,n.Ph)(r.this_url),replace:(0,n.Ph)(a.url)},path:{search:r.this_path,replace:a.path}};break;case"import":t={domain:{search:(0,n.Ph)(a.URL),replace:(0,n.Ph)(r.this_url)},path:{search:a.path,replace:r.this_path}}}return t.domain.enabled=!0,t.path.enabled=!0,t}},34653:(e,t,a)=>{"use strict";a.r(t),a.d(t,{addonsLoaded:()=>b,runAddonsStage:()=>E});var n=a(62295),r=a(65730),l=a(9106),i=a(27325),s=a(38906),o=a(66055),c=a(53273),p=a(78579),d=a(27056),u=a(29942),m=a(22497),_=(e,t,a)=>n=>{n(e(a,t))},g=(e,t)=>t=>{var a=e.media_files,n=e.dbi_api_data;a&&(t(_(p.Um,(0,p.nv)(),"1"===e.migrations.local_site.mf_available)),(0,u.Yu)()&&!1===a.is_licensed&&t((0,p.AN)(v("wp-migrate-db-pro-media-files",n))),(0,u.aE)()&&(0,p.AN)(!0))},f=(e,t)=>t=>{var a=e.theme_plugin_files,n=e.dbi_api_data;a&&(t(_(c.BI,(0,c.Vj)(),"1"===e.migrations.local_site.tpf_available)),(0,u.Yu)()&&!1===a.is_licensed&&t((0,c.zk)(v("wp-migrate-db-pro-theme-plugin-files",n))))},h=e=>(t,a)=>{var n=a(),l=n.profiles,i=n.migrations,s=n.multisite_tools,c=n.dbi_api_data,p=i.current_migration,g=i.local_site,f=p.intent;if(s){t((0,m.KJ)("wpmdb_post_connection_errors",(e=>((0,u.sk)(f,a())&&e.warning.push(g["mst_required_message_".concat(f)]),e)))),t(_(d.Ox,(0,d.o)(),e.mst_available)),(0,u.Yu)()&&!1===s.is_licensed&&t((0,d.Si)(v("wp-migrate-db-pro-multisite-tools",c)));var h=!p.twoMultisites&&("true"===g.is_multisite||e.site_details&&"true"===e.site_details.is_multisite);["push","pull"].includes(f)&&h&&null===l.current_profile&&t((0,o.m)(r.LN))}},v=(e,t)=>!(!t.api_data||!t.api_data.addons_available_list)&&e in t.api_data.addons_available_list;function b(){return(e,t)=>{e({type:l.$});var a=t(),r=a.migrations,i=r.local_site,s=r.remote_site;(0,n.dC)((()=>{e(g(a,s,i)),e(f(a,s,i)),e(h(s,i))}))}}function E(e,t){return async(t,a)=>{var n,r,l=(0,i.u)("delay_between_requests",a());return e.length&&(n=e[0].fn,r=e[0].args),l>0?await(0,s.QK)((()=>t((0,s.Am)(n,r))),1e3*l):await t((0,s.Am)(n,r))}}},40882:(e,t,a)=>{"use strict";a.r(t),a.d(t,{betaOptionToggle:()=>r});var n=a(27325),r=()=>(e,t)=>{(0,n.u)("beta_optin",t())||window.wpmdb_data.is_beta_plugins_installed&&window.confirm(window.wpmdb_strings.rollback_beta_to_stable)&&(window.location=window.wpmdb_data.rollback_to_stable_url)}},34363:(e,t,a)=>{"use strict";a.r(t),a.d(t,{changeConnection:()=>U,connectToRemote:()=>B,copyLicenseToRemote:()=>A,handleTableSelects:()=>L,resetMigration:()=>k,retryOverHTTP:()=>I,setConnectedProfileName:()=>M,setConnectionStatus:()=>Z,setConnectionStatusBatch:()=>P,setError:()=>R,shouldShowSSLNotice:()=>D,updateConnectionState:()=>x,updatePluginOnRemote:()=>C});var n=a(88368),r=a(86552),l=a(12544),i=a.n(l),s=a(62295),o=a(42233),c=a(29942),p=e=>{var t=0,a=window.WPMDBStore.getState();if(0===e.length)return window.wpmdb_strings.connection_info_missing;var r=(e=>{var t=e.split("\n"),a=e;if(1===t.length){var n=e.trim().split(" ");2===n.length&&(!1===window.wpmdb_data.openssl_available&&(n[0]=n[0].replace("https://","http://")),a=n[0]+"\n"+n[1])}return a})(e),l=r.split("\n"),i=(0,n.Z)(l,2),s=i[0],o=i[1];return(0,c.mQ)(s)?("undefined"!==typeof o&&(t=o.length),32!==t&&40!==t?window.wpmdb_strings.connection_info_key_invalid:s===window.wpmdb_data.connection_info[0]?window.wpmdb_strings.connection_info_local_url:o===a.settings.key?window.wpmdb_strings.connection_info_local_key:{url:s,key:o,str:r}):window.wpmdb_strings.connection_info_url_invalid},d=a(66055),u=a(61987),m=a(31998),_=a(58696),g=a(4516),f=a(38906),h=a(14251),v=a(27114),b=a(29950),E=a(22633),w=a(34653),y=a(22497),O=a(47585),T=a(39881),S=a(41221);var N=e=>{var t=e.connectionState,a=void 0===t?{}:t,n=e.result,l=void 0===n?null:n,i=e.intent,o=void 0===i?null:i;return(e,t)=>{(0,s.dC)((()=>{var n=D(t()),i=(0,r.Z)((0,r.Z)({},O.A),{},{button_status:"hidden"});n&&(i.ssl_notice=!0),e(P(i)),l.data.hasOwnProperty("url_used")&&(e(x((0,r.Z)((0,r.Z)({},a),{},{url:l.data.url_used,value:l.data.url_used+" "+a.key}))),delete l.data.url_used),e(L((0,g._P)("this_tables",t()),l.data.tables,(0,g.r5)(["intent","tables_selected","backup_option","backup_tables_selected"],t()))),e((0,h.I8)(!0)),(0,c.aE)()&&e((0,S.Mp)()),!1!==e((0,T.G9)(l,!0,o))&&(e(M()),e(((e,t)=>{var a=["database","save_profile","theme_plugin_files"];null===(0,g.r5)("selected_existing_profile",t())&&a.push("custom_fields","standard_fields","multisite_tools"),(0,_.C)("status",t()).ssl_notice&&a.push("connect"),(0,c.aE)()&&a.push("migration_option"),e((0,y.O)("postConnectionPanelsOpen",a)),(0,s.dC)((()=>{e((0,E.G7)(a)),e((0,y.Kw)("postConnectionPanels")),(0,c.aE)()?(e((0,E.qb)("migration_option","connect")),e((0,w.addonsLoaded)())):e((0,E.qb)("database","connect"))}))})),(0,c.aE)()||e((async e=>{var t=[];window.hasOwnProperty("wpmdbmf")&&t.push("media_files"),window.hasOwnProperty("wpmdbtp")&&t.push("theme_plugin_files"),t.length>0&&(e((0,E.nW)(t)),e((0,w.addonsLoaded)()))})))}))}},Z=(e,t)=>(0,d.m)(u.i6,{key:e,statusVal:t}),P=e=>t=>{t((0,d.m)(u.N_,e))},k=e=>(0,d.m)(m.rK,e),x=e=>(0,d.m)(u.iv,e),R=e=>(0,d.m)(u.i6,{key:"error",statusVal:e}),A=()=>async(e,t)=>{var a=t().migrations.connection_info.connection_state;return await(0,c.op)("/copy-license-to-remote",{url:a.url,key:a.key})},C=e=>async(t,a)=>{var n,r=a().migrations.connection_info.connection_state;try{n=await(0,c.op)("/update-plugin-on-remote",{url:r.url,key:r.key,slug:e})}catch(l){return"AbortError"===l.name?void console.log("fetch aborted",l):(t(F(l.message)),!1)}return n},I=()=>async(e,t)=>{var a=t(),n=(0,r.Z)({},a.migrations.connection_info.connection_state),l=a.migrations.current_migration.intent;n.url=n.url.replace("https","http"),n.value=n.value.replace("https","http"),e(Z("retry_over_http",!0)),e(x(n)),e(B(l))},D=e=>(0,_.C)("status",e).retry_over_http,M=()=>(e,t)=>{var a=(0,g.r5)("intent",t()),n=(0,g._P)("url",t());i()(["push","pull"],a)&&(n=(0,g.FY)("url",t()));var r=n.replace(/(^\w+:|^)\/\//,""),l="push"===a?(0,o.gB)((0,o.__)("Push to %s","wp-migrate-db"),r):(0,o.gB)((0,o.__)("Pull from %s","wp-migrate-db"),r);e((0,h.fJ)(l))},L=(e,t,a)=>{var r=(0,n.Z)(a,4),l=r[0],i=r[1],s=r[2],o=r[3];return(a,n)=>{var r=e,c=t;"pull"===l&&(r=t,c=e);var p=r.filter((e=>i.includes(e)));if(p.length!==i.length&&a({type:b.KU,payload:p}),"backup_manual_select"===s){var d=c.filter((e=>o.includes(e)));d.length!==o.length&&a({type:b.O$,payload:d})}}},F=e=>(t,a)=>{var n,r=(0,v.Y)(e);t((n=r,async(e,t)=>{D(t())&&e(Z("ssl_notice",!0)),n.includes("#197")?e(I()):(n.includes("401 Unauthorized")&&e(P({show_auth_form:!0})),n.includes("#195")&&e(Z("copy_to_remote",!0)),n.includes("#196")&&e(Z("update_plugin_on_remote",!0)),e(Z("error_msg",n)))})),(0,_.C)("status",a()).retry_over_http?t(P({retry_over_http:!1,ssl_notice:!0})):t(((e,t)=>{e((0,d.m)(m.rK,["connect"])),e(P({error:!0,button_status:"",connecting:!1}))}))},B=e=>async(t,a)=>{var n=(0,g.NR)("connection_info",a()).connection_state;if(!0!==(0,g.xg)("backgroundMigrationRunning",a())&&["push","pull"].includes(e)){var l,i,o=t((l="connect_to_remote",e=>{var t=new AbortController;return e((0,d.m)("SET_ABORT_CONTROLLER",{key:l,controller:t})),t}));t((e=>t=>{(0,s.dC)((()=>{t(P({connecting:!0,button_status:"disabled"})),t(x((0,r.Z)({},e)))}))})(n));try{i=await(0,c.op)("/verify-connection",{url:n.url,key:n.key,intent:e},o)}catch(p){return"AbortError"===p.name?void console.log("fetch aborted",p):(t(F(p.message)),!1)}if(i.success)return t(N({connectionState:n,result:i,intent:e})),i;t(F(i))}},U=e=>async(t,a)=>{var n=a(),l=n.migrations.current_migration.intent,i=n.migrations.connection_info.status.pasted;t(P({error:!1,button_status:""}));var o=e.connection_state,c=p(e),d=(0,r.Z)((0,r.Z)({},o),{},{value:c.str,url:c.url,key:c.key});if("string"===typeof c){var u=(0,r.Z)((0,r.Z)({},o),{},{value:e});return(0,s.dC)((()=>{t(x(u)),t(P({error:!0,button_status:"disabled",error_msg:c}))})),c}t(x(d)),i&&t((0,f.Bq)()).then((e=>{!1===e&&(0,s.dC)((()=>{t(B(l,!0)),t(Z("pasted",!1))}))}))}},39881:(e,t,a)=>{"use strict";a.d(t,{G9:()=>p});var n=a(95402),r=a(22497),l=a(4669),i=a(14251),s=a(66055),o=a(29942),c=a(29950);function p(e,t,a){return(p,d)=>{var u=d();p({type:"UPDATE_REMOTE_SITE",payload:e.data});var m=(0,n.F)({intent:a,remote_site:e.data,local_site:u.migrations.local_site});m=p((0,r.O)("wpmdb_standard_replace_values",m)),p((0,l.mX)(m)),p((0,i.uI)("push"===a));var _="pull"===a?e.data.prefix:u.migrations.local_site.this_prefix,g="pull"===a?u.migrations.local_site.this_prefix:e.data.prefix;return p((0,i.OZ)(_,g)),["push","pull"].includes(a)&&(p((0,i.nX)("true"===e.data.site_details.is_multisite&&"true"===u.migrations.local_site.is_multisite)),p((0,s.m)(c.W$,{local_site_mode:void 0!==u.settings.high_performance_transfers?u.settings.high_performance_transfers:u.migrations.local_site.site_details.high_performance_transfers,remote_site_mode:e.data.site_details.high_performance_transfers}))),!!t&&(p(function(e){return t=>{t({type:c.tX,connected:e})}}(t)),p(function(e,t){return(a,n)=>{n().migrations.local_site.this_prefix!==e.data.prefix&&a((0,s.m)("SET_CONNECTION_STATUS",{key:"prefix_mismatch",statusVal:!0})),(0,o.SC)(t,n())&&a((0,i.ED)())}}(e,a)))}}},9106:(e,t,a)=>{"use strict";a.d(t,{$:()=>l,Z:()=>i});var n=a(26429),r={media_files:window.hasOwnProperty("wpmdbmf"),theme_plugin_files:window.hasOwnProperty("wpmdbtp"),multisite_tools:window.hasOwnProperty("wpmdbmst")},l="ADDONS_LOADED";const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;return(0,n.ZP)(e,(a=>"RESET_APP"===t.type?a:e))}},61987:(e,t,a)=>{"use strict";a.d(t,{MS:()=>p,N_:()=>o,i6:()=>s,iv:()=>i});var n=a(86552),r=a(52089),l=a(47585),i="UPDATE_CONNECTION_INFO",s="SET_CONNECTION_STATUS",o="SET_CONNECTION_STATUS_BATCH",c={connection_state:[],status:l.A},p=(0,r.Lq)(c,{RESET_MIGRATION:(e,t)=>(0,n.Z)((0,n.Z)({},c),{},{connection_state:e.connection_state,status:e.status}),SET_CONNECTION_STATUS:(e,t)=>{var a=t.payload,n=a.statusVal,r=a.key;return e.status[r]=n,e},SET_CONNECTION_STATUS_BATCH:(e,t)=>(e.status=(0,n.Z)((0,n.Z)({},e.status),t.payload),e),SET_MIGRATION_CONNECTED:(e,t)=>(e.status.connecting=!1,e),UPDATE_CONNECTION_INFO:(e,t)=>(e.connection_state=t.payload,e),LOAD_PROFILE:(e,t)=>{var a=t.payload.profile.value.connection_info;return(0,n.Z)((0,n.Z)({},a),{},{status:(0,n.Z)({},l.A)})}})},59299:(e,t,a)=>{"use strict";a.d(t,{I:()=>d,Ih:()=>s,ZP:()=>_,_K:()=>l,aJ:()=>p,eD:()=>i,qi:()=>o,x_:()=>c,zB:()=>u});var n=a(86552),r=a(26429),l="SET_API_DATA",i="UPDATE_LICENSE_ERRORS",s="SET_LICENSE_STATUS",o="SET_LICENSE_SAVED",c="SET_LICENCE_UI_STATUS",p="SET_LICENSE_CHECK_CONTEXT",d="SET_API_TIME",u="SET_DBI_DOWN_STATUS",m={display_name:"",user_email:"",license_name:"",licence:{licence_status:window.wpmdb_data.licence_status,licence_ui_status:"",check_again:!1,error_message:"",status:""},license_saved:!1,license_check_context:"ui",license_errors:window.wpmdb_data.license_errors,license_status:{},license_messages:{},license_constant:!1,api_time:0,api_data:window.wpmdb_data.api_data,dbi_down_status:!1};const _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;return(0,r.ZP)(e,(a=>{var r=t.payload;switch(t.type){case l:return(0,n.Z)((0,n.Z)({},a),{},{api_data:r});case c:return(0,n.Z)((0,n.Z)({},a),{},{licence:(0,n.Z)((0,n.Z)({},a.licence),{},{licence_ui_status:r.value})});case"LICENSE_REMOVED":return(0,n.Z)((0,n.Z)({},a),{},{licence:(0,n.Z)((0,n.Z)({},a.licence),{},{licence_status:null})});case i:return(0,n.Z)((0,n.Z)({},a),{},{license_errors:r});case o:return(0,n.Z)((0,n.Z)({},a),{},{license_saved:r});case"CLEAR_LICENSE_ERRORS":return(0,n.Z)((0,n.Z)({},a),{},{license_errors:[],license_status:{}});case s:return(0,n.Z)((0,n.Z)({},a),{},{licence:(0,n.Z)((0,n.Z)({},a.licence),{},{licence_status:t.payload})});case p:return(0,n.Z)((0,n.Z)({},a),{},{license_check_context:t.payload});case d:return(0,n.Z)((0,n.Z)({},a),{},{api_time:t.payload});case"SET_LICENSE_MESSAGES":return(0,n.Z)((0,n.Z)({},a),{},{license_messages:(0,n.Z)((0,n.Z)({},a.license_messages),t.payload),api_data:(0,n.Z)((0,n.Z)({},a.api_data),{},{errors:t.payload})});case"OVERWRITE_LICENCE_STATUS":return(0,n.Z)((0,n.Z)({},a),{},{licence:(0,n.Z)((0,n.Z)({},a.licence),r)});case u:return(0,n.Z)((0,n.Z)({},a),{},{dbi_down_status:r});default:return e}}))}},26547:(e,t,a)=>{"use strict";a.d(t,{Dx:()=>o,EL:()=>d,Ej:()=>i,Qy:()=>m,UL:()=>_,VG:()=>c,WH:()=>u,ci:()=>s,yQ:()=>p});var n=a(86552),r=a(26429),l={status:"",upload_file:"",error:{},file_uploaded:!1,file_size:0,table_sizes:{},table_rows:{},tables:[],file:void 0},i="UPDATE_IMPORT_STATUS",s="SET_IMPORT_DATA",o="SET_UPLOAD_FILE",c="SET_IMPORT_TABLE_DATA",p="RESET_IMPORT_DATA",d="IMPORT_ERROR",u="SET_IMPORT_TABLES",m="SET_IMPORT_FILE",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;return(0,r.ZP)(e,(a=>{switch(t.type){case"RESET_APP":return l;case i:return(0,n.Z)((0,n.Z)({},a),{},{status:t.payload});case o:return(0,n.Z)((0,n.Z)({},a),{},{upload_file:t.payload});case d:return(0,n.Z)((0,n.Z)({},a),{},{error:t.payload});case s:var r=t.payload,_=r.file_uploaded,g=r.upload_file,f=r.file_size;return(0,n.Z)((0,n.Z)({},a),{},{upload_file:g,file_uploaded:_,file_size:f});case c:var h=t.payload,v=h.table_sizes,b=h.table_rows,E=h.tables;return(0,n.Z)((0,n.Z)({},a),{},{table_sizes:v,table_rows:b,tables:E});case u:return(0,n.Z)((0,n.Z)({},a),{},{tables:t.payload});case m:return(0,n.Z)((0,n.Z)({},a),{},{file:t.payload});case p:return l;default:return e}}))}},31998:(e,t,a)=>{"use strict";a.d(t,{Pi:()=>u,ZP:()=>f,dN:()=>_,oQ:()=>p,rK:()=>d,wd:()=>m});var n=a(86552),r=a(20188),l=a(29950),i=a(66441),s=a(61987),o=a(66866),c=a(26547),p="UPDATE_REMOTE_SITE",d="RESET_MIGRATION",u="MIGRATION_STARTED",m="WPMDB_PRE_MIGRATION",_="UPDATE_LOCAL_SITE",g={local_site:window.wpmdb_data,remote_site:{}};const f=(0,r.UY)({local_site:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.local_site,t=arguments.length>1?arguments[1]:void 0,a=(0,n.Z)({},e);if(t.type===_){return["wpmdbmf","wpmdbmst","wpmdbtp"].forEach((e=>{t.payload[e]&&"1"===t.payload[e]?window[e]={enabled:"1"}:window[e]=void 0})),Object.keys(t.payload).forEach((e=>{window.wpmdb_data[e]=t.payload[e]})),(0,n.Z)((0,n.Z)({},e),t.payload)}return a},remote_site:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.remote_site,t=arguments.length>1?arguments[1]:void 0;(0,n.Z)({},e);switch(t.type){case d:return{};case p:return(0,n.Z)({},e),t.payload;default:return e}},connection_info:s.MS,current_migration:l.S_,migration_progress:o.D$,search_replace:i.jC,import_data:c.UL})},67821:(e,t,a)=>{"use strict";a.r(t),a.d(t,{selectFromImportData:()=>l});var n=a(4516),r=e=>e.migrations.import_data;function l(e,t){return(0,n.fX)(r,"import_data",e,t)}},41221:(e,t,a)=>{"use strict";a.d(t,{hr:()=>b,Mp:()=>h,r_:()=>v});var n=a(7354),r=a(62295),l=a(53273),i=a(78579),s=a(4516),o=a(98135),c=a(78052),p=a(66055),d=a(22633),u=a(4669),m=a(14251),_=e=>e.site_migration;var g=a(29950),f=a(38906),h=()=>(e,t)=>{var a,c;if("full"===(a="migrationOption",c=t(),(0,s.fX)(_,"site_migration",a,c))){var d=(0,s._P)("site_details",t()),f=d.themes,h=d.plugins,v=d.others,b=d.muplugins,E=(0,s._P)("this_prefixed_tables",t());(0,r.dC)((()=>{e((0,m.rk)()),e((0,m.zH)(E)),e((0,p.m)(g.F3,["replace_guids","exclude_transients"])),e((0,u.My)()),e((0,u.z$)()),e((0,i.D0)()),e((0,i.Lm)("all")),(0,n.isEmpty)(f)||e((0,l.nL)("theme_files")),(0,n.isEmpty)(h)||e((0,l.nL)("plugin_files")),(0,n.isEmpty)(b)||(e((0,l.nL)("muplugin_files")),e((0,l.pM)((0,o.Tu)(b),"muplugins"))),(0,n.isEmpty)(v)||(e((0,l.nL)("other_files")),e((0,l.pM)((0,o.Tu)(v),"others")))}))}},v=(e,t)=>t=>{(0,r.dC)((()=>{t((0,d.rC)(w(e))),t((0,p.m)(c.ux,e))}))},b=e=>t=>{t((0,f.Bq)()).then((a=>{!1===a&&(t((0,d.rC)(["connect"])),t(E(e)))}))},E=e=>t=>{t((0,p.m)(c.dW,e))},w=e=>{var t=["connect","migration_option"];return"custom"===e?[...t,"database","media_files","theme_plugin_files"]:t}},78052:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>o,dW:()=>i,ux:()=>l});var n=a(86552),r=a(26429),l="UPDATE_MIGRATION_OPTION",i="UPDATE_NOTIFICATION_EMAIL",s={migrationOption:"full",notificationEmail:window.wpmdb_data.site_details.notificationEmail};const o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return(0,r.ZP)(e,(a=>{switch(t.type){case"RESET_APP":return s;case l:return(0,n.Z)((0,n.Z)({},a),{},{migrationOption:t.payload});case i:return(0,n.Z)((0,n.Z)({},a),{},{notificationEmail:t.payload});default:return e}}))}},50247:()=>{}},e=>{e.O(0,[532,951],(()=>{return t=37883,e(e.s=t);var t}));e.O()}]);