/*! UW Human Resources - v1.1.4 - 2016-08-08 11:31 */
var UWHR=UWHR||{};!function(a,b){'use strict';UWHR.VERSION='1.0.0',UWHR.KEYCODES={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},UWHR.getBaseUrl=function(){return'http://hr.uw.edu'===Backbone.history.location.origin?Backbone.history.location.origin+'/':'http://localhost'===Backbone.history.location.origin?Backbone.history.location.origin+'/uwhr':Backbone.history.location.origin+'/uwhrweb/uwhr-stage'},UWHR.getCurrentURL=function(){return Backbone.history.location.origin+Backbone.history.location.pathname},UWHR.elements={cardContent:'.card-content',dropdowns:'.uwhr-dropdowns',mobileMenu:'.uwhr-mobile-menu',mobileMenuToggle:'.uwhr-mobile-menu-toggle',slideshow:'.uwhr-slideshow',accordionMenu:'.uwhr-accordion-menu',search:'.uwhr-search',searchResults:'.uwhr-search-results',toc:'.uwhr-toc'},UWHR.initialize=function(){UWHR.$body=b('body'),UWHR.$window=b(window),UWHR.cardContent=_.map(b(UWHR.elements.cardContent),function(a){return new UWHR.CardContent({el:a})}),UWHR.dropdowns=new UWHR.Dropdowns({el:UWHR.elements.dropdowns}),UWHR.mobileMenu=new UWHR.MobileMenu({el:UWHR.elements.mobileMenu}),UWHR.mobileMenuToggle=new UWHR.MobileMenuToggle({el:UWHR.elements.mobileMenuToggle}),UWHR.slideshow=_.map(b(UWHR.elements.slideshow),function(a){return new UWHR.Slideshow({el:a})}),UWHR.accordionMenu=_.map(b(UWHR.elements.accordionMenu),function(a){return new UWHR.AccordionMenu({el:a})}),UWHR.search=_.map(b(UWHR.elements.search),function(a){return new UWHR.Search({el:a})}),UWHR.searchResults=_.map(b(UWHR.elements.searchResults),function(a){return new UWHR.SearchResults({el:a})}),UWHR.toc=_.map(b(UWHR.elements.toc),function(a){return new UWHR.Toc({el:a})})},b(a).ready(function(){UWHR.initialize()}),b('a[href*="#"]:not([href="#"]):not([data-toggle="collapse"]):not(.sr-only)').click(function(){if(location.pathname.replace(/^\//,'')===this.pathname.replace(/^\//,'')&&location.hostname===this.hostname){var a=b(this.hash);if(a=a.length?a:b('[name='+this.hash.slice(1)+']'),a.length)return b('html, body').animate({scrollTop:a.offset().top},1e3),!1}})}(document,jQuery);var UWHR=UWHR||{};!function(a){'use strict';UWHR.AccordionMenu=Backbone.View.extend({events:{'keydown .nav-link':'keydownHandler','click .nav-link.children-toggle':'subMenuHandler'},OPENCLASS:'is-open',initialize:function(){},keydownHandler:function(b){this._arrowKeyPressed(b)&&b.preventDefault();var c=a(b.currentTarget),d=c.hasClass('children-toggle'),e=c.parent().hasClass(this.OPENCLASS),f=c.parent().parent().hasClass('children');switch(b.keyCode){case UWHR.KEYCODES.TAB:break;case UWHR.KEYCODES.UP:e?c.next().children('li').last().find('.nav-link').focus():c.parent().prev().find('.nav-link').first().focus();break;case UWHR.KEYCODES.DOWN:e?this._focusIntoSubMenu(b):c.parent().next().find('.nav-link').first().focus();break;case UWHR.KEYCODES.LEFT:f&&c.parent().parent().collapse('toggle').parent().toggleClass(this.OPENCLASS).find('.nav-link').first().focus();break;case UWHR.KEYCODES.RIGHT:d&&(e?this._focusIntoSubMenu(b):(this._toggleOpenClass(b),this._collapseSubMenu(b),this._collapseOtherSubMenus(b),this._focusIntoSubMenu(b)));break;case UWHR.KEYCODES.SPACE:b.preventDefault(),d&&(e?this._focusIntoSubMenu(b):(this._toggleOpenClass(b),this._collapseSubMenu(b),this._collapseOtherSubMenus(b),this._focusIntoSubMenu(b)));break;case UWHR.KEYCODES.ENTER:d&&(e?this._focusIntoSubMenu(b):(this._toggleOpenClass(b),this._collapseSubMenu(b),this._collapseOtherSubMenus(b),this._focusIntoSubMenu(b)));break;case UWHR.KEYCODES.ESC:f?c.parent().parent().collapse('toggle').parent().toggleClass(this.OPENCLASS).find('.nav-link').first().focus():this._collapseOtherSubMenus(b);break;default:var g=String.fromCharCode(b.which),h=c.parent().siblings('.nav-item').map(function(){return a(this).children('.nav-link')});h.filter(function(){return this.text().charAt(0)===g}).focus()}},subMenuHandler:function(a){this._toggleOpenClass(a),this._collapseOtherSubMenus(a)},_toggleOpenClass:function(b){a(b.currentTarget).parent().toggleClass(this.OPENCLASS)},_collapseSubMenu:function(b){a(b.currentTarget).next().collapse('toggle')},_collapseOtherSubMenus:function(b){var c=a(b.currentTarget).parent();c.siblings('li.'+this.OPENCLASS).removeClass(this.OPENCLASS).find('ul').collapse('hide'),c.find('li.'+this.OPENCLASS).removeClass(this.OPENCLASS).find('ul').collapse('hide')},_focusIntoSubMenu:function(b){a(b.currentTarget).next().children('li').first().find('.nav-link').focus()},_arrowKeyPressed:function(a){return a.keyCode===UWHR.KEYCODES.DOWN||a.keyCode===UWHR.KEYCODES.UP?!0:!1}})}(jQuery);var UWHR=UWHR||{};!function(){'use strict';UWHR.CardContent=Backbone.View.extend({events:{mouseenter:'mouseoverHandler',mouseleave:'mouseoutHandler',focus:'mouseoverHandler',focusout:'mouseoutHandler'},initialize:function(){},mouseoverHandler:function(){Modernizr.touch||this.$el.addClass('is-over')},mouseoutHandler:function(){Modernizr.touch||this.$el.removeClass('is-over')}})}();var UWHR=UWHR||{};!function(a){'use strict';UWHR.Dropdowns=Backbone.View.extend({events:{'mouseenter .top-level-nav-item':'mouseEnterHandler','mouseleave .top-level-nav-item':'mouseLeaveHandler','keydown .top-level-nav-item > button':'keydownHandler','keydown .dropdown-popup .nav-item > a':'inDropdownKeydownHandler'},element:{popup:'.dropdown-popup',topLevel:'.top-level-nav-item'},chunk:7,tabIndex:0,currentPopup:{},initialize:function(){this.format()},format:function(){var b=this.chunk;_.each(a(this.element.popup),function(c){var d=_.countBy(a(c).children(),function(b){return a(b).hasClass('has-children')?'groups':'singles'});d.groups&&a(c).addClass('dropdown-popup-size-'+d.groups),d.singles&&(a(c).addClass('dropdown-popup-size-'+Math.ceil(d.singles/b)),_.each(_.groupBy(a(c).children(),function(a,c){return Math.floor(c/b)}),function(b){a(_.first(b)).addClass('first-in-menu-group'),a(b).wrapAll('<div class="menu-group" />')}))})},mouseEnterHandler:function(b){this._openDropdown(a(b.currentTarget))},mouseLeaveHandler:function(b){this._closeDropdown(a(b.currentTarget))},keydownHandler:function(b){this._arrowKeyPressed(b)&&b.preventDefault();var c=a(b.currentTarget);switch(b.keyCode){case UWHR.KEYCODES.ENTER:this._openDropdown(c.parent()),this._focusInDropdown(c);break;case UWHR.KEYCODES.DOWN:this._openDropdown(c.parent()),this._focusInDropdown(c);break;case UWHR.KEYCODES.SPACE:b.preventDefault(),this._openDropdown(c.parent()),this._focusInDropdown(c);break;case UWHR.KEYCODES.LEFT:c.parent().prev(this.element.topLevel).find('button').focus();break;case UWHR.KEYCODES.RIGHT:c.parent().next(this.element.topLevel).find('button').focus();break;default:var d=String.fromCharCode(b.which),e=c.parent().siblings(this.element.topLevel).map(function(){return a(this).children('button')});e.filter(function(){return this.text().charAt(0)===d}).focus()}},inDropdownKeydownHandler:function(b){this._arrowKeyPressed(b)&&b.preventDefault();var c=a(b.currentTarget),d=c.parent().parent().closest('.dropdown-popup');d.is(this.currentPopup)||(this.currentPopup=d,this.tabIndex=0);var e=d.find('a').map(function(){return a(this)});switch(b.keyCode){case UWHR.KEYCODES.TAB:b.preventDefault(),b.shiftKey?0===this.tabIndex?this.tabIndex=e.length-1:this.tabIndex--:this.tabIndex===e.length-1?this.tabIndex=0:this.tabIndex++,e[this.tabIndex].focus();break;case UWHR.KEYCODES.DOWN:this.tabIndex===e.length-1?this.tabIndex=0:this.tabIndex++,e[this.tabIndex].focus();break;case UWHR.KEYCODES.UP:0===this.tabIndex?this.tabIndex=e.length-1:this.tabIndex--,e[this.tabIndex].focus();break;case UWHR.KEYCODES.LEFT:d.parent().prev(this.element.topLevel).find('button').focus(),this._closeDropdown(d.parent());break;case UWHR.KEYCODES.RIGHT:d.parent().next(this.element.topLevel).find('button').focus(),this._closeDropdown(d.parent());break;case UWHR.KEYCODES.ESC:d.parent().children('button').focus(),this._closeDropdown(d.parent());break;default:var f=String.fromCharCode(b.which);e.filter(function(){return this.text().charAt(0)===f}).focus()}},_openDropdown:function(a){a.addClass('open').find(this.element.popup).attr('aria-expanded','true')},_closeDropdown:function(a){a.removeClass('open').find(this.element.popup).attr('aria-expanded','false')},_focusInDropdown:function(a){a.next().find('a').first().focus()},_arrowKeyPressed:function(a){return a.keyCode===UWHR.KEYCODES.DOWN||a.keyCode===UWHR.KEYCODES.UP?!0:!1}})}(jQuery);var UWHR=UWHR||{};!function(){'use strict';UWHR.MobileMenuToggle=Backbone.View.extend({events:{click:'toggleMenu'},initialize:function(){},toggleMenu:function(){UWHR.$body.toggleClass('mobile-menu-open')}})}();var UWHR=UWHR||{};!function(a){'use strict';UWHR.MobileMenu=Backbone.View.extend({events:{'click .children-toggle':'subMenuHandler','click .uwhr-mobile-menu-global-toggle':'moreLessMenuHandler'},OPENCLASS:'is-open',moreOpen:!1,initialize:function(){},subMenuHandler:function(a){this._toggleCollapseIcon(a),this._collapseOtherSubMenus(a)},moreLessMenuHandler:function(b){var c=a(b.currentTarget);c.toggleClass(this.OPENCLASS),this.moreOpen=!this.moreOpen,this.moreOpen?c.html('<i class="fa fa-minus"></i> Less'):c.html('<i class="fa fa-plus"></i> More')},_collapseOtherSubMenus:function(b){var c=a(b.currentTarget).parent();c.siblings('li.'+this.OPENCLASS).removeClass(this.OPENCLASS).find('ul').collapse('hide'),c.find('li.'+this.OPENCLASS).removeClass(this.OPENCLASS).find('ul').collapse('hide')},_collapseSubMenu:function(b){a(b.currentTarget).parent().find('ul').collapse('toggle')},_toggleCollapseIcon:function(b){a(b.currentTarget).parent().toggleClass(this.OPENCLASS)}})}(jQuery);var UWHR=UWHR||{};!function(a){'use strict';UWHR.SearchResults=Backbone.View.extend({events:{'click .search-result-title':'logResultMatch','click .page-link':'paginationEventHandler','change .mobile-filtering .filter':'syncSidebarFilters','change .sidebar-filtering .filter':'syncMobileFilters','click #formReset':'formReset'},resultsPerPage:10,paginationTemplate:_.template("<nav class=\"text-xs-center\" role=\"navigation\"><ul class=\"pagination\"><%= pages %></ul></nav>"),initialize:function(){this.$form=this.$el.find('form.uwhr-search'),this.$resultsMeta=this.$el.find('.search-results-meta'),this.$countMeta=this.$el.find('#countCurrentPage'),this.$results=this.$el.find('.search-results'),this.$pagination=this.$el.find('.search-results-pagination'),this.results=_.map(a('.search-result'),function(a){return a}),_.each(_.groupBy(this.results,function(a,b){return Math.floor(b/this.resultsPerPage)},this),this._wrap),this.pages=this._grabPages(),this.sidebarFilters=this._grabSidebarFilters(),this.mobileFilters=this._grabMobileFilters(),this.render()},render:function(){if(this.results.length>this.resultsPerPage){var a=_.reduce(_.map(this.pages,this._buildPagination),function(a,b){return a+b});this.$pagination.html(this.paginationTemplate({pages:a})),this._moveDubsToLastPage()}this._isSortingByRelevance&&this._appendResultNums(),this._updateCountPageMeta(_.first(this.pages))},_wrap:function(b,c){a(b).wrapAll('<ul class="results-page" id=page-'+c+' />')},_grabPages:function(){return _.each(a('.results-page'),function(a){return a})},_grabSidebarFilters:function(){return _.each(a('.sidebar-filtering input'),function(a){return a})},_grabMobileFilters:function(){return _.each(a('.mobile-filtering input'),function(a){return a})},_buildPagination:function(b,c){var d='';return 0===c&&(a(b).addClass('current'),d=' active'),c>0&&a(b).addClass('hidden'),'<li class="page-item '+d+'"><a class="page-link" id=page-'+c+' href="#">'+(c+1)+'</a></li>'},_moveDubsToLastPage:function(){a('#searchingDubs').detach().appendTo(_.last(this.pages))},_appendResultNums:function(){_.each(a(this.pages[0]).find('.search-result-title'),function(b,c){a(b).attr('data-ga-result',c+1)})},syncSidebarFilters:function(){_.each(this.mobileFilters,function(b,c){var d=a(b);d.prop('checked')?a(this.sidebarFilters[c]).prop('checked',!0):a(this.sidebarFilters[c]).prop('checked',!1)},this)},syncMobileFilters:function(){_.each(this.sidebarFilters,function(b,c){var d=a(b);d.prop('checked')?a(this.mobileFilters[c]).prop('checked',!0):a(this.mobileFilters[c]).prop('checked',!1)},this)},formReset:function(b){b.preventDefault(),_.each(this.sidebarFilters,function(b,c){a(this.sidebarFilters[c]).prop('checked',!1)},this),_.each(this.mobileFilters,function(b,c){a(this.mobileFilters[c]).prop('checked',!1)},this),this.submitForm()},logResultMatch:function(b){if(this._isSortingByRelevance){var c=a(b.currentTarget),d=c.attr('data-ga-result');d&&ga('send','event',{eventCategory:'Search',eventAction:'Clicked Result',eventLabel:searchQuery,eventValue:d})}},submitForm:function(){this.$form.submit()},paginationEventHandler:function(b){b.preventDefault();var c=a(b.currentTarget);this._hidePage(c),this._showPage(c),this._updateCountPageMeta(this.$results.find('.results-page#'+c.attr('id'))),a('html, body').animate({scrollTop:this.$el.offset().top-50},500)},_hidePage:function(b){b.parent().siblings('li.active').removeClass('active'),a(_.find(this.pages,function(b){return a(b).hasClass('current')})).addClass('hidden').removeClass('current')},_showPage:function(a){a.parent().addClass('active');var b=a.attr('id');this.$results.find('.results-page#'+b).addClass('current').removeClass('hidden')},_updateCountPageMeta:function(b){this.$countMeta.html(a(b).find('.search-result').length)},_isSortingByRelevance:function(){for(var a=window.location.search.substr(1).split('&'),b={},c=0;c<a.length;c++){var d=a[c].split('=');b[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return'undefined'==typeof b.sort?!0:!1}})}(jQuery);var UWHR=UWHR||{};!function(a){'use strict';UWHR.Search=Backbone.View.extend({events:{'click .search-icon':'submitForm','click #search-submit':'submitForm','click .erase-icon':'clearInput','focus .search-field':'clearWarning','keyup .search-field':'inputHandler','keydown .erase-icon':'eraseIconKeydownHandler','keydown .search-icon':'searchIconKeydownHandler'},initialize:function(){this.$input=this.$el.find('input.search-input'),this._toggleEraseIcon()},searchIconKeydownHandler:function(a){switch(a.keyCode){case UWHR.KEYCODES.ENTER:this.submitForm(a)}},eraseIconKeydownHandler:function(a){switch(a.keyCode){case UWHR.KEYCODES.ENTER:this.clearInput()}},inputHandler:function(){this._toggleEraseIcon()},_toggleEraseIcon:function(){this._isInputEmpty()?this.$el.find('.erase-icon').addClass('hide'):this.$el.find('.erase-icon').removeClass('hide')},_isInputEmpty:function(){var b=this.$input.val();return''===b||0===a.trim(b).length?!0:!1},submitForm:function(a){return a.preventDefault(),this._isInputEmpty()?(this.logError('empty'),void this.$input.parent().addClass('has-warning')):(this.$el.submit(),!1)},clearWarning:function(){this.$input.parent().removeClass('has-warning'),this.$el.find('.text-warning').remove()},clearInput:function(){this.$input.val(''),this.$el.find('.erase-icon').addClass('hide')},logError:function(a){var b='';switch(a){case'empty':b='<i class="fa fa-exclamation-circle"></i> Please enter a search query'}''!==b&&(this.clearWarning(),this.$el.find('.search-feedback').after('<p class="text-warning text-sm">'+b+'</p>'))}})}(jQuery);var UWHR=UWHR||{};!function(a){'use strict';UWHR.Slideshow=Backbone.View.extend({events:{'click .next-slide-button':'clickButtonHandler'},initialize:function(){this.$nextButton=this.$el.find('.next-slide-button'),this.slides=_.map(a('.uwhr-slide'),function(a){return a})},clickButtonHandler:function(a){this._letsGo(a)},_letsGo:function(b){var c=a(b.currentTarget).attr('id');this._jumpToSlide(c)},_jumpToSlide:function(b){var c=_.find(this.slides,function(c){return a(c).is('#'+b)}),d=a(c),e=_.find(this.slides,function(b){return a(b).hasClass('active')});d.addClass('active'),a(e).removeClass('active');var f=d.is(_.last(this.slides))?_.first(this.slides):d.next('.uwhr-slide');this._updateButton(f)},_updateButton:function(b){this.$nextButton.attr('id',a(b).attr('id')).html('<span>NEXT</span>'+a(b).find('.slide-title').text())}})}(jQuery);var UWHR=UWHR||{};!function(a){'use strict';UWHR.Toc=Backbone.View.extend({events:{'click #tocBtn':'clickHandler'},closed:!0,initialize:function(){},clickHandler:function(){var b=this.$el.find('#tocBtn');this.closed?b.text('View Less'):(b.text('View All'),a('html, body').animate({scrollTop:this.$el.offset().top},1e3)),this.closed=!this.closed}})}(jQuery);